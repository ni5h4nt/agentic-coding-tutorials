<!DOCTYPE html>
<html lang="en" x-data="tutorialApp()" x-init="init()" :class="{ 'dark': darkMode }">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLI Generator Tutorial - Complete Claude Code Mastery</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#8b5cf6',
                    }
                }
            }
        }
    </script>

    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <!-- Prism.js for code highlighting -->
    <link href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-bash.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-toml.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-markdown.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-yaml.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/components/prism-json.min.js"></script>

    <!-- Mermaid.js for diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <style>
        [x-cloak] { display: none !important; }
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #6366f1; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #4f46e5; }
        html { scroll-behavior: smooth; }
        pre[class*="language-"] { margin: 1rem 0; border-radius: 0.5rem; position: relative; }
        .copy-button { position: absolute; top: 0.5rem; right: 0.5rem; padding: 0.25rem 0.5rem; background: rgba(99, 102, 241, 0.8); color: white; border: none; border-radius: 0.25rem; cursor: pointer; font-size: 0.75rem; opacity: 0; transition: opacity 0.2s; }
        pre:hover .copy-button { opacity: 1; }
        .copy-button:hover { background: rgba(99, 102, 241, 1); }
        .copy-button.copied { background: #10b981; }
        /* Mermaid Diagram Styling */
        .mermaid-container {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
            border: 1px solid #e2e8f0;
            border-radius: 1rem;
            padding: 1.5rem;
            margin: 1.5rem 0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            overflow-x: auto;
        }
        .dark .mermaid-container {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
            border-color: #334155;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
        }
        .mermaid-container-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #64748b;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .dark .mermaid-container-title {
            color: #94a3b8;
            border-color: #334155;
        }
        .mermaid-container-title svg {
            width: 1rem;
            height: 1rem;
        }
        .mermaid {
            background: transparent;
            display: flex;
            justify-content: center;
            padding: 0.5rem;
        }
        .dark .mermaid {
            filter: invert(0.92) hue-rotate(180deg);
        }
        .mermaid svg {
            max-width: 100%;
            height: auto !important;
        }
        /* Make flowchart nodes prettier */
        .mermaid .node rect,
        .mermaid .node circle,
        .mermaid .node ellipse,
        .mermaid .node polygon,
        .mermaid .node path {
            stroke-width: 2px !important;
        }
        .mermaid .edgePath path {
            stroke-width: 2px !important;
        }

        /* Mermaid Walkthrough Animation Styles */
        .mermaid-walkthrough {
            position: relative;
        }
        .mermaid-controls {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 0.5rem 0.75rem;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
        }
        .dark .mermaid-controls {
            background: rgba(30, 41, 59, 0.7);
            border-color: #475569;
        }
        .mermaid-controls button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 2rem;
            height: 2rem;
            border-radius: 0.375rem;
            border: 1px solid #e2e8f0;
            background: white;
            color: #64748b;
            cursor: pointer;
            transition: all 0.15s ease;
        }
        .dark .mermaid-controls button {
            background: #334155;
            border-color: #475569;
            color: #94a3b8;
        }
        .mermaid-controls button:hover {
            background: #f1f5f9;
            color: #6366f1;
            border-color: #6366f1;
        }
        .dark .mermaid-controls button:hover {
            background: #475569;
            color: #818cf8;
            border-color: #818cf8;
        }
        .mermaid-controls button.active {
            background: #6366f1;
            color: white;
            border-color: #6366f1;
        }
        .mermaid-controls button svg {
            width: 1rem;
            height: 1rem;
        }
        .mermaid-controls button svg.hidden {
            display: none;
        }
        .mermaid-step-indicator {
            font-size: 0.75rem;
            color: #64748b;
            margin-left: 0.5rem;
            font-weight: 500;
        }
        .dark .mermaid-step-indicator {
            color: #94a3b8;
        }
        .mermaid-step-description {
            flex: 1;
            font-size: 0.8125rem;
            color: #475569;
            margin-left: 0.75rem;
            padding-left: 0.75rem;
            border-left: 2px solid #e2e8f0;
            min-height: 1.25rem;
        }
        .dark .mermaid-step-description {
            color: #94a3b8;
            border-color: #475569;
        }
        .mermaid-kbd-hint {
            font-size: 0.625rem;
            color: #94a3b8;
            margin-left: auto;
            display: flex;
            gap: 0.25rem;
        }
        .dark .mermaid-kbd-hint {
            color: #64748b;
        }
        .mermaid-kbd-hint kbd {
            padding: 0.125rem 0.375rem;
            background: #f1f5f9;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
            font-family: inherit;
            font-size: 0.625rem;
        }
        .dark .mermaid-kbd-hint kbd {
            background: #1e293b;
            border-color: #475569;
        }

        /* Node animation states */
        .mermaid.walkthrough-active .node,
        .mermaid.walkthrough-active .edgePath,
        .mermaid.walkthrough-active .edgePaths > g,
        .mermaid.walkthrough-active [class*="edge"] {
            opacity: 0.25;
            transition: opacity 0.3s ease;
        }
        .mermaid.walkthrough-active .node.highlighted,
        .mermaid.walkthrough-active g.highlighted {
            opacity: 1 !important;
        }
        .mermaid.walkthrough-active .edgePath.highlighted path,
        .mermaid.walkthrough-active .highlighted path,
        .mermaid.walkthrough-active path.highlighted {
            opacity: 1 !important;
            stroke-width: 3px !important;
        }
        /* Use filter for glow effect instead of transform (avoids SVG position issues) */
        .mermaid.walkthrough-active .node.highlighted rect,
        .mermaid.walkthrough-active .node.highlighted polygon,
        .mermaid.walkthrough-active .node.highlighted circle,
        .mermaid.walkthrough-active .node.highlighted path,
        .mermaid.walkthrough-active .highlighted rect,
        .mermaid.walkthrough-active .highlighted polygon {
            filter: drop-shadow(0 0 6px rgba(99, 102, 241, 0.6)) drop-shadow(0 0 12px rgba(99, 102, 241, 0.3));
        }

        /* Edge flow animation - flowing dashes traveling towards arrows */
        @keyframes edgeFlow {
            0% { stroke-dashoffset: 30; }
            100% { stroke-dashoffset: 0; }
        }

        /* Dim non-highlighted edges but keep markers visible */
        .mermaid.walkthrough-active .edgePaths path.flowchart-link {
            opacity: 0.15;
            transition: opacity 0.3s ease;
        }

        /* Keep arrowhead markers always visible */
        .mermaid.walkthrough-active marker,
        .mermaid.walkthrough-active marker path,
        .mermaid.walkthrough-active defs path,
        .mermaid.walkthrough-active path.arrowMarkerPath {
            opacity: 1 !important;
        }

        /* Highlighted edge animation - use high specificity to override Mermaid */
        .mermaid.walkthrough-active path.flowchart-link.highlighted,
        .mermaid.walkthrough-active .edgePaths path.highlighted,
        .mermaid.walkthrough-active path.edge-thickness-normal.highlighted,
        .mermaid.walkthrough-active path.highlighted.flowchart-link {
            opacity: 1 !important;
            stroke: #6366f1 !important;
            stroke-width: 3px !important;
            stroke-dasharray: 6, 10 !important;
            stroke-dashoffset: 0;
            stroke-linecap: round !important;
            animation: edgeFlow 0.5s linear infinite !important;
            filter: drop-shadow(0 0 4px rgba(99, 102, 241, 0.7));
        }

        /* Hover exploration mode */
        .mermaid.hover-mode .node {
            cursor: pointer;
            transition: opacity 0.2s ease;
        }
        .mermaid.hover-mode.hovering .node:not(.hover-connected) {
            opacity: 0.25;
        }
        .mermaid.hover-mode.hovering .edgePath:not(.hover-connected) {
            opacity: 0.15;
        }
        .mermaid.hover-mode .node.hover-connected {
            opacity: 1;
        }
        .mermaid.hover-mode .edgePath.hover-connected path {
            stroke-width: 3px !important;
            opacity: 1;
        }

        /* Reduced motion preference */
        @media (prefers-reduced-motion: reduce) {
            .mermaid.walkthrough-active .edgePath.highlighted path {
                animation: none;
            }
            .mermaid.walkthrough-active .node,
            .mermaid.walkthrough-active .edgePath {
                transition: opacity 0.1s ease;
            }
        }

        .progress-bar { transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        .bookmark-pulse { animation: pulse 0.3s ease-in-out; }
        @keyframes highlight { 0% { background-color: rgba(99, 102, 241, 0.3); } 100% { background-color: transparent; } }
        .section-highlight { animation: highlight 2s ease-out; }

        /* Before/After comparison boxes */
        .comparison-box pre {
            overflow-x: auto;
            max-width: 100%;
            white-space: pre;
            margin: 0;
            padding: 0.5rem;
            background: rgba(0, 0, 0, 0.05);
            border-radius: 0.375rem;
        }
        .dark .comparison-box pre {
            background: rgba(0, 0, 0, 0.2);
        }
        .comparison-box pre code {
            display: block;
            overflow-wrap: normal;
            word-break: normal;
        }

        /* Subsection headers with bookmark */
        .subsection-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            scroll-margin-top: 5rem;
        }
        .subsection-header h3 {
            margin: 0;
        }
        .subsection-bookmark {
            opacity: 0;
            transition: opacity 0.2s, transform 0.2s;
            padding: 0.25rem;
            color: #9ca3af;
            flex-shrink: 0;
        }
        .subsection-header:hover .subsection-bookmark,
        .subsection-bookmark.bookmarked {
            opacity: 1;
        }
        .subsection-bookmark:hover {
            color: #6366f1;
            transform: scale(1.1);
        }
        .subsection-bookmark.bookmarked {
            color: #6366f1;
        }
        .subsection-bookmark svg {
            width: 1.25rem;
            height: 1.25rem;
        }
        .dark .subsection-bookmark {
            color: #6b7280;
        }
        .dark .subsection-bookmark:hover {
            color: #818cf8;
        }
        .dark .subsection-bookmark.bookmarked {
            color: #818cf8;
        }
        table { width: 100%; border-collapse: collapse; margin: 1rem 0; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #e5e7eb; }
        .dark th, .dark td { border-color: #374151; }
        th { font-weight: 600; background: #f9fafb; }
        .dark th { background: #1f2937; }
        .checklist-item { display: flex; align-items: center; gap: 0.5rem; padding: 0.5rem 0; }
        .checklist-item input[type="checkbox"] { width: 1.25rem; height: 1.25rem; accent-color: #6366f1; }
        .nav-item.active { background: linear-gradient(90deg, rgba(99, 102, 241, 0.1) 0%, transparent 100%); border-left: 3px solid #6366f1; }
        .callout { padding: 1rem; border-radius: 0.5rem; margin: 1rem 0; }
        .callout-info { background: #dbeafe; border-left: 4px solid #3b82f6; }
        .callout-warning { background: #fef3c7; border-left: 4px solid #f59e0b; }
        .callout-success { background: #d1fae5; border-left: 4px solid #10b981; }
        .callout-danger { background: #fee2e2; border-left: 4px solid #ef4444; }
        .dark .callout-info { background: rgba(59, 130, 246, 0.2); }
        .dark .callout-warning { background: rgba(245, 158, 11, 0.2); }
        .dark .callout-success { background: rgba(16, 185, 129, 0.2); }
        .dark .callout-danger { background: rgba(239, 68, 68, 0.2); }

        /* Animated Roadmap Styles */
        .roadmap { position: relative; padding: 2rem 0; }
        .roadmap-track {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #e5e7eb 0%, #e5e7eb 100%);
            transform: translateY(-50%);
            border-radius: 2px;
            z-index: 0;
        }
        .dark .roadmap-track { background: #374151; }
        .roadmap-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #10b981);
            border-radius: 2px;
            transition: width 1s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .roadmap-weeks {
            position: relative;
            display: flex;
            justify-content: space-between;
            z-index: 1;
        }
        .roadmap-week {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1;
        }
        .week-badge {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.875rem;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            z-index: 2;
        }
        .week-badge.pending {
            background: #f3f4f6;
            color: #9ca3af;
            border: 3px solid #e5e7eb;
        }
        .dark .week-badge.pending {
            background: #1f2937;
            color: #6b7280;
            border-color: #374151;
        }
        .week-badge.active {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: 3px solid #6366f1;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
            animation: pulse-glow 2s infinite;
        }
        .week-badge.completed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 3px solid #10b981;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(99, 102, 241, 0.5); }
            50% { box-shadow: 0 0 30px rgba(99, 102, 241, 0.8); }
        }
        .week-label {
            margin-top: 0.75rem;
            font-size: 0.75rem;
            font-weight: 600;
            text-align: center;
            opacity: 0.8;
        }
        .week-title {
            font-size: 0.625rem;
            color: #6b7280;
            text-align: center;
        }
        .dark .week-title { color: #9ca3af; }

        /* Day Progress Node */
        .day-node {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease;
        }
        .day-node:hover { transform: translateY(-4px); }
        .day-circle {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.75rem;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .day-circle.pending {
            background: #f9fafb;
            color: #9ca3af;
            border: 2px solid #e5e7eb;
        }
        .dark .day-circle.pending {
            background: #1f2937;
            color: #6b7280;
            border-color: #374151;
        }
        .day-circle.current {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: 2px solid transparent;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
            animation: bounce-soft 2s infinite;
        }
        .day-circle.completed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border: 2px solid transparent;
        }
        .day-circle.completed::after {
            content: '✓';
            position: absolute;
            font-size: 0.875rem;
        }
        .day-circle.completed span { opacity: 0; }
        @keyframes bounce-soft {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-3px); }
        }
        .day-label {
            margin-top: 0.5rem;
            font-size: 0.625rem;
            text-align: center;
            max-width: 4rem;
            line-height: 1.2;
        }

        /* Progress Ring */
        .progress-ring {
            transform: rotate(-90deg);
        }
        .progress-ring-circle {
            transition: stroke-dashoffset 1s cubic-bezier(0.4, 0, 0.2, 1);
            stroke-linecap: round;
        }

        /* Animated connector lines */
        .connector-line {
            height: 3px;
            background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
            flex: 1;
            margin: 0 0.25rem;
            position: relative;
            overflow: hidden;
        }
        .dark .connector-line { background: linear-gradient(90deg, transparent, #374151, transparent); }
        .connector-line.active::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, #6366f1, transparent);
            animation: flow 2s infinite;
        }
        @keyframes flow {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Mini progress for day section headers */
        .mini-progress {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        .mini-dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            background: #e5e7eb;
            transition: all 0.3s ease;
        }
        .dark .mini-dot { background: #374151; }
        .mini-dot.completed { background: #10b981; }
        .mini-dot.current {
            background: #6366f1;
            animation: pulse 1.5s infinite;
        }

        /* Floating particles background */
        .particles {
            position: absolute;
            inset: 0;
            overflow: hidden;
            pointer-events: none;
        }
        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            animation: float-up 8s infinite;
        }
        @keyframes float-up {
            0% { transform: translateY(100%) scale(0); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) scale(1); opacity: 0; }
        }

        /* Completion celebration animation */
        @keyframes celebrate {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes confetti-fall {
            0% { transform: translateY(-100%) rotate(0deg); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 100;
            overflow: hidden;
        }
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            animation: confetti-fall 3s ease-out forwards;
        }

        /* Celebration Overlay */
        .celebration-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(8px);
            z-index: 200;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: fade-in 0.3s ease-out;
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        .celebration-modal {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            border-radius: 1.5rem;
            padding: 2.5rem;
            text-align: center;
            max-width: 400px;
            margin: 1rem;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            animation: modal-pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
            position: relative;
            overflow: hidden;
        }
        .dark .celebration-modal {
            background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
        }
        @keyframes modal-pop {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .celebration-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 1.5rem;
            background: linear-gradient(135deg, #10b981, #059669);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: icon-bounce 0.6s ease-out 0.3s both;
        }
        @keyframes icon-bounce {
            0% { transform: scale(0); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        .celebration-icon svg {
            width: 40px;
            height: 40px;
            color: white;
        }
        .celebration-title {
            font-size: 1.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }
        .celebration-day {
            font-size: 1.125rem;
            color: #374151;
            margin-bottom: 1rem;
        }
        .dark .celebration-day {
            color: #d1d5db;
        }
        .celebration-progress {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 1rem;
            background: #f1f5f9;
            border-radius: 1rem;
            margin-bottom: 1.5rem;
        }
        .dark .celebration-progress {
            background: #1e293b;
        }
        .celebration-progress-ring {
            width: 50px;
            height: 50px;
            position: relative;
        }
        .celebration-progress-ring svg {
            transform: rotate(-90deg);
        }
        .celebration-progress-ring circle {
            fill: none;
            stroke-width: 4;
        }
        .celebration-progress-ring .bg {
            stroke: #e2e8f0;
        }
        .dark .celebration-progress-ring .bg {
            stroke: #334155;
        }
        .celebration-progress-ring .progress {
            stroke: url(#progress-gradient);
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease-out;
        }
        .celebration-progress-text {
            text-align: left;
        }
        .celebration-progress-count {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1e293b;
        }
        .dark .celebration-progress-count {
            color: #f1f5f9;
        }
        .celebration-progress-label {
            font-size: 0.875rem;
            color: #64748b;
        }
        .celebration-btn {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 0.75rem;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .celebration-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -10px rgba(99, 102, 241, 0.5);
        }
        .celebration-sparkles {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
        }
        .celebration-sparkle {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #fbbf24;
            border-radius: 50%;
            animation: sparkle 1.5s ease-in-out infinite;
        }
        @keyframes sparkle {
            0%, 100% { opacity: 0; transform: scale(0); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* Day circle highlight animation */
        .day-circle.just-completed {
            animation: circle-celebrate 1s ease-out;
        }
        @keyframes circle-celebrate {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7); }
            50% { transform: scale(1.3); box-shadow: 0 0 0 15px rgba(16, 185, 129, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(16, 185, 129, 0); }
        }

        /* Enhanced completion badge */
        .completion-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.875rem;
            transition: all 0.3s ease;
        }
        .completion-badge.completed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            animation: celebrate 0.5s ease-out;
        }
        .completion-badge.in-progress {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
        }
        .completion-badge.pending {
            background: #f3f4f6;
            color: #6b7280;
        }
        .dark .completion-badge.pending {
            background: #374151;
            color: #9ca3af;
        }
        .completion-badge svg {
            width: 1rem;
            height: 1rem;
        }

        /* Section header enhancements */
        .section-header {
            position: relative;
            padding-bottom: 1.5rem;
            margin-bottom: 2rem;
            border-bottom: 1px solid #e5e7eb;
        }
        .dark .section-header {
            border-bottom-color: #374151;
        }
        .section-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 4rem;
            height: 3px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6);
            border-radius: 2px;
            transition: width 0.3s ease;
        }
        .section-header.completed::after {
            background: linear-gradient(90deg, #10b981, #059669);
            width: 100%;
        }

        /* Day section styling */
        .day-section {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
            border: 1px solid #e5e7eb;
            position: relative;
        }
        .dark .day-section {
            background: #1f2937;
            border-color: #374151;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }
        /* Left border accent for day sections */
        .day-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            bottom: 0;
            width: 4px;
            border-radius: 1rem 0 0 1rem;
        }
        .day-section.week-1::before {
            background: linear-gradient(180deg, #3b82f6, #6366f1);
        }
        .day-section.week-2::before {
            background: linear-gradient(180deg, #8b5cf6, #a855f7);
        }
        .day-section.week-3::before {
            background: linear-gradient(180deg, #10b981, #059669);
        }
        .day-section.reference::before {
            background: linear-gradient(180deg, #6b7280, #374151);
        }

        /* Week separator banner */
        .week-banner {
            position: relative;
            padding: 2rem 0;
            margin: 3rem 0;
            text-align: center;
        }
        .week-banner::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, #e5e7eb 20%, #e5e7eb 80%, transparent);
        }
        .dark .week-banner::before {
            background: linear-gradient(90deg, transparent, #374151 20%, #374151 80%, transparent);
        }
        .week-banner-content {
            position: relative;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            padding: 1rem 2rem;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border: 1px solid #e5e7eb;
        }
        .dark .week-banner-content {
            background: #1f2937;
            border-color: #374151;
        }
        .week-banner-icon {
            width: 3rem;
            height: 3rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 0.5rem;
        }
        .week-banner.week-1 .week-banner-icon {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
        }
        .week-banner.week-2 .week-banner-icon {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
        }
        .week-banner.week-3 .week-banner-icon {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        .week-banner-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .week-banner.week-1 .week-banner-title {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .week-banner.week-2 .week-banner-title {
            background: linear-gradient(135deg, #8b5cf6, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .week-banner.week-3 .week-banner-title {
            background: linear-gradient(135deg, #10b981, #059669);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .week-banner.reference .week-banner-icon {
            background: linear-gradient(135deg, #6b7280, #374151);
        }
        .week-banner.reference .week-banner-title {
            background: linear-gradient(135deg, #6b7280, #374151);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .week-banner-subtitle {
            font-size: 0.875rem;
            color: #6b7280;
        }
        .dark .week-banner-subtitle {
            color: #9ca3af;
        }
        .week-banner-days {
            font-size: 0.75rem;
            color: #9ca3af;
            margin-top: 0.25rem;
        }

        /* Day divider between days within same week */
        .day-divider {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 2rem 0;
            color: #9ca3af;
        }
        .day-divider::before,
        .day-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
        }
        .dark .day-divider::before,
        .dark .day-divider::after {
            background: linear-gradient(90deg, transparent, #374151, transparent);
        }
        .day-divider-dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            background: #d1d5db;
        }
        .dark .day-divider-dot {
            background: #4b5563;
        }

        /* Day card styling (legacy, keep for compatibility) */
        .day-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .dark .day-card {
            background: #1f2937;
        }
        .day-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #6366f1, #8b5cf6, #10b981);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.5s ease;
        }
        .day-card.completed::before {
            transform: scaleX(1);
        }
        .day-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.15);
        }

        /* Smooth number counter animation */
        @keyframes count-up {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .stat-number {
            animation: count-up 0.5s ease-out;
            font-variant-numeric: tabular-nums;
        }

        /* Enhanced sidebar navigation */
        .nav-day {
            position: relative;
            padding-left: 2rem;
            transition: all 0.2s ease;
        }
        .nav-day::before {
            content: '';
            position: absolute;
            left: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            width: 0.5rem;
            height: 0.5rem;
            border-radius: 50%;
            background: #e5e7eb;
            transition: all 0.3s ease;
        }
        .dark .nav-day::before {
            background: #374151;
        }
        .nav-day.completed::before {
            background: #10b981;
            box-shadow: 0 0 8px rgba(16, 185, 129, 0.5);
        }
        .nav-day.current::before {
            background: #6366f1;
            box-shadow: 0 0 8px rgba(99, 102, 241, 0.5);
            animation: pulse 2s infinite;
        }
        .nav-day:hover {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 0.5rem;
        }

        /* Stats card with hover effect */
        .stats-card {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border-radius: 1rem;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
            border: 1px solid rgba(99, 102, 241, 0.2);
        }
        .stats-card:hover {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.15), rgba(139, 92, 246, 0.15));
            transform: scale(1.02);
            border-color: rgba(99, 102, 241, 0.4);
        }
        .stats-card .stat-value {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* Streak flame animation */
        @keyframes flame {
            0%, 100% { transform: scaleY(1) scaleX(1); }
            25% { transform: scaleY(1.1) scaleX(0.95); }
            50% { transform: scaleY(1.2) scaleX(0.9); }
            75% { transform: scaleY(1.05) scaleX(0.97); }
        }
        .streak-flame {
            animation: flame 0.5s ease-in-out infinite;
            display: inline-block;
        }

        /* Fixed Right Progress Indicator */
        .progress-sidebar {
            position: fixed;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 40;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.125rem;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(8px);
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            min-width: 2.5rem;
        }
        .dark .progress-sidebar {
            background: rgba(31, 41, 55, 0.95);
            border-color: rgba(255, 255, 255, 0.08);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        /* Progress item (dot + number) */
        .progress-item {
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 1.5rem;
            height: 1.5rem;
            border-radius: 50%;
            background: #f3f4f6;
            font-size: 0.625rem;
            font-weight: 600;
            color: #9ca3af;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            border: 2px solid transparent;
        }
        .dark .progress-item {
            background: #374151;
            color: #6b7280;
        }
        .progress-item:hover {
            transform: scale(1.15);
            background: #e5e7eb;
        }
        .dark .progress-item:hover {
            background: #4b5563;
        }
        .progress-item.completed {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
            border-color: #059669;
        }
        .progress-item.completed .item-number {
            display: none;
        }
        .progress-item.completed::after {
            content: '✓';
            font-size: 0.75rem;
            font-weight: bold;
        }
        .progress-item.current {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            animation: progress-pulse 2s infinite;
        }
        @keyframes progress-pulse {
            0%, 100% {
                box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.3);
            }
            50% {
                box-shadow: 0 0 0 5px rgba(99, 102, 241, 0.15);
            }
        }

        /* Current section expanded label */
        .progress-current-label {
            position: absolute;
            right: calc(100% + 0.5rem);
            top: 50%;
            transform: translateY(-50%);
            padding: 0.375rem 0.625rem;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            font-size: 0.625rem;
            font-weight: 600;
            white-space: nowrap;
            border-radius: 0.375rem;
            box-shadow: 0 2px 8px rgba(99, 102, 241, 0.3);
            opacity: 1;
            transition: all 0.3s ease;
        }
        .progress-current-label::after {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 4px solid transparent;
            border-left-color: #8b5cf6;
        }

        /* Tooltip for non-current items */
        .progress-item .tooltip {
            position: absolute;
            right: calc(100% + 0.5rem);
            top: 50%;
            transform: translateY(-50%);
            padding: 0.375rem 0.625rem;
            background: #1f2937;
            color: white;
            font-size: 0.625rem;
            font-weight: 500;
            white-space: nowrap;
            border-radius: 0.375rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
            pointer-events: none;
        }
        .dark .progress-item .tooltip {
            background: white;
            color: #1f2937;
        }
        .progress-item .tooltip::after {
            content: '';
            position: absolute;
            left: 100%;
            top: 50%;
            transform: translateY(-50%);
            border: 4px solid transparent;
            border-left-color: #1f2937;
        }
        .dark .progress-item .tooltip::after {
            border-left-color: white;
        }
        .progress-item:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }
        .progress-item.current .tooltip {
            display: none;
        }

        /* Week divider with label */
        .progress-week-divider {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            margin: 0.375rem 0;
            width: 100%;
        }
        .progress-week-divider::before,
        .progress-week-divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: #e5e7eb;
        }
        .dark .progress-week-divider::before,
        .dark .progress-week-divider::after {
            background: #4b5563;
        }
        .progress-week-divider span {
            font-size: 0.5rem;
            font-weight: 700;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Progress summary at bottom */
        .progress-summary {
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e5e7eb;
            text-align: center;
            width: 100%;
        }
        .dark .progress-summary {
            border-top-color: #4b5563;
        }
        .progress-summary-count {
            font-size: 0.75rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        .progress-summary-label {
            font-size: 0.5rem;
            color: #9ca3af;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Hide on mobile, show on larger screens */
        @media (max-width: 1024px) {
            .progress-sidebar {
                display: none;
            }
        }
        @media (max-width: 1280px) {
            .progress-current-label {
                display: none;
            }
        }

        /* Sticky Notes Styles */
        .note-button {
            opacity: 0;
            transition: opacity 0.2s, transform 0.2s;
            padding: 0.25rem;
            color: #9ca3af;
            flex-shrink: 0;
            cursor: pointer;
            background: none;
            border: none;
        }
        .subsection-header:hover .note-button,
        .note-button.has-note {
            opacity: 1;
        }
        /* Always show note button on h2 headers */
        h2 > .note-button {
            opacity: 0.5;
        }
        h2:hover > .note-button,
        h2 > .note-button.has-note {
            opacity: 1;
        }
        .note-button:hover {
            color: #f59e0b;
            transform: scale(1.1);
        }
        .note-button.has-note {
            color: #f59e0b;
        }
        .note-button svg {
            width: 1.25rem;
            height: 1.25rem;
        }
        .dark .note-button {
            color: #6b7280;
        }
        .dark .note-button:hover {
            color: #fbbf24;
        }
        .dark .note-button.has-note {
            color: #fbbf24;
        }

        /* Note indicator badge */
        .note-indicator {
            position: absolute;
            top: -2px;
            right: -2px;
            width: 8px;
            height: 8px;
            background: #f59e0b;
            border-radius: 50%;
            border: 2px solid white;
        }
        .dark .note-indicator {
            border-color: #1f2937;
        }

        /* Note editor inline */
        .note-editor {
            margin-top: 0.75rem;
            background: #fffbeb;
            border: 1px solid #fcd34d;
            border-radius: 0.5rem;
            padding: 0.75rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        }
        .dark .note-editor {
            background: #292524;
            border-color: #78716c;
        }
        .note-editor textarea {
            width: 100%;
            min-height: 80px;
            padding: 0.5rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.375rem;
            font-size: 0.875rem;
            resize: vertical;
            background: white;
            color: #1f2937;
        }
        .dark .note-editor textarea {
            background: #1c1917;
            border-color: #44403c;
            color: #e7e5e4;
        }
        .note-editor textarea:focus {
            outline: none;
            border-color: #f59e0b;
            box-shadow: 0 0 0 2px rgba(245, 158, 11, 0.2);
        }
        .note-editor-buttons {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        .note-btn {
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
        }
        .note-btn-save {
            background: #f59e0b;
            color: white;
            border: none;
        }
        .note-btn-save:hover {
            background: #d97706;
        }
        .note-btn-cancel {
            background: transparent;
            border: 1px solid #d1d5db;
            color: #6b7280;
        }
        .note-btn-cancel:hover {
            background: #f3f4f6;
        }
        .dark .note-btn-cancel {
            border-color: #44403c;
            color: #a8a29e;
        }
        .dark .note-btn-cancel:hover {
            background: #292524;
        }
        .note-btn-delete {
            background: transparent;
            border: 1px solid #fca5a5;
            color: #ef4444;
        }
        .note-btn-delete:hover {
            background: #fee2e2;
        }
        .dark .note-btn-delete:hover {
            background: #450a0a;
        }

        /* Notes panel floating button */
        .notes-fab {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            width: 3.5rem;
            height: 3.5rem;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .notes-fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(245, 158, 11, 0.5);
        }
        .notes-fab svg {
            width: 1.5rem;
            height: 1.5rem;
            color: white;
        }
        .notes-fab-badge {
            position: absolute;
            top: -4px;
            right: -4px;
            min-width: 20px;
            height: 20px;
            background: #ef4444;
            color: white;
            border-radius: 10px;
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0 4px;
        }

        /* Notes panel */
        .notes-panel {
            position: fixed;
            bottom: 6rem;
            right: 1.5rem;
            width: 360px;
            max-height: 70vh;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
            z-index: 49;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        .dark .notes-panel {
            background: #1f2937;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.4);
        }
        .notes-panel-header {
            padding: 1rem;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .notes-panel-title {
            font-weight: 600;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .notes-panel-close {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            padding: 0.25rem;
            opacity: 0.8;
            transition: opacity 0.2s;
        }
        .notes-panel-close:hover {
            opacity: 1;
        }
        .notes-panel-body {
            flex: 1;
            overflow-y: auto;
            padding: 0.5rem;
        }
        .notes-panel-empty {
            padding: 2rem;
            text-align: center;
            color: #9ca3af;
        }
        .note-card {
            background: #fffbeb;
            border: 1px solid #fcd34d;
            border-radius: 0.5rem;
            padding: 0.75rem;
            margin-bottom: 0.5rem;
        }
        .dark .note-card {
            background: #292524;
            border-color: #78716c;
        }
        .note-card-header {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        .note-card-section {
            font-size: 0.75rem;
            font-weight: 600;
            color: #92400e;
            cursor: pointer;
            transition: color 0.2s;
        }
        .note-card-section:hover {
            color: #d97706;
            text-decoration: underline;
        }
        .dark .note-card-section {
            color: #fbbf24;
        }
        .note-card-copy,
        .note-card-delete {
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            padding: 0.125rem;
            transition: color 0.2s;
        }
        .note-card-copy:hover {
            color: #10b981;
        }
        .note-card-copy.copied {
            color: #10b981;
        }
        .note-card-delete:hover {
            color: #ef4444;
        }
        .note-card-content {
            font-size: 0.875rem;
            color: #374151;
            white-space: pre-wrap;
            word-break: break-word;
        }
        .dark .note-card-content {
            color: #d1d5db;
        }
        @media (max-width: 640px) {
            .notes-panel {
                left: 1rem;
                right: 1rem;
                width: auto;
            }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">

    <!-- Fixed Right Progress Indicator -->
    <nav class="progress-sidebar" aria-label="Tutorial progress">
        <!-- Week 1: Days 1-5 -->
        <div class="progress-week-divider"><span>W1</span></div>
        <template x-for="day in [1,2,3,4,5]" :key="day">
            <a :href="'#day-' + day"
               class="progress-item"
               :class="{
                   'completed': completedDays.includes(day),
                   'current': currentSection === 'day-' + day
               }">
                <span class="item-number" x-text="day"></span>
                <span class="tooltip" x-text="dayTitles[day]"></span>
                <span x-show="currentSection === 'day-' + day" class="progress-current-label" x-text="dayTitles[day]"></span>
            </a>
        </template>

        <!-- Week 2: Days 6-10 -->
        <div class="progress-week-divider"><span>W2</span></div>
        <template x-for="day in [6,7,8,9,10]" :key="day">
            <a :href="'#day-' + day"
               class="progress-item"
               :class="{
                   'completed': completedDays.includes(day),
                   'current': currentSection === 'day-' + day
               }">
                <span class="item-number" x-text="day"></span>
                <span class="tooltip" x-text="dayTitles[day]"></span>
                <span x-show="currentSection === 'day-' + day" class="progress-current-label" x-text="dayTitles[day]"></span>
            </a>
        </template>

        <!-- Week 3: Days 11-14 (combined) -->
        <div class="progress-week-divider"><span>W3</span></div>
        <a href="#day-11-12"
           class="progress-item"
           :class="{
               'completed': completedDays.includes(11) && completedDays.includes(12),
               'current': currentSection === 'day-11-12'
           }">
            <span class="item-number" style="font-size: 0.5rem;">11</span>
            <span class="tooltip">Documentation</span>
            <span x-show="currentSection === 'day-11-12'" class="progress-current-label">Documentation</span>
        </a>
        <a href="#day-13-14"
           class="progress-item"
           :class="{
               'completed': completedDays.includes(13) && completedDays.includes(14),
               'current': currentSection === 'day-13-14'
           }">
            <span class="item-number" style="font-size: 0.5rem;">14</span>
            <span class="tooltip">Final Testing</span>
            <span x-show="currentSection === 'day-13-14'" class="progress-current-label">Final Testing</span>
        </a>

        <!-- Appendices -->
        <div class="progress-week-divider"><span>REF</span></div>
        <a href="#appendix-a"
           class="progress-item"
           :class="{ 'current': currentSection === 'appendix-a' }">
            <span class="item-number">A</span>
            <span class="tooltip">Troubleshooting</span>
            <span x-show="currentSection === 'appendix-a'" class="progress-current-label">Troubleshooting</span>
        </a>
        <a href="#appendix-b"
           class="progress-item"
           :class="{ 'current': currentSection === 'appendix-b' }">
            <span class="item-number">B</span>
            <span class="tooltip">Quick Reference</span>
            <span x-show="currentSection === 'appendix-b'" class="progress-current-label">Quick Reference</span>
        </a>
        <a href="#appendix-c"
           class="progress-item"
           :class="{ 'current': currentSection === 'appendix-c' }">
            <span class="item-number">C</span>
            <span class="tooltip">Extension Ideas</span>
            <span x-show="currentSection === 'appendix-c'" class="progress-current-label">Extension Ideas</span>
        </a>

        <!-- Progress Summary -->
        <div class="progress-summary">
            <div class="progress-summary-count" x-text="completedDays.length + '/14'"></div>
            <div class="progress-summary-label">Done</div>
        </div>
    </nav>

    <!-- Top Navigation Bar -->
    <nav class="fixed top-0 left-0 right-0 h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-50 flex items-center justify-between px-4 lg:px-6">
        <div class="flex items-center gap-4">
            <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path></svg>
            </button>
            <h1 class="text-lg font-bold bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent">CLI Generator Tutorial</h1>
        </div>
        <div class="hidden md:flex items-center gap-4 flex-1 max-w-md mx-8">
            <div class="flex-1 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden">
                <div class="progress-bar h-full bg-gradient-to-r from-primary to-secondary rounded-full" :style="'width: ' + progressPercent + '%'"></div>
            </div>
            <span class="text-sm font-medium" x-text="progressPercent + '%'"></span>
        </div>
        <div class="flex items-center gap-2">
            <button @click="showBookmarks = !showBookmarks" class="relative p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700" title="Bookmarks">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                <span x-show="bookmarks.length > 0" class="absolute -top-1 -right-1 w-4 h-4 bg-primary text-white text-xs rounded-full flex items-center justify-center" x-text="bookmarks.length"></span>
            </button>
            <button @click="toggleDarkMode()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700" title="Toggle dark mode">
                <svg x-show="!darkMode" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                <svg x-show="darkMode" class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            </button>
            <button @click="resetProgress()" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 text-red-500" title="Reset progress">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
            </button>
        </div>
    </nav>

    <!-- Bookmarks Dropdown -->
    <div x-show="showBookmarks" x-cloak @click.outside="showBookmarks = false" class="fixed top-16 right-4 w-80 max-h-96 overflow-y-auto bg-white dark:bg-gray-800 rounded-lg shadow-xl border border-gray-200 dark:border-gray-700 z-50">
        <div class="p-4">
            <h3 class="font-semibold mb-3">Bookmarks</h3>
            <template x-if="bookmarks.length === 0"><p class="text-gray-500 text-sm">No bookmarks yet.</p></template>
            <template x-for="bookmark in bookmarks" :key="bookmark.id">
                <div class="flex items-center justify-between py-2 border-b border-gray-100 dark:border-gray-700 last:border-0">
                    <a :href="'#' + bookmark.id" @click="showBookmarks = false" class="text-sm hover:text-primary truncate flex-1" x-text="bookmark.title"></a>
                    <button @click="removeBookmark(bookmark.id)" class="p-1 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                    </button>
                </div>
            </template>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full lg:translate-x-0'" class="fixed top-16 left-0 bottom-0 w-72 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 overflow-y-auto z-40 transition-transform duration-200">
        <nav class="p-4">
            <div class="mb-4">
                <a href="#overview" @click="sidebarOpen = false" :class="{'nav-item active': currentSection === 'overview'}" class="nav-item block py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">Overview</a>
            </div>
            <div class="mb-4">
                <button @click="week1Open = !week1Open" class="w-full flex items-center justify-between py-2 px-3 font-semibold text-primary">
                    <span>Week 1: Foundation</span>
                    <svg :class="week1Open ? 'rotate-90' : ''" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
                <div x-show="week1Open" x-collapse class="ml-2 space-y-1">
                    <template x-for="day in [1,2,3,4,5]" :key="day">
                        <a :href="'#day-' + day" @click="sidebarOpen = false" :class="{'nav-item active': currentSection === 'day-' + day}" class="nav-item flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">
                            <input type="checkbox" :checked="completedDays.includes(day)" @click.stop="toggleDay(day)" class="rounded">
                            <span x-text="'Day ' + day + ': ' + dayTitles[day]"></span>
                        </a>
                    </template>
                </div>
            </div>
            <div class="mb-4">
                <button @click="week2Open = !week2Open" class="w-full flex items-center justify-between py-2 px-3 font-semibold text-secondary">
                    <span>Week 2: Intelligence</span>
                    <svg :class="week2Open ? 'rotate-90' : ''" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
                <div x-show="week2Open" x-collapse class="ml-2 space-y-1">
                    <template x-for="day in [6,7,8,9,10]" :key="day">
                        <a :href="'#day-' + day" @click="sidebarOpen = false" :class="{'nav-item active': currentSection === 'day-' + day}" class="nav-item flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">
                            <input type="checkbox" :checked="completedDays.includes(day)" @click.stop="toggleDay(day)" class="rounded">
                            <span x-text="'Day ' + day + ': ' + dayTitles[day]"></span>
                        </a>
                    </template>
                </div>
            </div>
            <div class="mb-4">
                <button @click="week3Open = !week3Open" class="w-full flex items-center justify-between py-2 px-3 font-semibold text-green-600">
                    <span>Week 3: Polish</span>
                    <svg :class="week3Open ? 'rotate-90' : ''" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
                <div x-show="week3Open" x-collapse class="ml-2 space-y-1">
                    <a href="#day-11-12" @click="sidebarOpen = false" :class="{'nav-item active': currentSection === 'day-11-12'}" class="nav-item flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">
                        <input type="checkbox" :checked="completedDays.includes(11)" @click.stop="toggleDay(11); toggleDay(12)" class="rounded">
                        <span>Days 11-12: Documentation</span>
                    </a>
                    <a href="#day-13-14" @click="sidebarOpen = false" :class="{'nav-item active': currentSection === 'day-13-14'}" class="nav-item flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">
                        <input type="checkbox" :checked="completedDays.includes(13)" @click.stop="toggleDay(13); toggleDay(14)" class="rounded">
                        <span>Days 13-14: Testing & Release</span>
                    </a>
                </div>
            </div>
            <div class="mb-4">
                <button @click="appendicesOpen = !appendicesOpen" class="w-full flex items-center justify-between py-2 px-3 font-semibold text-gray-600 dark:text-gray-400">
                    <span>Appendices</span>
                    <svg :class="appendicesOpen ? 'rotate-90' : ''" class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
                </button>
                <div x-show="appendicesOpen" x-collapse class="ml-2 space-y-1">
                    <a href="#appendix-a" @click="sidebarOpen = false" class="nav-item block py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">A: Troubleshooting</a>
                    <a href="#appendix-b" @click="sidebarOpen = false" class="nav-item block py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">B: Quick Reference</a>
                    <a href="#appendix-c" @click="sidebarOpen = false" class="nav-item block py-2 px-3 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-sm">C: Extension Ideas</a>
                </div>
            </div>
        </nav>
    </aside>

    <div x-show="sidebarOpen" x-cloak @click="sidebarOpen = false" class="fixed inset-0 bg-black/50 z-30 lg:hidden"></div>

    <!-- Main Content -->
    <main class="lg:ml-72 pt-16 min-h-screen">
        <div class="max-w-4xl mx-auto px-4 py-8 lg:px-8">

            <!-- Overview Section -->
            <section id="overview" class="mb-16" x-intersect:enter="currentSection = 'overview'">
                <div class="flex items-center gap-3 mb-6">
                    <h1 class="text-4xl font-bold">Personal CLI Tool Generator</h1>
                    <button @click="toggleBookmark('overview', 'Overview')" :class="isBookmarked('overview') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('overview') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <p class="text-xl text-gray-600 dark:text-gray-400 mb-8">Build a tool that generates CLI applications from natural language while mastering every Claude Code concept</p>

                <div class="grid md:grid-cols-3 gap-4 mb-8">
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"><div class="text-sm text-gray-500 mb-1">Timeline</div><div class="font-semibold">2-3 weeks</div></div>
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"><div class="text-sm text-gray-500 mb-1">Difficulty</div><div class="font-semibold">Intermediate</div></div>
                    <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700"><div class="text-sm text-gray-500 mb-1">Prerequisites</div><div class="font-semibold">Python basics, CLI familiarity</div></div>
                </div>

                <h2 class="text-2xl font-bold mb-4">Why This Project?</h2>
                <div class="bg-gradient-to-r from-primary/10 to-secondary/10 rounded-xl p-6 mb-6">
                    <p class="font-medium mb-2">You describe:</p>
                    <blockquote class="italic text-gray-600 dark:text-gray-400 mb-4 pl-4 border-l-4 border-primary">"I need a CLI that converts images between formats, with options for quality and resize"</blockquote>
                    <p class="font-medium mb-2">You get:</p>
                    <pre class="!bg-gray-900 !m-0"><code class="language-bash">imgconvert input.png output.jpg --quality 85 --resize 800x600</code></pre>
                </div>

                <h3 class="text-xl font-semibold mb-4">Pain Points Solved by Claude Code</h3>
                <div class="overflow-x-auto">
                    <table>
                        <thead><tr><th>Pain Point</th><th>Claude Code Solution</th></tr></thead>
                        <tbody>
                            <tr><td>Re-explaining CLI preferences every time</td><td><strong>CLAUDE.md</strong></td></tr>
                            <tr><td>Typing repetitive generation prompts</td><td><strong>Slash Commands</strong></td></tr>
                            <tr><td>Forgetting help text or input validation</td><td><strong>Hooks</strong></td></tr>
                            <tr><td>Wanting suggestions while describing features</td><td><strong>Skills</strong></td></tr>
                            <tr><td>Generating tests and implementation separately</td><td><strong>Subagents</strong></td></tr>
                            <tr><td>Checking PyPI for name conflicts</td><td><strong>MCP Tools</strong></td></tr>
                            <tr><td>Sharing your generator with others</td><td><strong>Plugins</strong></td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-4">Learning Journey</h3>

                <!-- Animated Progress Roadmap -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-200 dark:border-gray-700 relative overflow-hidden">
                    <!-- Floating particles -->
                    <div class="particles">
                        <template x-for="i in 8" :key="i">
                            <div class="particle" :style="'left: ' + (i * 12) + '%; animation-delay: ' + (i * 0.8) + 's'"></div>
                        </template>
                    </div>

                    <!-- Week Progress Track -->
                    <div class="roadmap mb-8">
                        <div class="roadmap-track">
                            <div class="roadmap-progress" :style="'width: ' + (progressPercent * 1.1) + '%'"></div>
                        </div>
                        <div class="roadmap-weeks">
                            <div class="roadmap-week">
                                <div class="week-badge" :class="week1Complete ? 'completed' : (week1Started ? 'active' : 'pending')">
                                    <span x-show="week1Complete">✓</span>
                                    <span x-show="!week1Complete">1</span>
                                </div>
                                <div class="week-label text-primary">Foundation</div>
                                <div class="week-title">Days 1-5</div>
                            </div>
                            <div class="roadmap-week">
                                <div class="week-badge" :class="week2Complete ? 'completed' : (week2Started ? 'active' : 'pending')">
                                    <span x-show="week2Complete">✓</span>
                                    <span x-show="!week2Complete">2</span>
                                </div>
                                <div class="week-label text-secondary">Intelligence</div>
                                <div class="week-title">Days 6-10</div>
                            </div>
                            <div class="roadmap-week">
                                <div class="week-badge" :class="week3Complete ? 'completed' : (week3Started ? 'active' : 'pending')">
                                    <span x-show="week3Complete">✓</span>
                                    <span x-show="!week3Complete">3</span>
                                </div>
                                <div class="week-label text-green-600">Polish</div>
                                <div class="week-title">Days 11-14</div>
                            </div>
                        </div>
                    </div>

                    <!-- Day-by-day progress -->
                    <div class="grid grid-cols-3 gap-6">
                        <!-- Week 1 -->
                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4">
                            <h4 class="text-sm font-semibold text-primary mb-3 flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                                Week 1: Foundation
                            </h4>
                            <div class="flex justify-between items-start">
                                <template x-for="day in [1,2,3,4,5]" :key="day">
                                    <a :href="'#day-' + day" class="day-node group text-center">
                                        <div class="day-circle" :class="completedDays.includes(day) ? 'completed' : (currentSection === 'day-' + day ? 'current' : 'pending')">
                                            <span x-text="day"></span>
                                        </div>
                                        <div class="day-label text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors" x-text="dayTitles[day].split(' ')[0]"></div>
                                    </a>
                                </template>
                            </div>
                        </div>

                        <!-- Week 2 -->
                        <div class="bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4">
                            <h4 class="text-sm font-semibold text-secondary mb-3 flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                                Week 2: Intelligence
                            </h4>
                            <div class="flex justify-between items-start">
                                <template x-for="day in [6,7,8,9,10]" :key="day">
                                    <a :href="'#day-' + day" class="day-node group text-center">
                                        <div class="day-circle" :class="completedDays.includes(day) ? 'completed' : (currentSection === 'day-' + day ? 'current' : 'pending')">
                                            <span x-text="day"></span>
                                        </div>
                                        <div class="day-label text-gray-600 dark:text-gray-400 group-hover:text-secondary transition-colors" x-text="dayTitles[day].split(' ')[0]"></div>
                                    </a>
                                </template>
                            </div>
                        </div>

                        <!-- Week 3 -->
                        <div class="bg-green-50 dark:bg-green-900/20 rounded-xl p-4">
                            <h4 class="text-sm font-semibold text-green-600 mb-3 flex items-center gap-2">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>
                                Week 3: Polish
                            </h4>
                            <div class="flex justify-around items-start">
                                <a href="#day-11-12" class="day-node group">
                                    <div class="day-circle" :class="completedDays.includes(11) ? 'completed' : (currentSection === 'day-11-12' ? 'current' : 'pending')" style="width: 3rem; height: 3rem;">
                                        <span>11-12</span>
                                    </div>
                                    <div class="day-label text-gray-600 dark:text-gray-400 group-hover:text-green-600 transition-colors">Docs</div>
                                </a>
                                <a href="#day-13-14" class="day-node group">
                                    <div class="day-circle" :class="completedDays.includes(13) ? 'completed' : (currentSection === 'day-13-14' ? 'current' : 'pending')" style="width: 3rem; height: 3rem;">
                                        <span>13-14</span>
                                    </div>
                                    <div class="day-label text-gray-600 dark:text-gray-400 group-hover:text-green-600 transition-colors">Release</div>
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Progress Stats Legend -->
                    <div class="mt-6 pt-4 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-gradient-to-r from-green-400 to-green-600"></div>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Completed</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-gradient-to-r from-primary to-secondary animate-pulse"></div>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Current</span>
                            </div>
                            <div class="flex items-center gap-2">
                                <div class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"></div>
                                <span class="text-sm text-gray-600 dark:text-gray-400">Pending</span>
                            </div>
                        </div>
                        <div class="flex items-center gap-3">
                            <!-- Circular progress indicator -->
                            <svg class="progress-ring w-12 h-12" viewBox="0 0 36 36">
                                <circle class="text-gray-200 dark:text-gray-700" stroke="currentColor" stroke-width="3" fill="transparent" r="16" cx="18" cy="18"/>
                                <circle class="progress-ring-circle text-primary" stroke="currentColor" stroke-width="3" fill="transparent" r="16" cx="18" cy="18"
                                    :stroke-dasharray="100.53"
                                    :stroke-dashoffset="100.53 - (progressPercent / 100 * 100.53)"/>
                            </svg>
                            <div>
                                <div class="text-2xl font-bold" x-text="progressPercent + '%'"></div>
                                <div class="text-xs text-gray-500">Complete</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Animated Stats Cards -->
                <div class="grid md:grid-cols-4 gap-4 mt-8">
                    <div class="stats-card">
                        <div class="stat-value stat-number" x-text="completedDays.length"></div>
                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Days Completed</div>
                        <div class="text-xs text-gray-500 mt-2">of 14 total</div>
                    </div>
                    <div class="stats-card">
                        <div class="stat-value stat-number flex items-center justify-center gap-1">
                            <span x-text="completedDays.length >= 3 ? '3+' : completedDays.length"></span>
                            <span x-show="completedDays.length >= 3" class="streak-flame text-2xl">🔥</span>
                        </div>
                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Day Streak</div>
                        <div class="text-xs text-gray-500 mt-2">Keep going!</div>
                    </div>
                    <div class="stats-card">
                        <div class="stat-value stat-number" x-text="14 - completedDays.length"></div>
                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Days Remaining</div>
                        <div class="text-xs text-gray-500 mt-2">You've got this!</div>
                    </div>
                    <div class="stats-card">
                        <div class="stat-value stat-number" x-text="(week1Complete ? 1 : 0) + (week2Complete ? 1 : 0) + (week3Complete ? 1 : 0)"></div>
                        <div class="text-sm text-gray-600 dark:text-gray-400 mt-1">Weeks Complete</div>
                        <div class="text-xs text-gray-500 mt-2">of 3 weeks</div>
                    </div>
                </div>
            </section>

            <!-- Week 1 Banner -->
            <div class="week-banner week-1">
                <div class="week-banner-content">
                    <div class="week-banner-icon">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                    </div>
                    <div class="week-banner-title">Week 1: Foundation</div>
                    <div class="week-banner-subtitle">Setting Up & Building the Core</div>
                    <div class="week-banner-days">Days 1-5</div>
                </div>
            </div>

            <!-- Day 1 -->
            <section id="day-1" class="day-section week-1" x-intersect:enter="currentSection = 'day-1'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Day 1 of 5</span>
                    <button @click="toggleBookmark('day-1', 'Day 1: Project Setup')" :class="isBookmarked('day-1') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-1') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 1: Project Setup + Configuration</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 1 of 14 • Week 1: Foundation</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand why CLAUDE.md exists</li>
                    <li>Create effective project context</li>
                    <li>Experience the "cold start" problem</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">The Cold Start Problem</h3>
                <p class="mb-4">Open Claude Code in an empty directory and try:</p>
                <pre><code class="language-text">Help me create a function that generates a Click command from a natural language description.</code></pre>

                <p class="mt-4 mb-2"><strong>Notice Claude's questions:</strong></p>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>What Python version?</li>
                    <li>Click or Typer or argparse?</li>
                    <li>How should the output be structured?</li>
                    <li>Where should generated code go?</li>
                </ul>

                <p class="mb-4">Now answer them. Close the session. Open a new one. Ask a related question.</p>

                <div class="callout callout-warning mt-4"><strong>Claude remembers nothing.</strong> This is the pain CLAUDE.md solves.</div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Project Setup</h3>
                <pre><code class="language-bash"># Create project structure
mkdir cli-generator
cd cli-generator

# Claude Code directories
mkdir -p .claude/{commands,hooks,skills,agents,mcp,rules,plugins}

# Source code directories
mkdir -p src/cli_generator/{generators,validators,templates}
mkdir -p tests/{unit,integration}
mkdir -p generated  # Where generated CLIs go
mkdir -p examples   # Example CLI descriptions

# Initialize Python project with uv
uv init
uv venv
source .venv/bin/activate  # or `.venv\Scripts\activate` on Windows

# Create initial files
touch src/cli_generator/__init__.py
touch src/cli_generator/cli.py
touch src/cli_generator/models.py
touch src/cli_generator/generators/__init__.py
touch src/cli_generator/validators/__init__.py
touch tests/__init__.py</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Create pyproject.toml</h3>
                <pre><code class="language-toml">[project]
name = "cli-generator"
version = "0.1.0"
description = "Generate CLI tools from natural language descriptions"
requires-python = ">=3.11"
dependencies = [
    "click>=8.1",
    "rich>=13.0",
    "pydantic>=2.0",
    "pydantic-ai>=0.1",
    "jinja2>=3.1",
    "httpx>=0.25",
    "pytest>=7.0",
    "pytest-asyncio>=0.21",
]

[project.scripts]
cli-gen = "cli_generator.cli:main"

[build-system]
requires = ["setuptools>=61.0"]
build-backend = "setuptools.build_meta"

[tool.pytest.ini_options]
asyncio_mode = "auto"
testpaths = ["tests"]</code></pre>

                <p class="mt-4 mb-4">Install in development mode:</p>
                <pre><code class="language-bash">uv pip install -e .</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Creating Your CLAUDE.md</h3>
                <p class="mb-4">This is the most important file. It tells Claude everything about your project.</p>
                <p class="mb-4">Create <code>.claude/CLAUDE.md</code>:</p>
                <pre><code class="language-markdown"># CLI Generator

## What This Project Does

Generates complete, working CLI applications from natural language descriptions.

Input: "A CLI that downloads YouTube videos with quality selection"
Output: A complete Python package with Click commands, help text, error handling, and tests.

## Current State

Week 1: Building foundation - core generator working, basic commands.

## Technology Decisions

### Why Click (not Typer or argparse)?

- Most widely used in production
- Excellent documentation
- Decorators are explicit (good for generation)
- Better error messages than argparse

### Why Jinja2 for Templates?

- Industry standard
- Easy to read template syntax
- Good error messages for template issues
- Supports template inheritance

### Why PydanticAI?

- Type-safe LLM interactions
- Structured output parsing
- Built-in retry logic
- Works with multiple providers

## My CLI Preferences (Use These for Generation)

### Structure

- One command per file in `commands/` directory
- Main CLI group in `cli.py`
- Shared utilities in `utils.py`

### Style

- Always include `--help` (Click does this automatically)
- Always include `--version` flag
- Use `--verbose/-v` for debug output
- Use `--quiet/-q` to suppress output
- Color output by default, `--no-color` to disable

### Error Handling

- Catch exceptions and show user-friendly messages
- Exit code 0 for success, 1 for user error, 2 for system error
- Never show stack traces unless `--verbose`

### Documentation

- Every command has a docstring (becomes help text)
- Every option has `help=` parameter
- Include usage examples in command docstrings

## Data Models

### CLISpec

The specification for a CLI to generate:

```python
class CLISpec(BaseModel):
    name: str                    # CLI name (e.g., "imgconvert")
    description: str             # What it does
    commands: list[CommandSpec]  # Commands to generate
    global_options: list[OptionSpec]  # Options for all commands
    python_version: str = "3.11"
    dependencies: list[str] = []
```

### CommandSpec

A single command in the CLI:

```python
class CommandSpec(BaseModel):
    name: str                    # Command name (e.g., "convert")
    description: str             # Help text
    arguments: list[ArgumentSpec]
    options: list[OptionSpec]
    examples: list[str] = []
```

### OptionSpec

A command-line option:

```python
class OptionSpec(BaseModel):
    name: str                    # Long name (e.g., "output")
    short: str | None = None     # Short name (e.g., "o")
    type: str = "str"            # str, int, float, bool, path, choice
    required: bool = False
    default: Any = None
    help: str = ""
    choices: list[str] | None = None  # For choice type
```

### ArgumentSpec

A positional argument:

```python
class ArgumentSpec(BaseModel):
    name: str
    type: str = "str"
    required: bool = True
    help: str = ""
```

## File Structure

```
cli-generator/
├── .claude/
│   ├── CLAUDE.md              # This file
│   ├── commands/              # Slash commands
│   ├── hooks/                 # Quality gates
│   ├── skills/                # Context-aware behaviors
│   ├── agents/                # Specialized agents
│   ├── mcp/                   # External tool definitions
│   └── rules/                 # Standards and guidelines
├── src/cli_generator/
│   ├── __init__.py
│   ├── cli.py                 # Main CLI (our own interface)
│   ├── models.py              # Pydantic models
│   ├── generators/
│   │   ├── __init__.py
│   │   ├── spec_generator.py  # NL → CLISpec
│   │   ├── code_generator.py  # CLISpec → Python code
│   │   └── test_generator.py  # CLISpec → pytest tests
│   ├── validators/
│   │   ├── __init__.py
│   │   ├── spec_validator.py  # Validate CLISpec
│   │   └── code_validator.py  # Validate generated code
│   └── templates/
│       ├── cli.py.j2          # Main CLI template
│       ├── command.py.j2      # Command template
│       └── test.py.j2         # Test template
├── tests/
├── generated/                 # Output directory
└── examples/                  # Example descriptions
```

## Common Workflows

### Generate a New CLI

1. User provides natural language description
2. LLM parses into CLISpec
3. Validator checks spec
4. Code generator creates Python files
5. Test generator creates pytest files
6. Output validator checks code compiles

### Add Command to Existing CLI

1. Load existing CLISpec from generated CLI
2. Parse new command description
3. Merge into existing spec
4. Regenerate code (preserving customizations?)

## What's Not Built Yet

- [ ] Spec generator (Day 2)
- [ ] Code generator (Day 2)
- [ ] Slash commands (Days 3-4)
- [ ] Hooks (Day 5)
- [ ] Skills (Day 6)
- [ ] Subagents (Day 7)
- [ ] MCP tools (Day 8)

## Testing Strategy

- Unit tests: Each generator/validator in isolation
- Integration tests: Full NL → working CLI flow
- Golden tests: Known inputs produce expected outputs</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Create Rules Files</h3>
                <p class="mb-4">Create <code>.claude/rules/code_standards.md</code>:</p>
                <pre><code class="language-markdown"># Code Standards

## Python Style
- Python 3.11+ features allowed (match statements, type unions with |)
- Type hints required on all function signatures
- Docstrings required on all public functions
- Use `pathlib.Path` for file paths
- Use `async/await` for I/O operations

## Generated Code Style
Generated CLIs should follow these conventions:
- Imports at top, stdlib first, then third-party, then local
- One class per file for complex commands
- Helper functions prefixed with underscore
- Constants in UPPER_SNAKE_CASE

## Testing
- Every generator function needs tests
- Use pytest fixtures for common test data
- Mock LLM calls in unit tests
- Integration tests can use real LLM (marked slow)

## Error Messages
- User-facing: Friendly, actionable
- Developer-facing: Include context (what was being generated)
- Never expose internal details to users</code></pre>

                <p class="mt-4 mb-4">Create <code>.claude/rules/generation_rules.md</code>:</p>
                <pre><code class="language-markdown"># CLI Generation Rules

## Naming Conventions

- CLI names: lowercase, hyphens allowed (e.g., `my-tool`)
- Command names: lowercase, underscores for multi-word (e.g., `list_items`)
- Option names: lowercase, hyphens (e.g., `--output-dir`)
- Short options: single letter, common conventions (e.g., `-o` for output, `-v` for verbose)

## Required Elements

Every generated CLI must have:

1. `--help` flag (Click provides automatically)
2. `--version` flag
3. Proper exit codes (0=success, 1=user error, 2=system error)
4. Error handling that doesn't show tracebacks

## Forbidden Patterns

- Never generate `eval()` or `exec()`
- Never generate hardcoded credentials
- Never generate commands that delete without confirmation
- Never generate `sudo` or privilege escalation

## Template Variables

Templates receive these variables:

- `cli`: The full CLISpec object
- `command`: The current CommandSpec (in command template)
- `timestamp`: Generation timestamp
- `generator_version`: Version of cli-generator</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Test Your CLAUDE.md</h3>
                <p class="mb-4">Start a fresh Claude Code session in your project directory. Ask:</p>
                <pre><code class="language-text">Based on this project, create the CLISpec Pydantic model.</code></pre>

                <p class="mt-4 mb-2">Claude should:</p>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>Know you're using Pydantic v2</li>
                    <li>Know the field structure from CLAUDE.md</li>
                    <li>Follow your code standards</li>
                </ul>

                <div class="callout callout-info"><strong>Tip:</strong> If Claude asks questions already answered in CLAUDE.md, update CLAUDE.md with clearer answers.</div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Settings & Permissions</h3>
                <p class="mb-4">Beyond CLAUDE.md, Claude Code uses <code>settings.json</code> files to control behavior and permissions.</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Settings File Locations</h4>
                <div class="overflow-x-auto mb-4">
                    <table class="w-full border-collapse border border-gray-300 dark:border-gray-600">
                        <thead><tr class="bg-gray-100 dark:bg-gray-700">
                            <th class="border border-gray-300 dark:border-gray-600 px-3 py-2 text-left">File</th>
                            <th class="border border-gray-300 dark:border-gray-600 px-3 py-2 text-left">Scope</th>
                            <th class="border border-gray-300 dark:border-gray-600 px-3 py-2 text-left">Use Case</th>
                        </tr></thead>
                        <tbody>
                            <tr><td class="border border-gray-300 dark:border-gray-600 px-3 py-2"><code>~/.claude/settings.json</code></td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">User-level</td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">Personal preferences across all projects</td></tr>
                            <tr><td class="border border-gray-300 dark:border-gray-600 px-3 py-2"><code>.claude/settings.json</code></td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">Project-level</td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">Team-shared project settings</td></tr>
                            <tr><td class="border border-gray-300 dark:border-gray-600 px-3 py-2"><code>.claude/settings.local.json</code></td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">Local-only</td><td class="border border-gray-300 dark:border-gray-600 px-3 py-2">Personal overrides (not committed)</td></tr>
                        </tbody>
                    </table>
                </div>

                <h4 class="text-lg font-semibold mt-6 mb-2">Permission Configuration</h4>
                <p class="mb-4">Control what Claude can access using permission patterns. Deny rules always take precedence over allow rules.</p>
                <pre><code class="language-json">{
  "permissions": {
    "allow": [
      "Read(**)",
      "Edit(src/**)",
      "Edit(tests/**)",
      "Bash(uv:*)",
      "Bash(pytest:*)",
      "Bash(git:*)"
    ],
    "deny": [
      "Bash(rm -rf:*)",
      "Edit(.env*)",
      "Bash(:*sudo:*)"
    ]
  }
}</code></pre>

                <p class="mt-4 mb-4">Create <code>.claude/settings.json</code> for our CLI generator project:</p>
                <pre><code class="language-json">{
  "permissions": {
    "allow": [
      "Read(**)",
      "Edit(src/**)",
      "Edit(tests/**)",
      "Edit(generated/**)",
      "Bash(uv:*)",
      "Bash(pytest:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push)"
    ],
    "deny": [
      "Bash(rm -rf:*)",
      "Edit(.env*)",
      "Bash(:*sudo:*)",
      "Bash(:*eval:*)",
      "Bash(:*exec:*)"
    ]
  }
}</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Status Line Configuration</h3>
                <p class="mb-4">The status line shows useful information in your terminal while Claude works. Configure it using the <code>/statusline</code> command or manually.</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Quick Setup</h4>
                <pre><code class="language-bash"># In Claude Code session
/statusline</code></pre>
                <p class="mt-2 mb-4">Follow the prompts to choose your display format and information.</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Manual Setup</h4>
                <p class="mb-4">Create a status line script that reads JSON from stdin:</p>
                <pre><code class="language-bash">#!/bin/bash
# ~/.claude/statusline.sh
read -r input
model=$(echo "$input" | jq -r '.model // "unknown"')
tokens=$(echo "$input" | jq -r '.tokens_used // 0')
max_tokens=$(echo "$input" | jq -r '.max_tokens // 200000')
pct=$(( tokens * 100 / max_tokens ))
echo "🤖 $model | 📊 $pct%"</code></pre>
                <p class="mt-2 mb-4">Make it executable: <code>chmod +x ~/.claude/statusline.sh</code></p>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 1 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d1-1" @change="saveChecklist('d1-1', $event.target.checked)" :checked="checklist['d1-1']"><label for="d1-1">Project structure created</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-2" @change="saveChecklist('d1-2', $event.target.checked)" :checked="checklist['d1-2']"><label for="d1-2">Dependencies installed with uv</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-3" @change="saveChecklist('d1-3', $event.target.checked)" :checked="checklist['d1-3']"><label for="d1-3">CLAUDE.md comprehensive and tested</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-4" @change="saveChecklist('d1-4', $event.target.checked)" :checked="checklist['d1-4']"><label for="d1-4">Rules files created</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-5" @change="saveChecklist('d1-5', $event.target.checked)" :checked="checklist['d1-5']"><label for="d1-5">settings.json configured with permissions</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-6" @change="saveChecklist('d1-6', $event.target.checked)" :checked="checklist['d1-6']"><label for="d1-6">Status line setup (optional)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d1-7" @change="saveChecklist('d1-7', $event.target.checked)" :checked="checklist['d1-7']"><label for="d1-7">Fresh Claude session reads context correctly</label></div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Exercise: CLAUDE.md Stress Test</h3>
                <p class="mb-4">Try these prompts in a fresh session:</p>
                <ol class="list-decimal list-inside mb-4 space-y-2">
                    <li>"What CLI framework are we using and why?"</li>
                    <li>"Show me the data model for a command option."</li>
                    <li>"Where should generated test files go?"</li>
                    <li>"What's our convention for short option flags?"</li>
                </ol>
                <p class="mb-4"><strong>All answers should come from CLAUDE.md without additional questions.</strong></p>

                <div class="flex justify-end mt-6">
                    <button @click="toggleDay(1)" :class="completedDays.includes(1) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90 transition-opacity flex items-center gap-2">
                        <span x-text="completedDays.includes(1) ? 'Completed!' : 'Mark as Complete'"></span>
                    </button>
                </div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 2 -->
            <section id="day-2" class="day-section week-1" x-intersect:enter="currentSection = 'day-2'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Day 2 of 5</span>
                    <button @click="toggleBookmark('day-2', 'Day 2: Core Models')" :class="isBookmarked('day-2') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-2') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 2: Core Models + Generator Engine</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 2 of 14 • Week 1: Foundation</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Build the core generation engine through iterative prompting</li>
                    <li>Experience the TDD workflow with Claude Code</li>
                    <li>Understand how to verify and correct Claude's output</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Your Role Today</h3>
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4">
                        <h4 class="font-semibold mb-2">You will:</h4>
                        <ol class="list-decimal list-inside space-y-1 text-sm">
                            <li>Write prompts to Claude Code</li>
                            <li>Review the generated code against requirements</li>
                            <li>Run tests to verify correctness</li>
                            <li>Iterate when something needs adjustment</li>
                        </ol>
                    </div>
                    <div class="bg-purple-50 dark:bg-purple-900/20 rounded-xl p-4">
                        <h4 class="font-semibold mb-2">Claude will:</h4>
                        <ol class="list-decimal list-inside space-y-1 text-sm">
                            <li>Generate code based on your prompts and CLAUDE.md context</li>
                            <li>Follow the patterns and standards you've established</li>
                            <li>Correct itself when you point out issues</li>
                        </ol>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mb-3">Step 1: Create the Data Models</h3>
                <h4 class="text-lg font-medium mb-2">The Prompt</h4>
                <p class="mb-2">Open Claude Code in your <code>cli-generator</code> project directory and type:</p>
                <pre><code class="language-text">Based on the data models defined in CLAUDE.md, create src/cli_generator/models.py with:

1. OptionSpec - command line option
2. ArgumentSpec - positional argument
3. CommandSpec - a CLI command
4. CLISpec - complete CLI specification

Include Pydantic validators for:
- CLI name must be valid Python package name (lowercase, hyphens allowed)
- Option short names must be single character
- No duplicate command names in a CLI
- No duplicate option names within a command
- Choice type options must have choices list

Write tests first in tests/unit/test_models.py following TDD.</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">What to Expect</h4>
                <p class="mb-2">Claude should generate:</p>
                <ol class="list-decimal list-inside mb-4 space-y-1">
                    <li><strong>Test file first</strong> (<code>tests/unit/test_models.py</code>) with tests for:
                        <ul class="list-disc list-inside ml-6 text-sm">
                            <li>Valid option creation</li>
                            <li>Short option validation (single character only)</li>
                            <li>Choice type requiring choices list</li>
                            <li>Valid CLI names</li>
                            <li>Invalid CLI names (uppercase, special characters)</li>
                            <li>Duplicate command detection</li>
                            <li>Duplicate option detection</li>
                        </ul>
                    </li>
                    <li><strong>Implementation file</strong> (<code>src/cli_generator/models.py</code>) with:
                        <ul class="list-disc list-inside ml-6 text-sm">
                            <li>Pydantic BaseModel classes</li>
                            <li>Field validators using <code>@field_validator</code></li>
                            <li>Model validators using <code>@model_validator</code></li>
                            <li>Proper type hints</li>
                        </ul>
                    </li>
                </ol>

                <h4 class="text-lg font-medium mt-6 mb-2">Reference: Expected Test Structure</h4>
                <p class="mb-2">Your tests should cover cases like these:</p>
                <pre><code class="language-python">"""Tests for CLI specification models."""

import pytest
from pydantic import ValidationError
from cli_generator.models import OptionSpec, ArgumentSpec, CommandSpec, CLISpec


class TestOptionSpec:
    """Tests for OptionSpec model."""

    def test_valid_option_with_short(self):
        """Valid option with short name."""
        opt = OptionSpec(name="output", short="o", type="str", help="Output file")
        assert opt.name == "output"
        assert opt.short == "o"

    def test_short_must_be_single_character(self):
        """Short option must be exactly one letter."""
        with pytest.raises(ValidationError) as exc_info:
            OptionSpec(name="output", short="out", type="str")
        assert "single letter" in str(exc_info.value).lower()

    def test_choice_type_requires_choices(self):
        """Choice type must have choices list."""
        with pytest.raises(ValidationError) as exc_info:
            OptionSpec(name="format", type="choice", help="Output format")
        assert "choices" in str(exc_info.value).lower()


class TestCommandSpec:
    """Tests for CommandSpec model."""

    def test_no_duplicate_option_names(self):
        """Command cannot have duplicate option names."""
        with pytest.raises(ValidationError) as exc_info:
            CommandSpec(
                name="convert",
                description="Convert files",
                options=[
                    OptionSpec(name="output", type="path"),
                    OptionSpec(name="output", type="str"),  # Duplicate!
                ]
            )
        assert "duplicate" in str(exc_info.value).lower()


class TestCLISpec:
    """Tests for CLISpec model."""

    def test_cli_name_must_be_lowercase(self):
        """CLI name must be lowercase."""
        with pytest.raises(ValidationError) as exc_info:
            CLISpec(name="MyTool", description="A tool")
        assert "package name" in str(exc_info.value).lower()

    def test_no_duplicate_commands(self):
        """CLI cannot have duplicate command names."""
        with pytest.raises(ValidationError) as exc_info:
            CLISpec(
                name="my-tool",
                description="A tool",
                commands=[
                    CommandSpec(name="list", description="List items"),
                    CommandSpec(name="list", description="List things"),  # Duplicate!
                ]
            )
        assert "duplicate" in str(exc_info.value).lower()</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">Verify Your Output</h4>
                <pre><code class="language-bash"># Run the tests
uv run pytest tests/unit/test_models.py -v

# Expected: All tests pass</code></pre>

                <div class="callout callout-info mt-4"><strong>If tests fail</strong>, tell Claude what went wrong:
                    <pre class="!mt-2 text-sm"><code class="language-text">The test test_short_must_be_single_character is failing. The validator
is accepting "out" as a valid short option. The regex should ensure
exactly one character.</code></pre>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Step 2: Create the Spec Generator</h3>
                <h4 class="text-lg font-medium mb-2">The Prompt</h4>
                <pre><code class="language-text">Create src/cli_generator/generators/spec_generator.py that uses PydanticAI
to convert natural language descriptions into CLISpec objects.

Requirements:
1. SpecGenerator class with model parameter (default: "openai:gpt-4o-mini")
2. System prompt that knows CLI best practices from CLAUDE.md
3. async generate(description: str) -> CLISpec method
4. async add_command(spec: CLISpec, description: str) -> CLISpec method

The system prompt should guide the LLM to:
- Create appropriate CLI names from descriptions
- Break complex tools into multiple commands
- Use standard option conventions (-o for output, -v for verbose, etc.)
- Include helpful descriptions and examples

Write tests in tests/unit/test_spec_generator.py that mock LLM responses.</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">Reference: Expected Implementation</h4>
                <pre><code class="language-python">"""Generate CLISpec from natural language descriptions."""

from pydantic_ai import Agent
from ..models import CLISpec


class SpecGenerator:
    """Generates CLI specifications from natural language."""

    def __init__(self, model: str = "openai:gpt-4o-mini"):
        """Initialize with specified LLM model."""
        self.agent = Agent(
            model,
            result_type=CLISpec,
            system_prompt=self._system_prompt()
        )

    def _system_prompt(self) -> str:
        """System prompt encoding CLI design best practices."""
        return """You are an expert CLI designer. Convert natural language
descriptions into structured CLI specifications.

Follow these guidelines:

## Naming
- CLI names: lowercase, hyphens allowed (e.g., my-tool, file-converter)
- Command names: lowercase, underscores for multi-word (e.g., list_all)
- Option names: lowercase, hyphens (e.g., --output-dir)

## Standard Options
Use conventional short options:
- -o / --output: Output file or directory
- -v / --verbose: Verbose/debug output
- -q / --quiet: Suppress output
- -f / --force: Force operation without confirmation

## Best Practices
- Every command needs a clear description
- Include realistic usage examples
- Add helpful default values where sensible"""

    async def generate(self, description: str) -> CLISpec:
        """Generate a CLISpec from a natural language description."""
        result = await self.agent.run(description)
        return result.data

    async def add_command(self, spec: CLISpec, command_description: str) -> CLISpec:
        """Add a new command to an existing CLI spec."""
        prompt = f"""Existing CLI: {spec.name}
Description: {spec.description}
Current commands: {[cmd.name for cmd in spec.commands]}

Add this new command: {command_description}

Return the complete updated CLISpec with the new command added."""

        result = await self.agent.run(prompt)
        return result.data</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Step 3: Create the Code Generator</h3>
                <h4 class="text-lg font-medium mb-2">The Prompt</h4>
                <pre><code class="language-text">Create the code generator that transforms CLISpec into Python/Click code.

Files to create:

1. src/cli_generator/templates/cli.py.j2 - Jinja2 template for CLI code
   - Should generate valid Click CLI with all commands
   - Include proper decorators for arguments and options
   - Handle all option types (str, int, float, bool, path, choice)
   - Generate docstrings from descriptions

2. src/cli_generator/generators/code_generator.py - CodeGenerator class
   - generate(spec: CLISpec, output_dir: Path) -> dict[str, Path]
   - Creates: cli.py, __init__.py, pyproject.toml, README.md
   - Uses Jinja2 for templating
   - Returns dict mapping file type to path

3. tests/unit/test_code_generator.py
   - Test that generated code compiles (valid Python syntax)
   - Test that all commands are present
   - Test that options have correct types</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">Reference: Expected Template (cli.py.j2)</h4>
                <pre><code class="language-jinja2">#!/usr/bin/env python3
"""{{ cli.description }}

Generated by cli-generator v{{ generator_version }}
"""

import click

__version__ = "{{ cli.version }}"


@click.group()
@click.version_option(__version__)
@click.pass_context
def cli(ctx):
    """{{ cli.description }}"""
    ctx.ensure_object(dict)


{% for command in cli.commands %}
@cli.command()
{% for arg in command.arguments %}
@click.argument("{{ arg.name }}")
{% endfor %}
{% for opt in command.options %}
@click.option(
    "--{{ opt.name }}"{% if opt.short %}, "-{{ opt.short }}"{% endif %},
    {% if opt.type == "bool" %}is_flag=True,{% endif %}
    {% if opt.type == "choice" %}type=click.Choice({{ opt.choices | tojson }}),{% endif %}
    help="{{ opt.help }}"
)
{% endfor %}
def {{ command.name }}({% for arg in command.arguments %}{{ arg.name }}, {% endfor %}{% for opt in command.options %}{{ opt.name | replace("-", "_") }}{% if not loop.last %}, {% endif %}{% endfor %}):
    """{{ command.description }}"""
    # TODO: Implement {{ command.name }}
    click.echo(f"Running {{ command.name }}...")


{% endfor %}
def main():
    """Entry point."""
    cli()


if __name__ == "__main__":
    main()</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Step 4: Create the CLI Interface</h3>
                <h4 class="text-lg font-medium mb-2">The Prompt</h4>
                <pre><code class="language-text">Create src/cli_generator/cli.py - our CLI interface for the generator.

Commands needed:
1. cli-gen spec &lt;description&gt;
   - Generate and display CLISpec from description
   - Pretty print as JSON with syntax highlighting

2. cli-gen generate &lt;description&gt;
   - Generate complete CLI from description
   - Options: --output/-o for output directory (default: ./generated)
   - Options: --dry-run to show spec without generating

3. cli-gen build &lt;spec_file&gt;
   - Build CLI from a saved JSON spec file

Use Rich for colored output and syntax highlighting.
Include proper error handling with user-friendly messages.</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">Verify Your Output</h4>
                <pre><code class="language-bash"># Install your package
uv pip install -e .

# Test the spec command
cli-gen spec "A tool to count words in files"

# Test generate with dry-run
cli-gen generate "A simple greeting CLI" --dry-run

# Test actual generation
cli-gen generate "A hello world CLI"

# Check what was generated
ls -la generated/
cat generated/hello_world/cli.py</code></pre>

                <div class="callout callout-warning mt-6">
                    <strong>Common Issue: LLM Output Validation Errors</strong>
                    <p class="mt-2">When testing, you might see errors like "Exceeded maximum retries for output validation". This often happens when the LLM generates data that doesn't match your Pydantic model's expectations.</p>

                    <p class="mt-3"><strong>Example problem:</strong> The LLM generates option names with <code>--</code> prefix:</p>
                    <pre class="!mt-2 text-sm"><code class="language-json">{
  "name": "--verbose",
  "short": "-v"
}</code></pre>

                    <p class="mt-3">But your model expects just the name:</p>
                    <pre class="!mt-2 text-sm"><code class="language-json">{
  "name": "verbose",
  "short": "v"
}</code></pre>

                    <p class="mt-4"><strong>Two fixes to apply:</strong></p>

                    <p class="mt-3">1. <strong>Improve the system prompt</strong> to be more explicit:</p>
                    <pre class="!mt-2 text-sm"><code class="language-python">SYSTEM_PROMPT = """
## CRITICAL: Field Format Rules

### Option and Argument Names
- Option `name` field: Use ONLY the name WITHOUT dashes. Example: "output" NOT "--output"
- Option `short` field: Use ONLY the single letter WITHOUT dash. Example: "o" NOT "-o"
...
"""</code></pre>

                    <p class="mt-3">2. <strong>Add field validators</strong> to sanitize input:</p>
                    <pre class="!mt-2 text-sm"><code class="language-python">from pydantic import field_validator

class OptionSpec(BaseModel):
    name: str
    short: str | None = None

    @field_validator("name", mode="before")
    @classmethod
    def clean_name(cls, v: str) -> str:
        """Strip leading dashes from option names."""
        if isinstance(v, str):
            return v.lstrip("-")
        return v

    @field_validator("short", mode="before")
    @classmethod
    def clean_short(cls, v: str | None) -> str | None:
        """Strip leading dash from short option."""
        if isinstance(v, str):
            cleaned = v.lstrip("-")
            return cleaned if cleaned else None
        return v</code></pre>

                    <p class="mt-3 text-sm text-gray-600 dark:text-gray-400">This defensive approach handles LLM inconsistencies gracefully while still guiding it toward correct output.</p>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Step 5: Integration Test</h3>
                <h4 class="text-lg font-medium mb-2">The Prompt</h4>
                <pre><code class="language-text">Create an integration test that verifies the complete workflow:
1. Generate a spec from description
2. Generate code from spec
3. Verify generated code compiles
4. Optionally install and test --help

Put in tests/integration/test_workflow.py
Mark slow tests with @pytest.mark.slow</code></pre>

                <h4 class="text-lg font-medium mt-6 mb-2">Verify Complete Pipeline</h4>
                <pre><code class="language-bash"># Run unit tests
uv run pytest tests/unit/ -v

# Run integration tests (may be slower)
uv run pytest tests/integration/ -v

# Run everything
uv run pytest -v</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">The Repetitive Prompts Problem</h3>
                <p class="mb-4">By now you've typed variations of:</p>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>"Create a generator that..."</li>
                    <li>"Add tests for..."</li>
                    <li>"Make sure it validates..."</li>
                    <li>"Generate code that..."</li>
                </ul>

                <div class="callout callout-success">
                    <strong>Write down 5 prompts you typed today that were similar to previous prompts.</strong>
                    <p class="mt-2">This repetition is the pain that slash commands solve tomorrow. Instead of typing a long prompt, you'll type:</p>
                    <pre class="!mt-2"><code class="language-text">/design "CSV to JSON converter with formatting options"</code></pre>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 2 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d2-1" @change="saveChecklist('d2-1', $event.target.checked)" :checked="checklist['d2-1']"><label for="d2-1">tests/unit/test_models.py - All tests pass</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-2" @change="saveChecklist('d2-2', $event.target.checked)" :checked="checklist['d2-2']"><label for="d2-2">src/cli_generator/models.py - All models with validators</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-3" @change="saveChecklist('d2-3', $event.target.checked)" :checked="checklist['d2-3']"><label for="d2-3">tests/unit/test_spec_generator.py - Tests pass</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-4" @change="saveChecklist('d2-4', $event.target.checked)" :checked="checklist['d2-4']"><label for="d2-4">src/cli_generator/generators/spec_generator.py - Working generator</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-5" @change="saveChecklist('d2-5', $event.target.checked)" :checked="checklist['d2-5']"><label for="d2-5">src/cli_generator/templates/cli.py.j2 - Jinja2 template</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-6" @change="saveChecklist('d2-6', $event.target.checked)" :checked="checklist['d2-6']"><label for="d2-6">src/cli_generator/generators/code_generator.py - Working generator</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-7" @change="saveChecklist('d2-7', $event.target.checked)" :checked="checklist['d2-7']"><label for="d2-7">src/cli_generator/cli.py - CLI with spec, generate, build commands</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-8" @change="saveChecklist('d2-8', $event.target.checked)" :checked="checklist['d2-8']"><label for="d2-8">cli-gen spec "test" - Works and shows JSON</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-9" @change="saveChecklist('d2-9', $event.target.checked)" :checked="checklist['d2-9']"><label for="d2-9">cli-gen generate "test" - Creates files in ./generated/</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d2-10" @change="saveChecklist('d2-10', $event.target.checked)" :checked="checklist['d2-10']"><label for="d2-10">Generated CLI compiles (no Python syntax errors)</label></div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Troubleshooting Day 2</h3>
                <div class="space-y-4">
                    <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">"Claude generates different code than shown"</h4>
                        <p class="text-sm">That's expected! As long as tests pass, functionality matches requirements, and code follows your CLAUDE.md standards, the exact code doesn't need to match.</p>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">"Tests are failing"</h4>
                        <p class="text-sm mb-2">Tell Claude specifically what's failing:</p>
                        <pre class="text-sm"><code class="language-text">The test test_choice_requires_choices_list is failing with:
AssertionError: ValidationError not raised

The OptionSpec model is accepting type="choice" without a choices list.
Fix the validator.</code></pre>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">"Import errors when running CLI"</h4>
                        <p class="text-sm">Check that: 1) Package is installed: <code>uv pip install -e .</code> 2) <code>__init__.py</code> files exist in all directories 3) Imports use correct relative paths</p>
                    </div>
                    <div class="bg-gray-50 dark:bg-gray-800 rounded-lg p-4">
                        <h4 class="font-semibold mb-2">"LLM calls failing"</h4>
                        <p class="text-sm">Check: 1) <code>OPENAI_API_KEY</code> is set 2) Check API quota 3) For testing, mock the LLM responses</p>
                    </div>
                </div>

                <div class="flex justify-end mt-6"><button @click="toggleDay(2)" :class="completedDays.includes(2) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(2) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 3 -->
            <section id="day-3" class="day-section week-1" x-intersect:enter="currentSection = 'day-3'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Day 3 of 5</span>
                    <button @click="toggleBookmark('day-3', 'Day 3: Slash Commands')" :class="isBookmarked('day-3') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-3') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 3: Your First Slash Commands</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 3 of 14 • Week 1: Foundation</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Transform repetitive prompts into reusable commands</li>
                    <li>Understand command structure</li>
                    <li>Experience the productivity difference</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">What Are Slash Commands?</h3>
                <p class="mb-4">Slash commands are markdown files that define reusable workflows. Instead of typing:</p>
                <pre><code class="language-text">Based on the project, generate a CLISpec for a tool that converts
CSV files to JSON. Make sure to include options for formatting,
validate the spec, and show me what it would generate.</code></pre>
                <p class="mt-4 mb-4">You type:</p>
                <pre><code class="language-text">/design "CSV to JSON converter with formatting options"</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 1: /design</h3>
                <p class="mb-2"><strong>The pain:</strong> Manually prompting for spec generation, forgetting to show preview.</p>
                <p class="mb-2">Create <code>.claude/commands/design.md</code>:</p>
                <pre><code class="language-markdown"># /design - Design a New CLI

## Purpose
Generate and preview a CLI specification from a natural language
description, without generating code yet.

## Usage
```
/design &lt;description&gt;
/design "A tool that encrypts files with AES"
/design --detailed "Complex multi-command CLI for database migrations"
```

## Process

### 1. Understand the Request
Parse the description to identify:
- Primary purpose
- Likely commands needed
- Input/output types
- Common options for this type of tool

### 2. Generate Specification
Use SpecGenerator to create CLISpec with:
- Appropriate name (derived from description)
- Clear, concise description
- Well-designed commands with arguments and options
- Helpful examples for each command
- Sensible defaults

### 3. Present for Review
```
CLI Design: &lt;name&gt;
================

Description: &lt;description&gt;

Commands:
---------
&lt;command_name&gt;
  &lt;description&gt;
  Arguments: &lt;args&gt;
  Options: &lt;options&gt;
  Example: &lt;example&gt;

[Repeat for each command]

Next steps:
  /refine &lt;feedback&gt;     - Modify the design
  /generate              - Generate code from this spec
  /save-spec &lt;filename&gt;  - Save spec to file
```

## Output
- Display formatted CLI design
- Do NOT generate code
- Do NOT save files
- Wait for user to approve or refine</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 2: /generate</h3>
                <p class="mb-2"><strong>The pain:</strong> Running generation manually, forgetting output directory.</p>
                <p class="mb-2">Create <code>.claude/commands/generate.md</code>:</p>
                <pre><code class="language-markdown"># /generate - Generate CLI Code

## Purpose
Generate complete CLI code from the current or specified design.

## Usage
```
/generate                    # From current design in session
/generate &lt;spec_file&gt;        # From saved spec file
/generate --output ./my-cli  # Custom output directory
/generate --with-tests       # Include test files
```

## Process

### 1. Get Specification
- If spec_file provided: Load from file
- If design in current session: Use that
- If neither: Error - "No design found. Run /design first."

### 2. Validate Specification
Run validators:
- [ ] CLI name is valid
- [ ] No duplicate commands
- [ ] No duplicate options
- [ ] All required fields present

### 3. Generate Code
Using CodeGenerator, create with **nested package structure**:
- `pyproject.toml` - Project configuration (at root)
- `README.md` - Documentation (at root)
- `&lt;package_name&gt;/cli.py` - Main CLI with all commands
- `&lt;package_name&gt;/__init__.py` - Package init with version
- `&lt;package_name&gt;/commands/` - Command implementations

If --with-tests:
- `tests/test_cli.py` - CLI tests (at root, not inside package)
- `tests/conftest.py` - Test fixtures

**IMPORTANT**: Source files MUST be in a nested `&lt;package_name&gt;/` directory,
not at the root alongside pyproject.toml, or `pip install -e .` will fail.

### 4. Report Results
```
Generated CLI: &lt;name&gt;
====================

Files created:
  ✓ pyproject.toml
  ✓ README.md
  ✓ &lt;package_name&gt;/__init__.py
  ✓ &lt;package_name&gt;/cli.py (XX lines)
  ✓ &lt;package_name&gt;/commands/

Quick start:
  cd &lt;output_path&gt;
  uv pip install -e .
  &lt;name&gt; --help
```</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 3: /add-command</h3>
                <p class="mb-2"><strong>The pain:</strong> Manually updating specs, regenerating everything.</p>
                <p class="mb-2">Create <code>.claude/commands/add-command.md</code>:</p>
                <pre><code class="language-markdown"># /add-command - Add Command to Existing CLI

## Purpose
Add a new command to an already generated CLI without losing
existing customizations.

## Usage
```
/add-command &lt;cli_path&gt; &lt;description&gt;
/add-command ./generated/img-compress "Add a resize command"
```

## Process

### 1. Load Existing CLI
- Find and parse existing CLISpec
- Load current cli.py to check for customizations
- Identify insertion point for new command

### 2. Design New Command
Generate CommandSpec for the new command:
- Parse description
- Determine arguments and options
- Create examples
- Check for conflicts with existing commands

### 3. Preview Changes
```
Adding command to: &lt;cli_name&gt;

New Command: &lt;command_name&gt;
===========================
Description: &lt;description&gt;
Arguments: &lt;args&gt;
Options: &lt;options&gt;

Existing commands unchanged:
  ✓ &lt;existing_command_1&gt;
  ✓ &lt;existing_command_2&gt;

Proceed? [y/n/edit]
```

### 4. Apply Changes
If approved:
- Update CLISpec
- Regenerate cli.py (preserving customizations if possible)
- Update README.md</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 4: /implement</h3>
                <p class="mb-2"><strong>The pain:</strong> Commands generate TODO stubs, need real implementation.</p>
                <p class="mb-2">Create <code>.claude/commands/implement.md</code>:</p>
                <pre><code class="language-markdown"># /implement - Implement Command Logic

## Purpose
Replace TODO stub in generated command with actual implementation.

## Usage
```
/implement &lt;cli_path&gt; &lt;command_name&gt;
/implement ./generated/img-compress compress
/implement ./generated/img-compress all  # Implement all commands
```

## Process

### 1. Analyze Command
- Load the command from cli.py
- Parse arguments and options
- Understand what the command should do

### 2. Design Implementation
```
Implementing: &lt;cli_name&gt; &lt;command_name&gt;

Command Purpose: &lt;description&gt;

Implementation Plan:
  1. &lt;step 1&gt;
  2. &lt;step 2&gt;
  3. &lt;step 3&gt;

Error cases to handle:
  - &lt;error case 1&gt;
  - &lt;error case 2&gt;

Proceed with implementation? [y/n/modify]
```

### 3. Generate Implementation
Write the actual command logic:
- Input validation
- Core functionality
- Error handling with user-friendly messages
- Progress output (respecting --quiet/--verbose)
- Proper exit codes

### 4. Write Tests
For the implementation:
- Happy path test
- Error case tests
- Edge case tests</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 5: /test</h3>
                <p class="mb-2"><strong>The pain:</strong> Running pytest manually, parsing output.</p>
                <p class="mb-2">Create <code>.claude/commands/test.md</code>:</p>
                <pre><code class="language-markdown"># /test - Smart Test Runner for Generated CLIs

## Purpose
Run tests for generated CLIs with intelligent output and suggestions.

## Usage
```
/test &lt;cli_path&gt;                  # Run all tests
/test &lt;cli_path&gt; &lt;command_name&gt;   # Test specific command
/test &lt;cli_path&gt; --coverage       # With coverage report
/test &lt;cli_path&gt; --fix            # Auto-fix simple issues
```

## Process

### 1. Discover Tests
- Find test files in &lt;cli_path&gt;/tests/
- Parse test functions
- Check test dependencies

### 2. Run Tests
Execute: `pytest &lt;cli_path&gt;/tests -v --tb=short`

### 3. Present Results
```
Test Results: &lt;cli_name&gt;
========================

Summary: 12 passed, 2 failed, 1 skipped

✓ test_cli_help
✓ test_cli_version
✓ test_compress_basic
✗ test_compress_invalid_quality
  Line 45: AssertionError
  Expected: Exit code 1
  Got: Exit code 0 (no validation on quality range)

  Suggested fix: Add validation in compress command

Coverage: 78% (target: 80%)

Next steps:
  /implement &lt;cli_path&gt; compress  # Fix validation
  /test &lt;cli_path&gt; --fix          # Auto-fix if possible
```</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Using Your Commands</h3>
                <p class="mb-4">Now compare the workflows:</p>
                <div class="space-y-4">
                    <div class="comparison-box bg-red-50 dark:bg-red-900/20 p-4 rounded-lg">
                        <h4 class="font-semibold text-red-700 dark:text-red-300 mb-2">Before (manual prompts)</h4>
                        <pre class="text-sm"><code>Me: I want to create a CLI for converting markdown to HTML
Claude: [asks clarifying questions]
Me: [answers]
Claude: [shows spec]
Me: Now generate the code
Claude: [generates]
Me: Where did it put the files?
Claude: [explains]
Me: Can you add syntax highlighting support?
Claude: [long explanation and code]
...</code></pre>
                    </div>
                    <div class="comparison-box bg-green-50 dark:bg-green-900/20 p-4 rounded-lg">
                        <h4 class="font-semibold text-green-700 dark:text-green-300 mb-2">After (slash commands)</h4>
                        <pre class="text-sm"><code>/design "Markdown to HTML converter with syntax highlighting"
[Review design]
/generate --with-tests
/implement ./generated/md2html convert
/test ./generated/md2html</code></pre>
                    </div>
                </div>

                <div class="callout callout-success mt-6">
                    <strong>Track the difference:</strong> Count prompts before and after. The slash command workflow reduces your interactions significantly while maintaining full control over the process.
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 3 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d3-1" @change="saveChecklist('d3-1', $event.target.checked)" :checked="checklist['d3-1']"><label for="d3-1">Five slash commands created</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d3-2" @change="saveChecklist('d3-2', $event.target.checked)" :checked="checklist['d3-2']"><label for="d3-2">/design produces well-formatted specs</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d3-3" @change="saveChecklist('d3-3', $event.target.checked)" :checked="checklist['d3-3']"><label for="d3-3">/generate creates working CLIs</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d3-4" @change="saveChecklist('d3-4', $event.target.checked)" :checked="checklist['d3-4']"><label for="d3-4">/add-command modifies existing CLIs</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d3-5" @change="saveChecklist('d3-5', $event.target.checked)" :checked="checklist['d3-5']"><label for="d3-5">/implement replaces TODO stubs</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d3-6" @change="saveChecklist('d3-6', $event.target.checked)" :checked="checklist['d3-6']"><label for="d3-6">/test runs and parses test output</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(3)" :class="completedDays.includes(3) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(3) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 4 -->
            <section id="day-4" class="day-section week-1" x-intersect:enter="currentSection = 'day-4'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Day 4 of 5</span>
                    <button @click="toggleBookmark('day-4', 'Day 4: Command Chaining')" :class="isBookmarked('day-4') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-4') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 4: More Commands + Command Chaining</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 4 of 14 • Week 1: Foundation</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Build commands that work together</li>
                    <li>Pass context between commands</li>
                    <li>Create a meta-command that chains others</li>
                </ul>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 6: /refine</h3>
                <p class="mb-2"><strong>Purpose:</strong> Modify a design based on feedback without starting over.</p>
                <p class="mb-2">Create <code>.claude/commands/refine.md</code>:</p>
                <pre><code class="language-markdown"># /refine - Refine CLI Design

## Purpose
Modify the current CLI design based on feedback without regenerating
everything from scratch.

## Usage
```
/refine &lt;feedback&gt;
/refine "Add a --dry-run flag to all commands"
/refine "Rename the 'process' command to 'convert'"
/refine "Remove the 'config' command, not needed"
```

## Process

### 1. Load Current Design
- Get CLISpec from current session
- If no design: Error - "No design found. Run /design first."

### 2. Parse Feedback
Identify the type of change:
- Add: New command, option, argument
- Modify: Change name, description, type
- Remove: Delete command, option
- Global: Apply to all commands

### 3. Apply Changes
Update the CLISpec:
- Validate changes don't break anything
- Maintain consistency (no duplicate names, etc.)

### 4. Show Diff
```
Design Refinement
=================

Changes applied:
+ Added --dry-run flag to all commands
  ~ Modified 'compress' command options

Before:
  compress --quality --output

After:
  compress --quality --output --dry-run

Next steps:
  /refine "&lt;more changes&gt;"
  /generate
```

## Maintains Session State
The refined design stays in session for:
- Further /refine commands
- /generate to create code
- /save-spec to export</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 7: /save-spec</h3>
                <p class="mb-2"><strong>Purpose:</strong> Save the current design for later use.</p>
                <p class="mb-2">Create <code>.claude/commands/save-spec.md</code>:</p>
                <pre><code class="language-markdown"># /save-spec - Save CLI Specification

## Purpose
Save the current CLI design to a JSON file for later use or sharing.

## Usage
```
/save-spec                    # Save as &lt;cli-name&gt;.json
/save-spec my-design.json     # Custom filename
/save-spec --format yaml      # Save as YAML
```

## Process

### 1. Get Current Design
- Load CLISpec from session
- Error if no design exists

### 2. Serialize
Convert to JSON (default) or YAML:
- Pretty print with indentation
- Include all fields
- Add metadata (generator version, timestamp)

### 3. Save File
Write to specified location:
- Default: ./specs/&lt;cli-name&gt;.json
- Custom: user-provided path

### 4. Confirm
```
Specification saved
===================

File: ./specs/img-compress.json
Size: 2.3 KB
Commands: 3
Options: 12

Use with:
  /generate ./specs/img-compress.json
  cli-gen build ./specs/img-compress.json
```</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Command 8: /new-cli (Meta-command)</h3>
                <p class="mb-2"><strong>The meta-command:</strong> Chains other commands for a complete workflow.</p>
                <p class="mb-2">Create <code>.claude/commands/new-cli.md</code>:</p>
                <pre><code class="language-markdown"># /new-cli - Complete CLI Creation Workflow

## Purpose
Create a complete CLI from description through working code in one
guided workflow.

## Usage
```
/new-cli &lt;description&gt;
/new-cli "A tool to manage dotfiles across machines"
```

## Process

This command orchestrates the full workflow:

### Step 1: Design (/design)
```
Creating new CLI...

Step 1/5: Design
```
Run /design with the description.
Show the design for approval.

```
Design complete. Approve? [y/refine/cancel]
```

If "refine": Loop back with /refine until approved.
If "cancel": Stop workflow.

### Step 2: Generate (/generate)
```
Step 2/5: Generate
```
Run /generate --with-tests.
Show generated files.

### Step 3: Implement (/implement)
```
Step 3/5: Implement
```
For each command, offer to implement:
```
Implement 'sync' command? [y/skip/all]
```

### Step 4: Test (/test)
```
Step 4/5: Test
```
Run /test with coverage.
If failures: Offer to fix or continue.

### Step 5: Summary
```
Step 5/5: Complete!

CLI: &lt;name&gt;
Location: ./generated/&lt;name&gt;
Commands: &lt;count&gt; implemented, &lt;count&gt; TODO
Tests: &lt;pass&gt;/&lt;total&gt; passing
Coverage: &lt;percent&gt;%

Quick start:
  cd ./generated/&lt;name&gt;
  uv pip install -e .
  &lt;name&gt; --help
```

## Checkpoints
User can exit at any step. Progress is not lost:
- Spec saved to ./specs/&lt;name&gt;.json
- Generated code in ./generated/&lt;name&gt;
- Can resume with individual commands</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Context Flow Pattern</h3>
                <p class="mb-4">Commands work together through artifacts:</p>
                <div class="mermaid-container mermaid-walkthrough" id="command-workflow-diagram" data-walkthrough="command-workflow">
                    <div class="mermaid-container-title">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17V7m0 10a2 2 0 01-2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h2a2 2 0 012 2m0 10a2 2 0 002 2h2a2 2 0 002-2M9 7a2 2 0 012-2h2a2 2 0 012 2m0 10V7m0 10a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2"/></svg>
                        Command Workflow Diagram
                    </div>
                    <div class="mermaid-controls">
                        <button class="walkthrough-play" title="Play walkthrough (Space)">
                            <svg class="play-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="walkthrough-prev" title="Previous step (←)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button class="walkthrough-next" title="Next step (→)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <button class="walkthrough-reset" title="Reset (R)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                        <span class="mermaid-step-indicator">Step <span class="current-step">0</span>/<span class="total-steps">0</span></span>
                        <span class="mermaid-step-description">Click play or hover over nodes to explore</span>
                        <span class="mermaid-kbd-hint">
                            <kbd>Space</kbd> <kbd>←</kbd> <kbd>→</kbd>
                        </span>
                    </div>
                    <div class="mermaid hover-mode" id="command-workflow-mermaid">
flowchart TD
    A["/design 'tool description'"] --> B["CLISpec in session memory"]
    B --> C{User choice}
    C -->|"/refine"| D[Updated spec]
    C -->|"/save-spec"| E["specs/tool.json"]
    C -->|"/generate"| F["./generated/tool/"]
    D --> B
    F --> G{Further actions}
    G -->|"/add-command"| H[Add new command]
    G -->|"/implement"| I[Implement logic]
    G -->|"/test"| J[Run tests]
    H --> F
    I --> F
    J --> K[Results]
    style A fill:#e0f2fe,stroke:#0284c7
    style B fill:#fef3c7,stroke:#d97706
    style C fill:#f3e8ff,stroke:#9333ea
    style F fill:#dcfce7,stroke:#16a34a
    style K fill:#dcfce7,stroke:#16a34a
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Exercise: Full Workflow</h3>
                <p class="mb-4">Run the complete workflow:</p>
                <pre><code class="language-text">/new-cli "A password generator with configurable length and character sets"</code></pre>
                <p class="mt-4 mb-2">Observe:</p>
                <ol class="list-decimal list-inside mb-4 space-y-1">
                    <li>How design captures requirements</li>
                    <li>How generation creates structure</li>
                    <li>How implementation adds logic</li>
                    <li>How tests verify behavior</li>
                </ol>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 4 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d4-1" @change="saveChecklist('d4-1', $event.target.checked)" :checked="checklist['d4-1']"><label for="d4-1">Three more commands created (/refine, /save-spec, /new-cli)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d4-2" @change="saveChecklist('d4-2', $event.target.checked)" :checked="checklist['d4-2']"><label for="d4-2">/new-cli successfully chains all other commands</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d4-3" @change="saveChecklist('d4-3', $event.target.checked)" :checked="checklist['d4-3']"><label for="d4-3">Completed one CLI using the full workflow</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d4-4" @change="saveChecklist('d4-4', $event.target.checked)" :checked="checklist['d4-4']"><label for="d4-4">Context flows between commands via session and files</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(4)" :class="completedDays.includes(4) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(4) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 5 -->
            <section id="day-5" class="day-section week-1" x-intersect:enter="currentSection = 'day-5'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-sm font-medium rounded-full">Day 5 of 14</span>
                    <button @click="toggleBookmark('day-5', 'Day 5: Claude Code Hooks')" :class="isBookmarked('day-5') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-5') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 5: Claude Code Hooks</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 5 of 14 • Week 1: Foundation</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand Claude Code's hook system</li>
                    <li>Configure hooks in <code>settings.json</code></li>
                    <li>Write hook scripts that receive JSON and use exit codes</li>
                    <li>Block dangerous operations automatically</li>
                    <li>Use JSON responses for advanced control (modify inputs, suppress output)</li>
                </ul>

                <!-- What Are Real Hooks -->
                <h3 class="text-xl font-semibold mb-3">What Are Claude Code Hooks?</h3>
                <p class="mb-4">Hooks are <strong>shell commands that Claude Code runs automatically</strong> at specific lifecycle points. They're configured in <code>.claude/settings.json</code> and can:</p>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li><strong>Block operations</strong> by exiting with code 2</li>
                    <li><strong>Inject context</strong> by printing to stdout</li>
                    <li><strong>Log/monitor</strong> without affecting execution</li>
                </ul>

                <!-- Key Concept Box -->
                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-6 mb-8">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        Key Concept: Hooks Are Automatic
                    </h4>
                    <p class="mb-3">Unlike slash commands (which you invoke) or skills (which Claude decides to use), <strong>hooks run automatically</strong> when their trigger event occurs.</p>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 font-mono text-sm">
                        <div class="text-gray-500 dark:text-gray-400"># You don't call hooks - they intercept Claude's actions</div>
                        <div class="mt-2">Claude tries to write file → <span class="text-amber-600">PreToolUse hook runs</span> → Hook decides allow/block</div>
                    </div>
                </div>

                <!-- Hook Lifecycle Diagram -->
                <div class="mermaid-container mermaid-walkthrough" id="hook-lifecycle-diagram" data-walkthrough="hook-lifecycle">
                    <div class="mermaid-container-title">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/></svg>
                        Hook Lifecycle Flow
                    </div>
                    <div class="mermaid-controls">
                        <button class="walkthrough-play" title="Play walkthrough (Space)">
                            <svg class="play-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="walkthrough-prev" title="Previous step (←)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button class="walkthrough-next" title="Next step (→)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <button class="walkthrough-reset" title="Reset (R)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                        <span class="mermaid-step-indicator">Step <span class="current-step">0</span>/<span class="total-steps">0</span></span>
                        <span class="mermaid-step-description">Click play or hover over nodes to explore</span>
                        <span class="mermaid-kbd-hint">
                            <kbd>Space</kbd> <kbd>←</kbd> <kbd>→</kbd>
                        </span>
                    </div>
                    <div class="mermaid hover-mode" id="hook-lifecycle-mermaid">
flowchart LR
    A[Claude Tool Call] --> B[PreToolUse Hook]
    B -->|Exit 0| C[Execute Tool]
    B -->|Exit 2| D[BLOCKED]
    C --> E[PostToolUse Hook]
    E --> F[Continue]
    D --> G[Error to Claude]
    G --> H[Claude Adjusts]
    style A fill:#e0f2fe,stroke:#0284c7
    style B fill:#fef3c7,stroke:#d97706
    style C fill:#dcfce7,stroke:#16a34a
    style D fill:#fee2e2,stroke:#dc2626
    style E fill:#fef3c7,stroke:#d97706
    style F fill:#dcfce7,stroke:#16a34a
    style G fill:#fef3c7,stroke:#d97706
    style H fill:#e0f2fe,stroke:#0284c7
                    </div>
                </div>

                <!-- 9 Hook Types -->
                <h3 class="text-xl font-semibold mt-8 mb-3">The 9 Hook Types</h3>
                <p class="mb-4">Claude Code provides nine distinct hooks that fire at different lifecycle stages:</p>

                <div class="overflow-x-auto mb-6">
                    <table class="w-full text-sm border-collapse">
                        <thead>
                            <tr class="bg-gray-100 dark:bg-gray-800">
                                <th class="text-left py-2 px-3 border-b dark:border-gray-700">Hook</th>
                                <th class="text-left py-2 px-3 border-b dark:border-gray-700">When It Fires</th>
                                <th class="text-left py-2 px-3 border-b dark:border-gray-700">Can Block?</th>
                                <th class="text-left py-2 px-3 border-b dark:border-gray-700">Use Case</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">PreToolUse</td>
                                <td class="py-2 px-3">Before tool execution</td>
                                <td class="py-2 px-3"><span class="text-green-600">Yes</span></td>
                                <td class="py-2 px-3">Block dangerous writes, validate inputs</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">PostToolUse</td>
                                <td class="py-2 px-3">After tool completes</td>
                                <td class="py-2 px-3"><span class="text-gray-500">No</span></td>
                                <td class="py-2 px-3">Validate output, run linters</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">UserPromptSubmit</td>
                                <td class="py-2 px-3">When user sends message</td>
                                <td class="py-2 px-3"><span class="text-green-600">Yes</span></td>
                                <td class="py-2 px-3">Inject context, validate prompts</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">Stop</td>
                                <td class="py-2 px-3">When Claude finishes responding</td>
                                <td class="py-2 px-3"><span class="text-green-600">Yes</span></td>
                                <td class="py-2 px-3">Run tests, verify completion</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">SubagentStop</td>
                                <td class="py-2 px-3">When a subagent completes</td>
                                <td class="py-2 px-3"><span class="text-green-600">Yes</span></td>
                                <td class="py-2 px-3">Validate subagent output</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">Notification</td>
                                <td class="py-2 px-3">On notifications</td>
                                <td class="py-2 px-3"><span class="text-gray-500">No</span></td>
                                <td class="py-2 px-3">Custom notification handling</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">PreCompact</td>
                                <td class="py-2 px-3">Before context compaction</td>
                                <td class="py-2 px-3"><span class="text-gray-500">No</span></td>
                                <td class="py-2 px-3">Save important context</td>
                            </tr>
                            <tr class="border-b dark:border-gray-700">
                                <td class="py-2 px-3 font-mono text-primary">SessionStart</td>
                                <td class="py-2 px-3">When session begins</td>
                                <td class="py-2 px-3"><span class="text-gray-500">No</span></td>
                                <td class="py-2 px-3">Load project context</td>
                            </tr>
                            <tr>
                                <td class="py-2 px-3 font-mono text-primary">SessionEnd</td>
                                <td class="py-2 px-3">When session terminates</td>
                                <td class="py-2 px-3"><span class="text-gray-500">No</span></td>
                                <td class="py-2 px-3">Cleanup, save logs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <!-- Exit Code Box -->
                <div class="bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-6 mb-8">
                    <h4 class="text-lg font-semibold mb-3">Exit Codes Control Flow</h4>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border-l-4 border-green-500">
                            <div class="font-mono text-lg text-green-600 mb-1">exit(0)</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Success - allow operation</div>
                            <div class="text-xs text-gray-500 mt-1">stdout shown to user</div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border-l-4 border-red-500">
                            <div class="font-mono text-lg text-red-600 mb-1">exit(2)</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Block - stop operation</div>
                            <div class="text-xs text-gray-500 mt-1">stderr fed back to Claude</div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border-l-4 border-gray-400">
                            <div class="font-mono text-lg text-gray-600 mb-1">exit(1)</div>
                            <div class="text-sm text-gray-600 dark:text-gray-400">Error - non-blocking</div>
                            <div class="text-xs text-gray-500 mt-1">stderr shown to user only</div>
                        </div>
                    </div>
                </div>

                <!-- Step 1: Configure Hooks in settings.json -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Step 1: Configure Hooks in settings.json</h3>
                <p class="mb-4">Hook configuration lives in <code>.claude/settings.json</code>. Add a <code>hooks</code> section:</p>

                <pre><code class="language-json">{
  "hooks": {
    "PreToolUse": [
      { "matcher": "Write|Edit", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/pre_tool_use.py" }
      ]}
    ],
    "PostToolUse": [
      { "matcher": "Write", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/post_tool_use.py" }
      ]}
    ],
    "Stop": [
      { "matcher": "", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/stop.py" }
      ]}
    ],
    "UserPromptSubmit": [
      { "matcher": "", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/user_prompt_submit.py" }
      ]}
    ],
    "SessionStart": [
      { "matcher": "", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/session_start.py" }
      ]}
    ],
    "PreCompact": [
      { "matcher": "", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/pre_compact.py" }
      ]}
    ],
    "SessionEnd": [
      { "matcher": "", "hooks": [
        { "type": "command", "command": "uv run python .claude/hooks/session_end.py" }
      ]}
    ]
  }
}</code></pre>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-4">
                    <p class="text-sm"><strong>Format:</strong> <code>matcher</code> is a regex matching tool names (<code>"Write|Edit"</code> matches both). Empty <code>""</code> matches all.</p>
                </div>

                <!-- Step 2: Create Hook Scripts -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Step 2: Create Hook Scripts</h3>
                <p class="mb-4">Hook scripts receive JSON via stdin and communicate via exit codes. Here's the pattern:</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 1: PreToolUse - Security Validation</h4>
                <p class="mb-2">Create <code>.claude/hooks/pre_tool_use.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
PreToolUse Hook: Runs BEFORE Claude writes/edits files.
Blocks dangerous patterns in generated code.

Communication options:
  - Simple: exit(0) allow, exit(2) block (stderr sent to Claude)
  - Advanced: Print JSON with {"decision": "block", "reason": "..."}
"""
import json
import re
import sys

DANGEROUS_PATTERNS = [
    (r"\beval\s*\(", "eval() is forbidden"),
    (r"\bexec\s*\(", "exec() is forbidden"),
    (r"shell\s*=\s*True", "shell=True is forbidden"),
]
FORBIDDEN_PATHS = [".env", "credentials", "secrets"]


def block(reason: str, use_json: bool = False):
    """Block operation - either via exit code or JSON response."""
    if use_json:
        print(json.dumps({"decision": "block", "reason": reason}))
        sys.exit(0)
    else:
        print(f"BLOCKED: {reason}", file=sys.stderr)
        sys.exit(2)


def main():
    try:
        input_data = json.load(sys.stdin)
        tool_name = input_data.get("tool_name", "")
        tool_input = input_data.get("tool_input", {})

        if tool_name not in ["Write", "Edit"]:
            sys.exit(0)

        file_path = tool_input.get("file_path", "")

        # Check forbidden paths
        for forbidden in FORBIDDEN_PATHS:
            if forbidden in file_path.lower():
                block(f"Cannot write to '{file_path}'")

        # Check Python files in generated/ for dangerous patterns
        content = tool_input.get("content", "") or tool_input.get("new_string", "")
        if file_path.endswith(".py") and "generated/" in file_path:
            for pattern, message in DANGEROUS_PATTERNS:
                if re.search(pattern, content, re.IGNORECASE):
                    block(message)

        sys.exit(0)  # All checks passed

    except Exception:
        sys.exit(0)  # Fail open


if __name__ == "__main__":
    main()</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 2: PostToolUse - Syntax Validation</h4>
                <p class="mb-2">Create <code>.claude/hooks/post_tool_use.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
PostToolUse Hook: Runs AFTER Claude writes files.
Validates Python syntax - stdout feedback helps Claude self-correct.
"""
import ast
import json
import sys
from pathlib import Path


def main():
    try:
        input_data = json.load(sys.stdin)
        tool_input = input_data.get("tool_input", {})
        file_path = tool_input.get("file_path", "")

        # Only validate Python files in generated/
        if not file_path.endswith(".py") or "generated/" not in file_path:
            sys.exit(0)

        path = Path(file_path)
        if not path.exists():
            sys.exit(0)

        try:
            ast.parse(path.read_text())
            print(f"Syntax OK: {file_path}")
        except SyntaxError as e:
            print(f"WARNING: Syntax error in {file_path} line {e.lineno}: {e.msg}")

        sys.exit(0)

    except Exception:
        sys.exit(0)


if __name__ == "__main__":
    main()</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 3: Stop - Test Reminder</h4>
                <p class="mb-2">Create <code>.claude/hooks/stop.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
Stop Hook: Runs when Claude finishes responding.
Can block Claude from stopping (forces continuation).
"""
import json
import sys
from pathlib import Path


def main():
    try:
        input_data = json.load(sys.stdin)

        # Check for generated Python files
        generated = Path("generated")
        if generated.exists() and list(generated.rglob("*.py")):
            print("Reminder: Run tests with 'uv run pytest' or /test")

        sys.exit(0)

    except Exception:
        sys.exit(0)


if __name__ == "__main__":
    main()</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 4: UserPromptSubmit - Context Injection</h4>
                <p class="mb-2">Create <code>.claude/hooks/user_prompt_submit.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
UserPromptSubmit Hook: Runs when user submits a prompt.
Injects project context that Claude will see.
"""
import json
import sys


def main():
    try:
        input_data = json.load(sys.stdin)

        # Add context Claude will see with every prompt
        print("Project: CLI Generator")
        print("Standards: Follow Click conventions, type hints required")
        print("---")

        sys.exit(0)

    except Exception:
        sys.exit(0)


if __name__ == "__main__":
    main()</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 5: SessionStart - Environment Check</h4>
                <p class="mb-2">Create <code>.claude/hooks/session_start.py</code>:</p>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 mb-4">
                    <p class="text-sm"><strong>SessionStart vs CLAUDE.md:</strong> CLAUDE.md is static text loaded into context. SessionStart runs dynamic commands (check git, verify deps, fetch config).</p>
                </div>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
SessionStart Hook: Runs once when session begins.
Use for dynamic checks that CLAUDE.md can't do.
"""
import json
import subprocess
import sys

def main():
    try:
        input_data = json.load(sys.stdin)

        # Show current git branch
        branch = subprocess.run(
            ["git", "branch", "--show-current"],
            capture_output=True, text=True
        )
        if branch.stdout.strip():
            print(f"Branch: {branch.stdout.strip()}")

        sys.exit(0)
    except Exception:
        sys.exit(0)

if __name__ == "__main__":
    main()</code></pre>

                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 mb-4"><strong>What you'll see:</strong> Branch name appears in session output when Claude Code starts.</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 6: PreCompact - Save Context</h4>
                <p class="mb-2">Create <code>.claude/hooks/pre_compact.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
PreCompact Hook: Runs before context summarization.
Inject reminders that survive compaction.
"""
import json
import sys

def main():
    try:
        input_data = json.load(sys.stdin)

        # Remind Claude of critical context before compaction
        print("Remember: Generated CLIs use Click, type hints required.")

        sys.exit(0)
    except Exception:
        sys.exit(0)

if __name__ == "__main__":
    main()</code></pre>

                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 mb-4"><strong>What you'll see:</strong> Before long conversations get summarized, your reminder gets injected into the compacted context.</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook 7: SessionEnd - Cleanup &amp; Logging</h4>
                <p class="mb-2">Create <code>.claude/hooks/session_end.py</code>:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
SessionEnd Hook: Runs when Claude Code session terminates.
Use for cleanup, logging, or notifications.
"""
import json
import sys
from datetime import datetime
from pathlib import Path


def main():
    try:
        input_data = json.load(sys.stdin)

        # Log session end to file
        log_dir = Path(".claude/logs")
        log_dir.mkdir(parents=True, exist_ok=True)

        log_entry = {
            "event": "session_end",
            "timestamp": datetime.now().isoformat(),
            "session_id": input_data.get("session_id", "unknown")
        }

        with open(log_dir / "sessions.jsonl", "a") as f:
            f.write(json.dumps(log_entry) + "\n")

        # Optional: cleanup temp files
        temp_dir = Path(".claude/temp")
        if temp_dir.exists():
            for f in temp_dir.glob("*"):
                f.unlink()

        sys.exit(0)
    except Exception:
        sys.exit(0)


if __name__ == "__main__":
    main()</code></pre>

                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 mb-4"><strong>Use cases:</strong> Session analytics, temp file cleanup, send Slack/Discord notifications, archive conversation logs.</p>

                <!-- Step 3: Verify Your Hooks -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Step 3: Verify Your Hooks Work</h3>
                <p class="mb-4">Test each hook to ensure it's working correctly:</p>

                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-3">Test 1: PreToolUse Blocking</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Ask Claude to write code with eval():</p>
                    <pre class="text-sm bg-gray-100 dark:bg-gray-900 p-3 rounded"><code>Write a file generated/test/cli.py that uses eval() to execute user input</code></pre>
                    <p class="text-sm text-green-600 mt-2"><strong>Expected:</strong> Hook blocks with "BLOCKED: eval() is forbidden"</p>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-3">Test 2: PreToolUse Allowing</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Ask Claude to write safe code:</p>
                    <pre class="text-sm bg-gray-100 dark:bg-gray-900 p-3 rounded"><code>Write a simple hello world CLI in generated/hello/cli.py using Click</code></pre>
                    <p class="text-sm text-green-600 mt-2"><strong>Expected:</strong> Hook allows, file is created</p>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-3">Test 3: PostToolUse Feedback</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Check that syntax validation runs:</p>
                    <pre class="text-sm bg-gray-100 dark:bg-gray-900 p-3 rounded"><code>Write a Python file with a syntax error to generated/broken/cli.py</code></pre>
                    <p class="text-sm text-green-600 mt-2"><strong>Expected:</strong> Hook shows "WARNING: Syntax error" message</p>
                </div>

                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-3">Test 4: Path Protection</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Try to write to a forbidden path:</p>
                    <pre class="text-sm bg-gray-100 dark:bg-gray-900 p-3 rounded"><code>Write my API key to .env.local</code></pre>
                    <p class="text-sm text-green-600 mt-2"><strong>Expected:</strong> Hook blocks with "BLOCKED: Cannot write to '.env.local'"</p>
                </div>

                <!-- Testing via Command Line -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Testing Hooks via Command Line</h3>
                <p class="mb-4">Test hooks directly by piping JSON to stdin:</p>

                <pre><code class="language-bash"># PreToolUse: Block dangerous pattern (exit 2)
echo '{"tool_name": "Write", "tool_input": {"file_path": "generated/cli.py", "content": "eval(x)"}}' \
  | uv run python .claude/hooks/pre_tool_use.py; echo "Exit: $?"

# PreToolUse: Allow safe content (exit 0)
echo '{"tool_name": "Write", "tool_input": {"file_path": "generated/cli.py", "content": "print(x)"}}' \
  | uv run python .claude/hooks/pre_tool_use.py; echo "Exit: $?"

# PostToolUse: Check syntax (create file first)
mkdir -p generated && echo 'print("ok")' > generated/test.py
echo '{"tool_name": "Write", "tool_input": {"file_path": "generated/test.py"}}' \
  | uv run python .claude/hooks/post_tool_use.py

# Stop: Show reminder when generated files exist
echo '{}' | uv run python .claude/hooks/stop.py

# UserPromptSubmit: Inject context
echo '{"prompt": "Write a CLI"}' | uv run python .claude/hooks/user_prompt_submit.py</code></pre>

                <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 my-4">
                    <p class="text-sm"><strong>Exit codes:</strong> <code>0</code> = allow, <code>2</code> = block. Only PreToolUse can block (before operation). PostToolUse/Stop provide feedback only.</p>
                </div>

                <!-- How Claude Sees Blocked Operations -->
                <h3 class="text-xl font-semibold mt-8 mb-3">What Claude Sees When Blocked</h3>
                <p class="mb-4">When a hook exits with code 2, Claude receives the stderr output and adjusts:</p>

                <div class="bg-gray-100 dark:bg-gray-800 rounded-lg p-4 font-mono text-sm mb-6">
                    <div class="text-red-500 mb-2">Hook blocked operation:</div>
                    <div class="text-gray-600 dark:text-gray-400">BLOCKED: eval() is forbidden</div>
                    <div class="text-gray-600 dark:text-gray-400">Found in: generated/test/cli.py</div>
                    <div class="mt-3 text-blue-500">Claude's response:</div>
                    <div class="text-gray-700 dark:text-gray-300">"I'll rewrite this without eval() - let me use a safer approach..."</div>
                </div>

                <!-- Advanced: JSON Response Reference -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Advanced: JSON Response Reference</h3>
                <p class="mb-4">For fine-grained control, print JSON to stdout instead of using exit codes. Here's the complete schema:</p>

                <pre><code class="language-python">#!/usr/bin/env python3
"""
Complete JSON Response Schema for Claude Code Hooks.
Not all fields are required - use only what you need.
"""
import json

# === UNIVERSAL FIELDS (all hooks) ===
response = {
    # Emergency stop - highest priority, overrides everything
    "continue": True,              # False = stop Claude entirely
    "stopReason": "User message",  # Shown to user when continue=False

    # Output control
    "suppressOutput": False,       # True = hide stdout from transcript
    "systemMessage": "Warning",    # Warning banner shown to user
}

# === PreToolUse SPECIFIC ===
pretool_response = {
    "decision": "block",           # "approve" | "block" (deprecated names)
    "reason": "Fed to Claude",     # Claude sees this, adjusts behavior

    # Newer pattern (v2.0.45+) - more explicit
    "hookSpecificOutput": {
        "permissionDecision": "deny",  # "allow" | "deny" | "ask"
        "permissionDecisionReason": "Shown to user, not Claude",
        "updatedInput": {              # Modify tool parameters!
            "command": "safer_command"
        }
    }
}

# === PostToolUse SPECIFIC ===
posttool_response = {
    "decision": "block",           # Feedback only (tool already ran)
    "reason": "Issue found",       # Claude sees this for next action
}

# === Stop/SubagentStop SPECIFIC ===
stop_response = {
    "decision": "block",           # Forces Claude to continue working
    "reason": "Tests not run yet", # REQUIRED - tells Claude what to do
}</code></pre>

                <!-- Control Flow Priority -->
                <div class="bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-6 my-6">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <svg class="w-5 h-5 text-amber-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        Control Flow Priority
                    </h4>
                    <p class="text-sm mb-3">When multiple control mechanisms are used, this priority applies:</p>
                    <div class="flex flex-wrap items-center gap-2 font-mono text-sm">
                        <span class="px-3 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-300 rounded-full">continue: false</span>
                        <span class="text-gray-400">→</span>
                        <span class="px-3 py-1 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded-full">JSON "decision": "block"</span>
                        <span class="text-gray-400">→</span>
                        <span class="px-3 py-1 bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-300 rounded-full">exit code 2</span>
                    </div>
                    <p class="text-xs text-gray-600 dark:text-gray-400 mt-2"><code>continue: false</code> is the nuclear option - stops Claude immediately with no recovery.</p>
                </div>

                <!-- Advanced Patterns Section -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Advanced Patterns</h3>

                <!-- Pattern 1: Modify Tool Input -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-2 flex items-center gap-2">
                        <span class="px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 text-xs rounded">PreToolUse</span>
                        Modify Tool Parameters
                    </h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Silently modify tool inputs before execution (invisible to Claude):</p>
                    <pre class="text-sm"><code class="language-python"># Add safety flags to Bash commands
def modify_bash_command():
    data = json.load(sys.stdin)
    if data.get("tool_name") == "Bash":
        cmd = data["tool_input"].get("command", "")
        # Add timeout to long-running commands
        if "npm install" in cmd:
            response = {
                "hookSpecificOutput": {
                    "permissionDecision": "allow",
                    "updatedInput": {
                        "command": f"timeout 300 {cmd}",
                        "description": data["tool_input"].get("description", "")
                    }
                }
            }
            print(json.dumps(response))
            return
    sys.exit(0)</code></pre>
                </div>

                <!-- Pattern 2: Suppress Output -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-2 flex items-center gap-2">
                        <span class="px-2 py-0.5 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 text-xs rounded">Any Hook</span>
                        Silent Logging
                    </h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Log events without cluttering the transcript:</p>
                    <pre class="text-sm"><code class="language-python"># Log all tool calls to file without showing in transcript
def silent_logger():
    data = json.load(sys.stdin)
    with open(".claude/logs/tools.jsonl", "a") as f:
        f.write(json.dumps({
            "timestamp": datetime.now().isoformat(),
            "tool": data.get("tool_name"),
            "input": data.get("tool_input")
        }) + "\n")

    # Suppress any stdout from appearing in transcript
    print(json.dumps({"suppressOutput": True}))
    sys.exit(0)</code></pre>
                </div>

                <!-- Pattern 3: Force Continuation -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-2 flex items-center gap-2">
                        <span class="px-2 py-0.5 bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 text-xs rounded">Stop</span>
                        Force Task Completion
                    </h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Prevent Claude from stopping until requirements are met:</p>
                    <pre class="text-sm"><code class="language-python"># Block stopping until tests pass
def ensure_tests_pass():
    data = json.load(sys.stdin)

    # Check if tests exist and pass
    result = subprocess.run(
        ["uv", "run", "pytest", "-q", "--tb=no"],
        capture_output=True, text=True
    )

    if result.returncode != 0:
        print(json.dumps({
            "decision": "block",
            "reason": f"Tests failing. Fix before completing:\n{result.stdout}"
        }))
    sys.exit(0)</code></pre>
                </div>

                <!-- Pattern 4: Emergency Stop -->
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700 mb-4">
                    <h4 class="font-semibold mb-2 flex items-center gap-2">
                        <span class="px-2 py-0.5 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 text-xs rounded">Any Hook</span>
                        Emergency Stop
                    </h4>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">Immediately halt Claude (use sparingly):</p>
                    <pre class="text-sm"><code class="language-python"># Stop everything if cost threshold exceeded
def cost_guard():
    data = json.load(sys.stdin)

    if get_session_cost() > MAX_COST_THRESHOLD:
        print(json.dumps({
            "continue": False,
            "stopReason": "Session cost limit reached. Please start a new session."
        }))
    sys.exit(0)</code></pre>
                    <p class="text-xs text-red-600 dark:text-red-400 mt-2">⚠️ <code>continue: false</code> cannot be recovered from - Claude stops immediately.</p>
                </div>

                <!-- PermissionRequest Hook Note -->
                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-6">
                    <p class="text-sm"><strong>New in v2.0.45:</strong> The <code>PermissionRequest</code> hook intercepts permission dialogs before they're shown to users. Useful for auto-approving safe operations or adding custom approval logic. See <a href="https://code.claude.com/docs/en/hooks" class="text-blue-600 hover:underline" target="_blank">official docs</a>.</p>
                </div>

                <!-- Hook Execution Environment -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Hook Execution Environment</h3>
                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700">
                        <div class="font-semibold mb-2">Timeout</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">60 seconds per hook</div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700">
                        <div class="font-semibold mb-2">Parallelization</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">All matching hooks run in parallel</div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700">
                        <div class="font-semibold mb-2">Working Directory</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Current project directory</div>
                    </div>
                    <div class="bg-white dark:bg-gray-800 rounded-lg p-4 border border-gray-200 dark:border-gray-700">
                        <div class="font-semibold mb-2">Environment</div>
                        <div class="text-sm text-gray-600 dark:text-gray-400">Inherits Claude Code's env vars</div>
                    </div>
                </div>

                <!-- Best Practices -->
                <h3 class="text-xl font-semibold mt-8 mb-3">Best Practices</h3>
                <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border border-green-200 dark:border-green-800 rounded-lg p-6 mb-6">
                    <ul class="space-y-2 text-sm">
                        <li><strong>Fail open</strong> - Use <code>sys.exit(0)</code> in exception handlers</li>
                        <li><strong>Clear messages</strong> - Provide helpful error messages in stderr</li>
                        <li><strong>Start simple</strong> - Use exit codes first, JSON only when needed</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 5 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d5-1" @change="saveChecklist('d5-1', $event.target.checked)" :checked="checklist['d5-1']"><label for="d5-1">Hooks configured in .claude/settings.json (7 hooks)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d5-2" @change="saveChecklist('d5-2', $event.target.checked)" :checked="checklist['d5-2']"><label for="d5-2">PreToolUse blocks dangerous patterns, PostToolUse validates syntax</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d5-3" @change="saveChecklist('d5-3', $event.target.checked)" :checked="checklist['d5-3']"><label for="d5-3">Stop shows test reminder, UserPromptSubmit injects context</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d5-4" @change="saveChecklist('d5-4', $event.target.checked)" :checked="checklist['d5-4']"><label for="d5-4">SessionStart/PreCompact/SessionEnd lifecycle hooks working</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d5-5" @change="saveChecklist('d5-5', $event.target.checked)" :checked="checklist['d5-5']"><label for="d5-5">Tested hooks via command line</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d5-6" @change="saveChecklist('d5-6', $event.target.checked)" :checked="checklist['d5-6']"><label for="d5-6">Understand JSON response schema and control flow priority</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(5)" :class="completedDays.includes(5) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(5) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Week 2 Banner -->
            <div class="week-banner week-2">
                <div class="week-banner-content">
                    <div class="week-banner-icon">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path></svg>
                    </div>
                    <div class="week-banner-title">Week 2: Intelligence</div>
                    <div class="week-banner-subtitle">Skills, Subagents, and MCP Tools</div>
                    <div class="week-banner-days">Days 6-10</div>
                </div>
            </div>

            <!-- Day 6 -->
            <section id="day-6" class="day-section week-2" x-intersect:enter="currentSection = 'day-6'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">Day 1 of 5</span>
                    <button @click="toggleBookmark('day-6', 'Day 6: Context-Aware Skills')" :class="isBookmarked('day-6') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-6') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 6: Context-Aware Skills</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 6 of 14 • Week 2: Intelligence</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand skills as markdown instruction files (not code)</li>
                    <li>Apply TDD to skill creation: test scenario first, then content</li>
                    <li>Create workflow skills with phases, checkpoints, and red flags</li>
                    <li>Build project-specific skills tailored to your workflow</li>
                    <li>Avoid common anti-patterns that make skills fail</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">What Are Skills?</h3>
                <p class="mb-4">Skills are <strong>markdown files</strong> that teach Claude specialized capabilities. They're not code—they're instructions Claude reads and follows when relevant.</p>

                <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 mb-6">
                    <p class="font-semibold text-blue-800 dark:text-blue-200">Key Insight</p>
                    <p class="text-blue-700 dark:text-blue-300">Skills are context documents, not programmatic components. You don't write Python code—you write markdown instructions that Claude follows naturally.</p>
                </div>

                <table>
                    <thead><tr><th>Aspect</th><th>Commands</th><th>Skills</th></tr></thead>
                    <tbody>
                        <tr><td>Format</td><td>Markdown prompt file</td><td>SKILL.md with YAML frontmatter</td></tr>
                        <tr><td>Activation</td><td>Explicit (/command)</td><td>Model-invoked (Claude decides)</td></tr>
                        <tr><td>Discovery</td><td>User knows command exists</td><td>Claude reads description, matches to task</td></tr>
                        <tr><td>Location</td><td><code>.claude/commands/</code></td><td><code>.claude/skills/skill-name/</code></td></tr>
                    </tbody>
                </table>

                <h3 class="text-xl font-semibold mt-8 mb-3">SKILL.md Structure</h3>
                <p class="mb-4">Every skill requires a <code>SKILL.md</code> file with YAML frontmatter:</p>

                <pre><code class="language-yaml">---
name: skill-name-here
description: What this skill does and when to use it.
---

# Skill Title

[Markdown instructions Claude follows]</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Frontmatter Fields</h4>
                <table>
                    <thead><tr><th>Field</th><th>Required</th><th>Rules</th></tr></thead>
                    <tbody>
                        <tr><td><code>name</code></td><td>Yes</td><td>Lowercase, hyphens, max 64 chars. Use gerund form: <code>suggesting-patterns</code></td></tr>
                        <tr><td><code>description</code></td><td>Yes</td><td>Max 1024 chars. Include what + when. Third person only.</td></tr>
                        <tr><td><code>allowed-tools</code></td><td>No</td><td>Comma-separated tools Claude can use without permission</td></tr>
                    </tbody>
                </table>

                <h3 class="text-xl font-semibold mt-8 mb-3">How Skills Are Activated</h3>
                <p class="mb-4">Skills use a three-step model-invoked process:</p>
                <ol class="list-decimal list-inside mb-6 space-y-2">
                    <li><strong>Discovery:</strong> At startup, only <code>name</code> and <code>description</code> are loaded</li>
                    <li><strong>Matching:</strong> Claude compares your request to skill descriptions</li>
                    <li><strong>Activation:</strong> When relevant, Claude asks permission then loads full SKILL.md</li>
                </ol>

                <!-- Skills Activation Flow Diagram -->
                <div class="mermaid-container mermaid-walkthrough" id="skills-activation-diagram" data-walkthrough="skills-activation">
                    <div class="mermaid-container-title">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/></svg>
                        Skill Activation Flow
                    </div>
                    <div class="mermaid-controls">
                        <button class="walkthrough-play" title="Play walkthrough (Space)">
                            <svg class="play-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="walkthrough-prev" title="Previous step (←)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button class="walkthrough-next" title="Next step (→)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <button class="walkthrough-reset" title="Reset (R)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                        <span class="mermaid-step-indicator">Step <span class="current-step">0</span>/<span class="total-steps">0</span></span>
                        <span class="mermaid-step-description">Click play or hover over nodes to explore</span>
                        <span class="mermaid-kbd-hint">
                            <kbd>Space</kbd> <kbd>←</kbd> <kbd>→</kbd>
                        </span>
                    </div>
                    <div class="mermaid hover-mode" id="skills-activation-mermaid">
flowchart LR
    A[User Request] --> B[Skill Discovery]
    B --> C{Match Found?}
    C -->|Yes| D[Request Permission]
    C -->|No| E[Normal Processing]
    D --> F{User Approves?}
    F -->|Yes| G[Load Full SKILL.md]
    F -->|No| E
    G --> H[Execute with Skill Context]
    H --> I[Task Complete]
    E --> I
    style A fill:#f1f5f9,stroke:#64748b
    style B fill:#e0f2fe,stroke:#0284c7
    style C fill:#fef3c7,stroke:#d97706
    style D fill:#fce7f3,stroke:#db2777
    style E fill:#f3e8ff,stroke:#9333ea
    style F fill:#fef3c7,stroke:#d97706
    style G fill:#dcfce7,stroke:#16a34a
    style H fill:#dcfce7,stroke:#16a34a
    style I fill:#f1f5f9,stroke:#64748b
                    </div>
                </div>

                <div class="bg-yellow-50 dark:bg-yellow-900/30 border-l-4 border-yellow-500 p-4 mb-6">
                    <p class="font-semibold text-yellow-800 dark:text-yellow-200">Critical: Description Quality</p>
                    <p class="text-yellow-700 dark:text-yellow-300">The <code>description</code> field determines when Claude activates your skill. Vague descriptions like "Helps with CLIs" won't work. Be specific about what and when.</p>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Your First Skill: The Meta-Skill</h3>
                <p class="mb-4">Start by creating a skill that teaches how to write skills. This "meta-skill" pattern helps you learn by doing:</p>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/skills/writing-skills/SKILL.md</code></p>

                <pre><code class="language-markdown">---
name: writing-skills
description: Use when creating new skills, editing existing skills, or verifying skills work correctly. Provides the methodology for effective skill authoring.
---

# Writing Skills

## Core Principle

Apply TDD to skill creation: write the test scenario first, then write the skill to pass it.

## The RED-GREEN-REFACTOR Cycle for Skills

### RED: Define the Test Scenario
Before writing ANY skill content:
1. Write a specific prompt that SHOULD trigger this skill
2. Write what Claude SHOULD do when the skill activates
3. Write what Claude should NOT do

Example test scenario:
```
TRIGGER: "Help me debug why my CLI command isn't working"
EXPECTED: Claude uses systematic 4-phase debugging approach
NOT EXPECTED: Claude immediately suggests fixes without investigation
```

### GREEN: Write Minimal Skill
Write just enough in SKILL.md to pass your test scenario.
- Start with frontmatter (name, description)
- Add the core methodology
- Include explicit "do not" instructions

### REFACTOR: Improve Based on Usage
After testing with real prompts:
- Tighten descriptions if skill triggers incorrectly
- Add examples if Claude misinterprets instructions
- Remove content Claude already knows

## Skill Quality Checklist

Before considering a skill complete:
- [ ] Test scenario written BEFORE skill content
- [ ] Description includes WHAT and WHEN
- [ ] Explicit "Do NOT" section included
- [ ] Tested in fresh Claude Code session
- [ ] Asked Claude "What was unclear?" after use

## Red Flags (Restart Required)

- Writing skill content before test scenario
- Skill that triggers on first try without testing
- No "Do NOT" section
- Description uses first person ("I help...")</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Workflow Skills: Complete Methodologies</h3>
                <p class="mb-4">Skills aren't just suggestions—they can be complete methodologies with phases, checkpoints, and anti-patterns:</p>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/skills/systematic-debugging/SKILL.md</code></p>

                <pre><code class="language-markdown">---
name: systematic-debugging
description: Use when encountering any bug, test failure, or unexpected behavior. Provides a 4-phase methodology that must be followed BEFORE proposing any fixes.
---

# Systematic Debugging

## CRITICAL RULE

**NO FIXES WITHOUT ROOT CAUSE INVESTIGATION FIRST.**

If you catch yourself proposing a fix before completing Phase 1, STOP and restart.

## Phase 1: Root Cause Investigation

Before ANY fix attempts:
1. Read the COMPLETE error message (not just the first line)
2. Reproduce the issue with a minimal example
3. Check what changed recently (git diff, recent edits)
4. Gather evidence: logs, stack traces, variable values

Checkpoint: Can you explain exactly WHY the error occurs?
- YES → Proceed to Phase 2
- NO → Stay in Phase 1, gather more evidence

## Phase 2: Pattern Analysis

1. Find a WORKING example of similar code
2. Compare working vs broken line-by-line
3. Identify the specific difference
4. Understand dependencies involved

Checkpoint: Can you point to the exact line causing the issue?
- YES → Proceed to Phase 3
- NO → Return to Phase 1

## Phase 3: Hypothesis Testing

1. Form ONE specific hypothesis
2. Make ONE minimal change to test it
3. Run the test
4. If it fails, revert and form new hypothesis

**NEVER stack multiple fixes.** One change at a time.

## Phase 4: Implementation

1. Write a test that reproduces the bug
2. Implement the single fix
3. Verify test passes
4. Check for regressions

## Red Flags (Process Violation)

Stop and restart if you notice:
- Proposing fix without completing Phase 1
- Making multiple changes simultaneously
- "Let me try this..." without hypothesis
- Third fix attempt failed → question architecture

## Why This Works

- Systematic: 15-30 min resolution vs 2-3 hours random attempts
- First-time fix rate: ~95% vs ~40% for guess-and-check</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Skill 2: Code Style Enforcer</h3>
                <p class="mb-2"><strong>Purpose:</strong> Ensure generated CLI code follows project conventions.</p>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/skills/enforcing-code-style/SKILL.md</code></p>

                <pre><code class="language-markdown">---
name: enforcing-code-style
description: Enforces Python and Click code style conventions when generating or reviewing CLI code. Use when writing Python code, generating CLI commands, or reviewing code quality.
allowed-tools: Read, Grep, Glob
---

# Code Style Enforcer

## Python Conventions

When generating or reviewing Python code, ensure:

### Imports Order
1. Standard library imports
2. Third-party imports (click, rich, etc.)
3. Local imports

### Type Hints
- All function signatures must have type hints
- Use `|` for unions (Python 3.11+): `str | None`
- Use `list[str]` not `List[str]`

### Click-Specific
- Decorators order: `@cli.command()` then `@click.option()` then `@click.argument()`
- Options before arguments in decorator stack
- Always include `help=` parameter

## Option Naming

### Standard Short Options
| Short | Meaning | Never use for |
|-------|---------|---------------|
| -v | verbose | version |
| -q | quiet | - |
| -o | output | - |
| -f | force | - |
| -n | dry-run | - |
| -r | recursive | - |

### Long Option Format
- Use kebab-case: `--output-file` not `--outputFile`
- Use full words: `--config` not `--cfg`

## When to Flag Issues

If you see code that violates these conventions:
1. Point out the specific violation
2. Show the corrected version
3. Explain why the convention matters</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Skill 3: Test Coverage Advisor</h3>
                <p class="mb-2"><strong>Purpose:</strong> Suggest test cases when generating CLI commands.</p>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/skills/advising-test-coverage/SKILL.md</code></p>

                <pre><code class="language-markdown">---
name: advising-test-coverage
description: Suggests comprehensive test cases for CLI commands including edge cases and error scenarios. Use when generating tests, discussing test coverage, or after implementing CLI commands.
---

# Test Coverage Advisor

## Test Categories to Suggest

For each CLI command, ensure tests cover:

### 1. Happy Path
- Basic usage with required arguments only
- Usage with all options specified
- Common option combinations

### 2. Edge Cases
- Empty input
- Very large input
- Special characters in arguments
- Paths with spaces
- Unicode content

### 3. Error Handling
- Missing required arguments
- Invalid option values
- File not found
- Permission denied
- Invalid format/type

### 4. Exit Codes
- 0 for success
- 1 for user error (bad input)
- 2 for system error (file not found)

## Suggestion Format

When reviewing or generating tests:

```
Test coverage for `{command}`:

✅ Covered:
- Basic usage
- Output formatting

⚠️ Missing:
- Edge case: empty input
- Error: invalid format option
- Exit code verification

Suggested test:
def test_{command}_empty_input():
    result = runner.invoke(cli, ['{command}', ''])
    assert result.exit_code == 1
    assert 'error' in result.output.lower()
```</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Project-Specific Skill: CLI Generator Workflow</h3>
                <p class="mb-4">Create a skill tailored to this project's specific workflow:</p>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/skills/cli-generator-workflow/SKILL.md</code></p>

                <pre><code class="language-markdown">---
name: cli-generator-workflow
description: Use when working on CLI Generator project tasks including designing CLIs, generating code, or running the /design, /generate, or /implement commands. Ensures consistent workflow across the project.
---

# CLI Generator Workflow

## Project Context

This skill applies to the CLI Generator project specifically.
For general CLI development, see other skills.

## The Standard Workflow

### 1. Design Phase (/design)
**Input:** Natural language description
**Output:** CLISpec (validated specification)

Checklist:
- [ ] All commands have descriptions
- [ ] Options follow naming conventions (-v=verbose, -o=output)
- [ ] Required arguments identified
- [ ] Examples provided for each command

### 2. Generate Phase (/generate)
**Input:** CLISpec
**Output:** Python code + tests

Checklist:
- [ ] Code passes syntax validation
- [ ] Type hints on all functions
- [ ] Click decorators in correct order
- [ ] Tests generated for each command

### 3. Implement Phase (/implement)
**Input:** Generated code with TODO stubs
**Output:** Working implementation

Checklist:
- [ ] All TODOs replaced with real code
- [ ] Error handling added
- [ ] Tests pass

## Project-Specific Rules

### File Locations
- Generated CLIs: `generated/{cli-name}/`
- Specs: `generated/{cli-name}/spec.json`
- Tests: `generated/{cli-name}/tests/`

### Required Dependencies
Always include in generated CLIs:
- click (CLI framework)
- rich (optional, for pretty output)

### Forbidden Patterns
Never generate:
- eval() or exec()
- Hardcoded credentials
- Commands that delete without --force confirmation

## When NOT to Use This Skill

- Working on cli-generator's own code (not generated CLIs)
- General Python development unrelated to CLI generation
- Debugging cli-generator internals</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Progressive Disclosure: Multi-File Skills</h3>
                <p class="mb-4">For complex skills, keep SKILL.md under 500 lines and reference detailed content:</p>

                <pre><code class="language-bash">.claude/skills/
└── generating-cli-code/
    ├── SKILL.md           # Main instructions (loaded when triggered)
    ├── templates.md       # Template reference (loaded as needed)
    ├── examples.md        # Usage examples (loaded as needed)
    └── scripts/
        └── validate.py    # Utility script (executed, not loaded)</code></pre>

                <p class="mt-4 mb-4">In SKILL.md, reference other files:</p>

                <pre><code class="language-markdown">---
name: generating-cli-code
description: Generates Python CLI code from specifications using Click. Use when creating CLI commands, generating code from specs, or building command-line tools.
---

# CLI Code Generator

## Quick Start
Generate a basic command:
```python
@cli.command()
@click.argument('name')
def hello(name: str) -> None:
    """Greet the user."""
    click.echo(f'Hello, {name}!')
```

## Advanced Topics
- For template syntax, see [templates.md](templates.md)
- For complete examples, see [examples.md](examples.md)
- To validate generated code: `python scripts/validate.py`</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Writing Effective Descriptions</h3>
                <p class="mb-4">The description determines when Claude activates your skill:</p>

                <div class="grid md:grid-cols-2 gap-4 mb-6">
                    <div class="bg-red-50 dark:bg-red-900/30 p-4 rounded-lg">
                        <p class="font-semibold text-red-700 dark:text-red-300 mb-2">❌ Bad Descriptions</p>
                        <ul class="text-sm space-y-1 text-red-600 dark:text-red-400">
                            <li>"Helps with CLIs"</li>
                            <li>"I help you write code"</li>
                            <li>"Useful tool for development"</li>
                        </ul>
                    </div>
                    <div class="bg-green-50 dark:bg-green-900/30 p-4 rounded-lg">
                        <p class="font-semibold text-green-700 dark:text-green-300 mb-2">✅ Good Descriptions</p>
                        <ul class="text-sm space-y-1 text-green-600 dark:text-green-400">
                            <li>"Suggests CLI patterns when designing command-line tools. Use when user describes a CLI or uses /design."</li>
                            <li>"Enforces Python code style. Use when writing or reviewing Python code."</li>
                        </ul>
                    </div>
                </div>

                <h4 class="text-lg font-semibold mt-6 mb-3">Description Rules</h4>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li><strong>Always third person:</strong> "Processes files" not "I process files"</li>
                    <li><strong>Include what AND when:</strong> What it does + when to use it</li>
                    <li><strong>Use trigger keywords:</strong> Words users would naturally say</li>
                    <li><strong>Be specific:</strong> Include file types, actions, scenarios</li>
                </ul>

                <h3 class="text-xl font-semibold mt-8 mb-3">Skill Locations</h3>
                <table>
                    <thead><tr><th>Location</th><th>Path</th><th>Scope</th></tr></thead>
                    <tbody>
                        <tr><td>Personal</td><td><code>~/.claude/skills/</code></td><td>You, all projects</td></tr>
                        <tr><td>Project</td><td><code>.claude/skills/</code></td><td>Anyone in repository</td></tr>
                        <tr><td>Plugin</td><td><code>skills/</code> in plugin</td><td>Plugin users</td></tr>
                    </tbody>
                </table>

                <h3 class="text-xl font-semibold mt-8 mb-3">Testing Your Skills</h3>
                <p class="mb-4">Unlike code, skills are tested through conversation:</p>

                <ol class="list-decimal list-inside mb-6 space-y-2">
                    <li><strong>Create the skill</strong> in <code>.claude/skills/skill-name/SKILL.md</code></li>
                    <li><strong>Start a new Claude Code session</strong> (skills load at startup)</li>
                    <li><strong>Try requests that should trigger it:</strong>
                        <ul class="list-disc list-inside ml-6 mt-2 space-y-1">
                            <li>"Design a CLI that downloads files" → Should trigger pattern suggester</li>
                            <li>"Generate code for this command" → Should trigger code style enforcer</li>
                        </ul>
                    </li>
                    <li><strong>Verify Claude asks to use the skill</strong> before loading it</li>
                    <li><strong>Check the behavior matches your instructions</strong></li>
                </ol>

                <div class="bg-gray-50 dark:bg-gray-800 border-l-4 border-gray-500 p-4 mb-6">
                    <p class="font-semibold text-gray-800 dark:text-gray-200">Iterative Development</p>
                    <p class="text-gray-700 dark:text-gray-300">Work with Claude to refine your skills. Ask "What did you find unclear in the skill instructions?" after using a skill to identify improvements.</p>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Hands-On: Experience the Difference</h3>
                <p class="mb-4">Skills only matter if they improve your workflow. Try these exercises to see the difference:</p>

                <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4 mb-6">
                    <p class="font-semibold text-purple-800 dark:text-purple-200 mb-2">Exercise 1: Before/After Debugging</p>
                    <p class="text-sm text-purple-700 dark:text-purple-300 mb-3">See how the systematic-debugging skill changes Claude's approach.</p>

                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="bg-white dark:bg-gray-800 p-3 rounded">
                            <p class="font-semibold text-red-600 dark:text-red-400 text-sm mb-2">❌ Without Skill</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400 mb-2">Start a fresh session WITHOUT the skill, then ask:</p>
                            <pre class="text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded">"My CLI crashes when I run
the convert command with
no input file"</pre>
                            <p class="text-xs text-gray-500 mt-2">Notice: Claude likely jumps straight to suggesting fixes.</p>
                        </div>
                        <div class="bg-white dark:bg-gray-800 p-3 rounded">
                            <p class="font-semibold text-green-600 dark:text-green-400 text-sm mb-2">✅ With Skill</p>
                            <p class="text-xs text-gray-600 dark:text-gray-400 mb-2">Create the skill, restart session, same prompt:</p>
                            <pre class="text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded">"My CLI crashes when I run
the convert command with
no input file"</pre>
                            <p class="text-xs text-gray-500 mt-2">Notice: Claude asks to use skill, then follows 4-phase process.</p>
                        </div>
                    </div>
                </div>

                <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4 mb-6">
                    <p class="font-semibold text-purple-800 dark:text-purple-200 mb-2">Exercise 2: Design Session with Pattern Suggestions</p>
                    <p class="text-sm text-purple-700 dark:text-purple-300 mb-3">Watch how skills enhance the /design workflow.</p>

                    <ol class="text-sm space-y-2 text-purple-700 dark:text-purple-300">
                        <li><strong>1. Create the suggesting-cli-patterns skill</strong></li>
                        <li><strong>2. Start fresh Claude Code session</strong></li>
                        <li><strong>3. Run:</strong> <code class="bg-purple-100 dark:bg-purple-800 px-1 rounded">/design A CLI that downloads YouTube videos with quality selection</code></li>
                        <li><strong>4. Observe:</strong> Claude should recognize "download" pattern and suggest:
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>--resume for interrupted downloads</li>
                                <li>--concurrent for parallel downloads</li>
                                <li>--retry for failed attempts</li>
                            </ul>
                        </li>
                        <li><strong>5. Compare:</strong> Try same prompt in session without the skill</li>
                    </ol>
                </div>

                <div class="bg-purple-50 dark:bg-purple-900/20 border border-purple-200 dark:border-purple-800 rounded-lg p-4 mb-6">
                    <p class="font-semibold text-purple-800 dark:text-purple-200 mb-2">Exercise 3: Full Workflow Integration</p>
                    <p class="text-sm text-purple-700 dark:text-purple-300 mb-3">Use all your skills together in a complete CLI creation cycle.</p>

                    <div class="text-sm space-y-3 text-purple-700 dark:text-purple-300">
                        <div class="flex items-start gap-2">
                            <span class="bg-purple-200 dark:bg-purple-700 px-2 py-0.5 rounded text-xs font-bold">1</span>
                            <div>
                                <p><strong>/design</strong> "A CLI that converts markdown files to HTML"</p>
                                <p class="text-xs text-gray-500">→ suggesting-cli-patterns activates, suggests --recursive, --watch</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="bg-purple-200 dark:bg-purple-700 px-2 py-0.5 rounded text-xs font-bold">2</span>
                            <div>
                                <p><strong>/generate</strong> with the spec</p>
                                <p class="text-xs text-gray-500">→ enforcing-code-style activates, ensures Click conventions</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="bg-purple-200 dark:bg-purple-700 px-2 py-0.5 rounded text-xs font-bold">3</span>
                            <div>
                                <p><strong>/implement</strong> the convert command</p>
                                <p class="text-xs text-gray-500">→ cli-generator-workflow activates, follows project checklist</p>
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="bg-purple-200 dark:bg-purple-700 px-2 py-0.5 rounded text-xs font-bold">4</span>
                            <div>
                                <p><strong>Test fails!</strong> "Help me debug this test failure"</p>
                                <p class="text-xs text-gray-500">→ systematic-debugging activates, uses 4-phase methodology</p>
                            </div>
                        </div>
                    </div>
                </div>

                <h4 class="text-lg font-semibold mt-6 mb-3">Skill Trigger Reference</h4>
                <p class="mb-4">Use these prompts to trigger specific skills:</p>
                <table>
                    <thead><tr><th>Skill</th><th>Trigger Phrases</th><th>Expected Behavior</th></tr></thead>
                    <tbody>
                        <tr>
                            <td><code>writing-skills</code></td>
                            <td>"Help me create a new skill", "I want to write a skill for..."</td>
                            <td>Guides through RED-GREEN-REFACTOR cycle</td>
                        </tr>
                        <tr>
                            <td><code>systematic-debugging</code></td>
                            <td>"Bug in...", "Test failing", "Unexpected behavior", "Error when..."</td>
                            <td>Follows 4-phase investigation before fixes</td>
                        </tr>
                        <tr>
                            <td><code>suggesting-cli-patterns</code></td>
                            <td>"/design", "CLI that downloads", "tool that converts"</td>
                            <td>Suggests patterns matching CLI type</td>
                        </tr>
                        <tr>
                            <td><code>cli-generator-workflow</code></td>
                            <td>"/design", "/generate", "/implement" in this project</td>
                            <td>Follows project-specific checklists</td>
                        </tr>
                    </tbody>
                </table>

                <div class="bg-blue-50 dark:bg-blue-900/30 border-l-4 border-blue-500 p-4 mt-6 mb-6">
                    <p class="font-semibold text-blue-800 dark:text-blue-200">Measuring Improvement</p>
                    <p class="text-blue-700 dark:text-blue-300 mb-2">Track these metrics as you use skills:</p>
                    <ul class="text-sm text-blue-600 dark:text-blue-400 space-y-1">
                        <li>• <strong>Debug time:</strong> How long to resolve bugs? (Target: 15-30 min vs hours)</li>
                        <li>• <strong>First-attempt success:</strong> Does the fix work first time? (Target: >90%)</li>
                        <li>• <strong>Pattern adoption:</strong> Are suggested patterns useful? (Track accepts vs rejects)</li>
                        <li>• <strong>Consistency:</strong> Is generated code following conventions without manual fixes?</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Anti-Patterns: What Makes Skills Fail</h3>
                <p class="mb-4">Learn from common mistakes that make skills ineffective:</p>

                <div class="space-y-4 mb-6">
                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The Vague Description</p>
                        <pre class="text-sm bg-red-100 dark:bg-red-900/40 p-2 rounded mb-2"><code>description: Helps with code</code></pre>
                        <p class="text-sm text-red-700 dark:text-red-300"><strong>Why it fails:</strong> Claude can't determine when to activate. Matches everything, so matches nothing useful.</p>
                        <p class="text-sm text-green-700 dark:text-green-300 mt-2"><strong>Fix:</strong> <code>description: Enforces Python code style when writing or reviewing CLI commands. Use when generating Click-based code.</code></p>
                    </div>

                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The Missing "Do NOT" Section</p>
                        <p class="text-sm text-red-700 dark:text-red-300 mb-2">Skills without explicit boundaries trigger when they shouldn't or do too much.</p>
                        <p class="text-sm text-green-700 dark:text-green-300"><strong>Fix:</strong> Every skill needs a "Do NOT" or "When NOT to use" section that explicitly limits scope.</p>
                    </div>

                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The First-Person Description</p>
                        <pre class="text-sm bg-red-100 dark:bg-red-900/40 p-2 rounded mb-2"><code>description: I help you write better code</code></pre>
                        <p class="text-sm text-red-700 dark:text-red-300"><strong>Why it fails:</strong> Descriptions are injected into system prompts. First-person creates confusing instructions.</p>
                        <p class="text-sm text-green-700 dark:text-green-300 mt-2"><strong>Fix:</strong> Always use third person: <code>Helps write better code by...</code></p>
                    </div>

                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The Over-Explainer</p>
                        <p class="text-sm text-red-700 dark:text-red-300 mb-2">500+ lines explaining things Claude already knows. Wastes context window.</p>
                        <p class="text-sm text-green-700 dark:text-green-300"><strong>Fix:</strong> Only include what Claude doesn't already know. Test by asking: "Would a senior developer need this explained?"</p>
                    </div>

                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The Untested Skill</p>
                        <p class="text-sm text-red-700 dark:text-red-300 mb-2">Deployed without ever testing if it triggers correctly or produces expected behavior.</p>
                        <p class="text-sm text-green-700 dark:text-green-300"><strong>Fix:</strong> Write test scenario BEFORE skill content. Test in fresh session. Ask Claude what was unclear.</p>
                    </div>

                    <div class="bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4">
                        <p class="font-semibold text-red-800 dark:text-red-200 mb-2">🚫 The Deeply Nested References</p>
                        <pre class="text-sm bg-red-100 dark:bg-red-900/40 p-2 rounded mb-2"><code>SKILL.md → advanced.md → details.md → specifics.md</code></pre>
                        <p class="text-sm text-red-700 dark:text-red-300"><strong>Why it fails:</strong> Claude may partially read nested files, missing critical information.</p>
                        <p class="text-sm text-green-700 dark:text-green-300 mt-2"><strong>Fix:</strong> Keep references one level deep. All detail files linked directly from SKILL.md.</p>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Best Practices Summary</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li><strong>Naming:</strong> Use gerund form (<code>suggesting-patterns</code> not <code>pattern-suggester</code>)</li>
                    <li><strong>Conciseness:</strong> Keep SKILL.md under 500 lines; Claude is already smart</li>
                    <li><strong>Specificity:</strong> Match instruction detail to task fragility</li>
                    <li><strong>No time-sensitive info:</strong> Avoid dates that will become stale</li>
                    <li><strong>One level deep:</strong> Don't nest file references (SKILL.md → ref.md → detail.md)</li>
                    <li><strong>Forward slashes:</strong> Use <code>scripts/validate.py</code> not <code>scripts\validate.py</code></li>
                    <li><strong>Test first:</strong> Write test scenario before skill content (TDD for docs)</li>
                    <li><strong>Include boundaries:</strong> Every skill needs explicit "Do NOT" section</li>
                </ul>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 6 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d6-1" @change="saveChecklist('d6-1', $event.target.checked)" :checked="checklist['d6-1']"><label for="d6-1">Understand skills are SKILL.md files (not Python code)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-2" @change="saveChecklist('d6-2', $event.target.checked)" :checked="checklist['d6-2']"><label for="d6-2">Create the meta-skill (writing-skills) to learn the pattern</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-3" @change="saveChecklist('d6-3', $event.target.checked)" :checked="checklist['d6-3']"><label for="d6-3">Create a workflow skill with phases and checkpoints</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-4" @change="saveChecklist('d6-4', $event.target.checked)" :checked="checklist['d6-4']"><label for="d6-4">Create a project-specific skill for CLI Generator</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-5" @change="saveChecklist('d6-5', $event.target.checked)" :checked="checklist['d6-5']"><label for="d6-5">Apply TDD: write test scenario BEFORE skill content</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-6" @change="saveChecklist('d6-6', $event.target.checked)" :checked="checklist['d6-6']"><label for="d6-6">Include explicit "Do NOT" sections in each skill</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-7" @change="saveChecklist('d6-7', $event.target.checked)" :checked="checklist['d6-7']"><label for="d6-7">Test skills in fresh Claude Code session</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-8" @change="saveChecklist('d6-8', $event.target.checked)" :checked="checklist['d6-8']"><label for="d6-8">Avoid all 6 anti-patterns in your skills</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-9" @change="saveChecklist('d6-9', $event.target.checked)" :checked="checklist['d6-9']"><label for="d6-9">Complete Exercise 1: Before/After debugging comparison</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d6-10" @change="saveChecklist('d6-10', $event.target.checked)" :checked="checklist['d6-10']"><label for="d6-10">Complete Exercise 3: Full workflow integration</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(6)" :class="completedDays.includes(6) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(6) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 7 -->
            <section id="day-7" class="day-section week-2" x-intersect:enter="currentSection = 'day-7'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">Day 2 of 5</span>
                    <button @click="toggleBookmark('day-7', 'Day 7: Subagent Coordination')" :class="isBookmarked('day-7') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-7') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 7: Subagent Coordination</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 7 of 14 • Week 2: Intelligence</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Split complex work across specialized agents</li>
                    <li>Manage handoffs between agents</li>
                    <li>Resolve conflicts</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">When to Use Subagents</h3>
                <p class="mb-4">Subagents help when:</p>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>Tasks can run in parallel (tests and implementation)</li>
                    <li>Different perspectives are valuable</li>
                    <li>Work can be cleanly separated</li>
                </ul>
                <p class="mb-4">For CLI Generator:</p>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li><strong>Spec Designer:</strong> Focuses on UX and command design</li>
                    <li><strong>Code Generator:</strong> Focuses on correct Python/Click code</li>
                    <li><strong>Test Writer:</strong> Focuses on comprehensive test coverage</li>
                    <li><strong>Reviewer:</strong> Focuses on quality and consistency</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">Subagent Architecture</h3>
                <div class="mermaid-container mermaid-walkthrough" id="subagent-architecture-diagram" data-walkthrough="subagent-architecture">
                    <div class="mermaid-container-title">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"/></svg>
                        Multi-Agent Coordination Architecture
                    </div>
                    <div class="mermaid-controls">
                        <button class="walkthrough-play" title="Play walkthrough (Space)">
                            <svg class="play-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="walkthrough-prev" title="Previous step (←)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button class="walkthrough-next" title="Next step (→)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <button class="walkthrough-reset" title="Reset (R)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                        <span class="mermaid-step-indicator">Step <span class="current-step">0</span>/<span class="total-steps">0</span></span>
                        <span class="mermaid-step-description">Click play or hover over nodes to explore</span>
                        <span class="mermaid-kbd-hint">
                            <kbd>Space</kbd> <kbd>←</kbd> <kbd>→</kbd>
                        </span>
                    </div>
                    <div class="mermaid hover-mode" id="subagent-architecture-mermaid">
flowchart TD
    A[Human Request] --> B
    subgraph Agents[Specialized Subagents]
        C[Spec Designer]
        D[Code Generator]
        E[Test Writer]
        F[Reviewer]
    end
    B[Integrator] --> C
    C --> B
    B --> D
    B --> E
    D --> B
    E --> B
    B --> F
    F --> B
    B --> A
    style B fill:#fef3c7,stroke:#d97706
    style C fill:#e0f2fe,stroke:#0284c7
    style D fill:#dcfce7,stroke:#16a34a
    style E fill:#fce7f3,stroke:#db2777
    style F fill:#f3e8ff,stroke:#9333ea
    style A fill:#f1f5f9,stroke:#64748b
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Subagent 1: Spec Designer</h3>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/agents/spec-designer.md</code></p>
                <pre><code class="language-markdown">---
name: spec-designer
description: Design user-friendly CLI specifications from natural language. Use PROACTIVELY when users describe a new CLI tool.
tools: Read, Glob, Grep
model: sonnet
---

You are a CLI Spec Designer. Your role is to transform natural language
descriptions into well-structured CLI specifications.

## Your Expertise
- Click/CLI conventions and best practices
- User experience for command-line tools
- Common CLI patterns (POSIX, GNU standards)

## Your Process
1. Parse the natural language description
2. Identify commands, arguments, and options
3. Apply CLI best practices (--help, --version, proper exit codes)
4. Create helpful descriptions and usage examples
5. Ensure consistent naming conventions

## Output Format
Always respond with a structured specification:

```
CLI: &lt;name&gt;
Description: &lt;what it does&gt;

Commands:
  &lt;command_name&gt;:
    description: &lt;help text&gt;
    arguments: [...]
    options: [...]

Design Decisions:
- &lt;decision and rationale&gt;

Questions (if any):
- &lt;ambiguity needing clarification&gt;
```

## Constraints
- Do NOT write implementation code
- Do NOT write tests
- Focus ONLY on CLI design and user experience</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Subagent 2: Code Generator</h3>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/agents/code-generator.md</code></p>
                <pre><code class="language-markdown">---
name: code-generator
description: Generate Python/Click code from CLI specifications. Use after spec-designer completes.
tools: Read, Glob, Grep, Write, Edit
model: sonnet
---

You are a CLI Code Generator. Your role is to transform CLI specifications
into working Python code using the Click framework.

## Your Expertise
- Python 3.11+ syntax and features
- Click library patterns and decorators
- Python packaging (pyproject.toml, __init__.py)
- Code quality standards (PEP 8, type hints)

## Your Process
1. Read the CLI specification provided
2. Generate the main CLI entry point (cli.py)
3. Create command implementations
4. Generate pyproject.toml with dependencies
5. Verify code is syntactically valid

## Code Quality Standards
- PEP 8 compliant formatting
- Type hints on all function signatures
- Docstrings on all commands (becomes --help text)
- No hardcoded values (use options/arguments)
- Proper error handling with click.ClickException

## Output Format
Generate files with a **nested Python package structure** (CRITICAL for pip install to work):
```
&lt;project_dir&gt;/              # e.g., generated/my_cli/
├── pyproject.toml          # Package config (at root, NOT inside package)
├── README.md               # Documentation
├── &lt;package_name&gt;/         # Inner package dir (e.g., my_cli/)
│   ├── __init__.py         # With __version__
│   ├── cli.py              # Main CLI with @click.group()
│   ├── utils.py            # Shared utilities
│   └── commands/           # One file per command
│       ├── __init__.py
│       └── &lt;command&gt;.py
└── tests/                  # Test directory at root level
```

**IMPORTANT**: The Python source files (__init__.py, cli.py, commands/) MUST be inside
a nested package directory, NOT at the root alongside pyproject.toml. This is required
for `pip install -e .` to work correctly.

Example for a CLI named "notes-cli":
```
generated/notes_cli/        # Project root
├── pyproject.toml          # [project.scripts] notes-cli = "notes_cli.cli:main"
├── notes_cli/              # &lt;-- Inner package (REQUIRED!)
│   ├── __init__.py
│   ├── cli.py
│   └── commands/
```

## Constraints
- Do NOT design the CLI (use provided spec)
- Do NOT write tests (separate agent handles this)
- Focus ONLY on generating clean, working code</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Subagent 3: Test Writer</h3>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/agents/test-writer.md</code></p>
                <pre><code class="language-markdown">---
name: test-writer
description: Write comprehensive pytest tests for CLI code. Use after code-generator completes.
tools: Read, Glob, Grep, Write, Edit, Bash
model: sonnet
---

You are a CLI Test Writer. Your role is to create comprehensive pytest
test suites for generated CLI applications.

## Your Expertise
- pytest patterns and best practices
- Click testing utilities (CliRunner)
- Test fixture design
- Mocking strategies for external dependencies

## Your Process
1. Read the CLI specification and generated code
2. Create test cases for each command
3. Cover happy paths AND error cases
4. Test CLI integration (--help, --version flags)
5. Create reusable fixtures in conftest.py

## Test Categories
- **Happy path**: Normal usage with valid inputs
- **Error cases**: Invalid inputs, missing files, etc.
- **Edge cases**: Empty inputs, special characters, limits
- **Integration**: Full CLI invocation tests

## Output Format
Generate tests in this structure (at project root, alongside pyproject.toml):
```
&lt;project_dir&gt;/
├── pyproject.toml
├── &lt;package_name&gt;/     # The CLI source code
│   ├── cli.py
│   └── commands/
└── tests/              # Tests at root level, NOT inside package
    ├── conftest.py     # Shared fixtures
    ├── test_cli.py     # Main CLI tests (--help, --version)
    └── test_&lt;cmd&gt;.py   # Per-command tests
```

**IMPORTANT**: Import from the package correctly in tests:
```python
from &lt;package_name&gt;.cli import cli  # e.g., from notes_cli.cli import cli
```

## Constraints
- Do NOT modify production code
- Do NOT design the CLI
- Focus ONLY on comprehensive test coverage
- Use Click's CliRunner for CLI invocation tests</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Subagent 4: Reviewer</h3>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/agents/code-reviewer.md</code></p>
                <pre><code class="language-markdown">---
name: code-reviewer
description: Review generated CLI code and tests for quality. Use PROACTIVELY after code generation.
tools: Read, Glob, Grep
model: sonnet
---

You are a CLI Code Reviewer. Your role is to review generated code and tests
for quality, consistency, and correctness.

## Review Checklist

### Code Quality
- Follows PEP 8 style guidelines
- Type hints on all function signatures
- Docstrings on all public functions
- Proper error handling with click.ClickException
- No code duplication

### CLI Usability
- Help text is clear and helpful
- Error messages guide users to fix issues
- Exit codes follow conventions (0=success, 1=error)
- Option names are intuitive

### Security
- No dangerous patterns (eval, exec)
- User inputs are validated
- No hardcoded secrets or credentials
- Safe file operations

### Tests
- Cover all commands and options
- Test error cases explicitly
- Meaningful assertions (not just "runs without error")
- No flaky or timing-dependent tests

## Output Format
```
REVIEW: &lt;cli_name&gt;
Status: APPROVED | CHANGES REQUESTED

Issues (if any):
- [BLOCKING] &lt;description&gt; at &lt;file:line&gt;
- [SUGGESTION] &lt;description&gt;

Summary: &lt;brief assessment&gt;
```

## Constraints
- Do NOT modify code directly
- Report issues for other agents to fix
- Focus ONLY on review and feedback</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">How Claude Code Coordinates Agents</h3>
                <p class="mb-4">Unlike custom orchestration frameworks, Claude Code handles agent coordination natively. The main Claude agent acts as the integrator, delegating to specialized agents based on their <code>description</code> fields.</p>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-4">
                    <p class="font-semibold mb-2">Key Insight: Automatic Delegation</p>
                    <p class="text-sm">Claude reads all agent descriptions and automatically delegates tasks when a match is found. Include "Use PROACTIVELY" in descriptions to encourage automatic use.</p>
                </div>

                <h4 class="text-lg font-semibold mt-6 mb-3">Managing Agents with /agents</h4>
                <p class="mb-4">Use the <code>/agents</code> command to view, create, edit, and manage your project's agents:</p>
                <pre><code class="language-bash"># View all available agents
/agents

# The interactive menu lets you:
# - See built-in agents (general-purpose, Plan, Explore)
# - View your custom agents
# - Create new agents with guided setup
# - Edit agent tools and permissions
# - Delete agents you no longer need</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Invoking Agents Explicitly</h4>
                <p class="mb-4">You can request specific agents by name in your prompts:</p>
                <pre><code class="language-markdown"># Explicit invocation examples:
"Use the spec-designer agent to design a CLI for managing dotfiles"
"Have the code-reviewer agent check my recent changes"
"Ask the test-writer agent to add tests for the convert command"</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Agent Chaining</h4>
                <p class="mb-4">For complex workflows, chain agents in sequence:</p>
                <pre><code class="language-markdown"># Chain multiple agents for full CLI creation:
"First use spec-designer to design a CLI for image conversion,
then have code-generator implement it,
then ask test-writer to create tests,
and finally have code-reviewer check everything"</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">/create-cli Command with Agent Workflow</h3>
                <p class="mb-4"><strong>Create:</strong> <code>.claude/commands/create-cli.md</code></p>
                <pre><code class="language-markdown"># /create-cli - Create CLI Using Specialized Agents

Create a complete CLI application by delegating to specialized agents.

## Usage
/create-cli $ARGUMENTS

## Workflow

You have access to these specialized agents in `.claude/agents/`:
- **spec-designer**: Designs CLI structure from natural language
- **code-generator**: Generates Python/Click code from specs
- **test-writer**: Creates comprehensive pytest test suites
- **code-reviewer**: Reviews code quality and suggests improvements

## Process

### Phase 1: Design
Delegate to spec-designer agent:
"Use the spec-designer agent to design a CLI for: $ARGUMENTS"

Wait for the specification and present it to the user for approval.

### Phase 2: Implementation
After spec approval, delegate to code-generator:
"Use code-generator to implement this CLI spec: [spec from phase 1]"

### Phase 3: Testing
Delegate to test-writer:
"Use test-writer to create tests for the generated CLI"

### Phase 4: Review
Finally, delegate to code-reviewer:
"Use code-reviewer to review the generated code and tests"

## Output
Present the final summary:
- Files created
- Test results
- Review findings
- Next steps for the user</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Advanced: Building Your Own Agent Coordinator</h3>
                <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 my-4">
                    <p class="font-semibold mb-2">Optional Pattern</p>
                    <p class="text-sm">This section shows how to build application-level agent coordination in Python. Claude Code handles agent delegation natively - this is only needed if you want programmatic control over agent workflows in your own CLI tools.</p>
                </div>
                <p class="mb-4">If you're building a CLI that needs to coordinate multiple AI agents programmatically (e.g., using PydanticAI or the Claude SDK), here's a pattern you can follow:</p>
                <pre><code class="language-python"># src/cli_generator/coordinator.py
"""
Optional: Application-level agent coordination.
Use this pattern when building CLI tools that orchestrate multiple AI agents.
"""

from dataclasses import dataclass, field
from enum import Enum
from typing import Any


class AgentPhase(Enum):
    """Tracks which phase of the workflow we're in."""
    DESIGN = "design"
    GENERATE = "generate"
    TEST = "test"
    REVIEW = "review"
    COMPLETE = "complete"


@dataclass
class PhaseResult:
    """Result from an agent phase."""
    phase: AgentPhase
    success: bool
    output: Any
    errors: list[str] = field(default_factory=list)


class WorkflowCoordinator:
    """
    Coordinates a multi-phase CLI generation workflow.

    This is an APPLICATION pattern, not a Claude Code feature.
    Use when you need programmatic control over agent sequencing.
    """

    def __init__(self) -> None:
        self.current_phase = AgentPhase.DESIGN
        self.results: dict[AgentPhase, PhaseResult] = {}

    async def run_workflow(self, description: str) -> dict[str, Any]:
        """Run the complete CLI generation workflow."""
        # Phase 1: Design
        spec = await self._run_design(description)
        if not spec:
            return {"success": False, "phase": "design"}

        # Phase 2: Generate code
        code = await self._run_generate(spec)

        # Phase 3: Generate tests (can run parallel with code)
        tests = await self._run_tests(spec)

        # Phase 4: Review everything
        review = await self._run_review(code, tests)

        return {
            "success": True,
            "spec": spec,
            "code": code,
            "tests": tests,
            "review": review,
        }

    async def _run_design(self, description: str) -> dict | None:
        """Call your spec generation logic here."""
        self.current_phase = AgentPhase.DESIGN
        # Your implementation using PydanticAI, Claude SDK, etc.
        pass

    async def _run_generate(self, spec: dict) -> dict | None:
        """Call your code generation logic here."""
        self.current_phase = AgentPhase.GENERATE
        pass

    async def _run_tests(self, spec: dict) -> dict | None:
        """Call your test generation logic here."""
        self.current_phase = AgentPhase.TEST
        pass

    async def _run_review(self, code: dict, tests: dict) -> dict | None:
        """Call your review logic here."""
        self.current_phase = AgentPhase.REVIEW
        pass</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">SubagentStop Hook: Control Agent Completion</h3>
                <p class="mb-4">The <code>SubagentStop</code> hook fires when a Claude Code agent (Task tool) finishes. You can use it to prevent the agent from stopping if certain conditions aren't met.</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook Input Structure</h4>
                <pre><code class="language-json">{
  "session_id": "abc123",
  "transcript_path": "~/.claude/projects/.../agent-xyz.jsonl",
  "permission_mode": "default",
  "hook_event_name": "SubagentStop",
  "stop_hook_active": true
}</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Hook Output (Decision Control)</h4>
                <pre><code class="language-json">// To BLOCK the agent from stopping (force retry):
{ "decision": "block", "reason": "Explain why and what to do" }

// To ALLOW the agent to stop (default):
// Return nothing or exit with code 0</code></pre>

                <p class="mb-2 mt-6">Create <code>.claude/hooks/subagent_stop.py</code>:</p>
                <pre><code class="language-python">#!/usr/bin/env python3
"""
SubagentStop Hook: Runs when an agent completes.
Use to enforce quality gates on agent output.
"""
import json
import sys
from pathlib import Path

def main() -> None:
    try:
        input_data = json.load(sys.stdin)

        # Read the agent's transcript to check its output
        transcript_path = input_data.get("transcript_path", "")
        if transcript_path:
            transcript = Path(transcript_path).expanduser()
            if transcript.exists():
                content = transcript.read_text()

                # Example: Check if agent created any files
                if "Write" not in content and "Edit" not in content:
                    # Block: agent didn't write any files
                    output = {
                        "decision": "block",
                        "reason": "No files were created. Please generate the CLI code."
                    }
                    print(json.dumps(output))
                    sys.exit(2)  # Exit 2 = blocking error

        # Allow agent to complete
        sys.exit(0)
    except Exception:
        sys.exit(0)

if __name__ == "__main__":
    main()</code></pre>

                <p class="text-sm text-gray-600 dark:text-gray-400 mt-2 mb-4"><strong>Exit codes:</strong> Exit 0 allows completion. Exit 2 blocks and shows stderr to the agent.</p>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-4">
                    <p class="text-sm"><strong>Configuration:</strong> Add to <code>.claude/settings.json</code>:</p>
                    <pre class="text-sm mt-2"><code class="language-json">"hooks": {
  "SubagentStop": [
    {
      "matcher": "",
      "hooks": [
        { "type": "command", "command": "python .claude/hooks/subagent_stop.py" }
      ]
    }
  ]
}</code></pre>
                </div>

                <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-400 p-4 my-4">
                    <p class="font-semibold mb-2">Alternative: Prompt-Based Hooks</p>
                    <p class="text-sm">You can also use LLM-based evaluation instead of scripts:</p>
                    <pre class="text-sm mt-2"><code class="language-json">{
  "type": "prompt",
  "prompt": "Evaluate if this agent completed its task successfully. Check if code was generated and tests were written. Return {\"decision\": \"block\", \"reason\": \"...\"} to retry."
}</code></pre>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Hands-On Exercises</h3>
                <p class="mb-4">Now let's put agents into practice with concrete exercises.</p>

                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 mb-6 border border-blue-200 dark:border-blue-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">1</span>
                        Exercise: Set Up Your Agents Directory
                    </h4>
                    <p class="mb-4 text-sm">First, create the agents directory and add one agent file:</p>
                    <pre class="mb-4"><code class="language-bash"># Create the agents directory
mkdir -p .claude/agents

# Create the spec-designer agent
cat > .claude/agents/spec-designer.md << 'EOF'
---
name: spec-designer
description: Design user-friendly CLI specifications from natural language. Use PROACTIVELY when users describe a new CLI tool.
tools: Read, Glob, Grep
model: sonnet
---

You are a CLI Spec Designer specializing in Click-based Python CLIs.

When given a description, output a structured specification with:
- CLI name and description
- Commands with their arguments and options
- Design decisions and rationale

Focus on user experience and CLI best practices.
EOF

echo "✓ Created .claude/agents/spec-designer.md"</code></pre>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Verify:</strong> Run <code>/agents</code> in Claude Code - you should see "spec-designer" listed under project agents.</p>
                </div>

                <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 mb-6 border border-green-200 dark:border-green-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">2</span>
                        Exercise: Invoke an Agent Explicitly
                    </h4>
                    <p class="mb-4 text-sm">Test your spec-designer agent by explicitly invoking it:</p>
                    <pre class="mb-4"><code class="language-markdown"># Type this in Claude Code:
Use the spec-designer agent to design a CLI for organizing files by extension</code></pre>
                    <p class="mb-3 text-sm"><strong>What you should see:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-blue-400">╭─ spec-designer agent ─────────────────────────╮</div>
                        <div class="text-gray-300 mt-2">CLI: file-organizer</div>
                        <div class="text-gray-300">Description: Organize files into folders by extension</div>
                        <div class="text-gray-300 mt-2">Commands:</div>
                        <div class="text-gray-300">  organize:</div>
                        <div class="text-gray-300">    description: Move files into extension-based folders</div>
                        <div class="text-gray-300">    arguments: [source_dir]</div>
                        <div class="text-gray-300">    options: [--dry-run, --recursive]</div>
                        <div class="text-gray-300 mt-2">Design Decisions:</div>
                        <div class="text-gray-300">- Default to current directory if no source specified</div>
                        <div class="text-gray-300">- Include --dry-run for safety</div>
                        <div class="text-blue-400 mt-2">╰────────────────────────────────────────────────╯</div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Key observation:</strong> The agent ran in its own context and returned a structured specification. Claude didn't generate code - it delegated to the specialized agent.</p>
                </div>

                <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 mb-6 border border-purple-200 dark:border-purple-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">3</span>
                        Exercise: Create All Four Agents
                    </h4>
                    <p class="mb-4 text-sm">Now create the remaining three agents. Copy each definition from earlier in this tutorial:</p>
                    <pre class="mb-4"><code class="language-bash"># Create all agent files (copy content from tutorial above)
touch .claude/agents/code-generator.md
touch .claude/agents/test-writer.md
touch .claude/agents/code-reviewer.md

# Verify all agents are recognized
# In Claude Code, run:
/agents</code></pre>
                    <p class="mb-3 text-sm"><strong>Expected /agents output:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-yellow-400">Built-in agents:</div>
                        <div class="text-gray-300">  • general-purpose - Complex research and modifications</div>
                        <div class="text-gray-300">  • Plan - Research before presenting plans</div>
                        <div class="text-gray-300">  • Explore - Fast codebase searching</div>
                        <div class="text-yellow-400 mt-2">Project agents (.claude/agents/):</div>
                        <div class="text-green-400">  • spec-designer - Design CLI specifications</div>
                        <div class="text-green-400">  • code-generator - Generate Python/Click code</div>
                        <div class="text-green-400">  • test-writer - Write pytest tests</div>
                        <div class="text-green-400">  • code-reviewer - Review code quality</div>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl p-6 mb-6 border border-orange-200 dark:border-orange-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">4</span>
                        Exercise: Chain Agents for Full CLI Creation
                    </h4>
                    <p class="mb-4 text-sm">Now try the full workflow - chaining multiple agents to create a complete CLI:</p>
                    <pre class="mb-4"><code class="language-markdown"># Type this in Claude Code:
Create a CLI called "todo-cli" for managing a simple todo list.
Use spec-designer to design it, code-generator to implement it,
test-writer to add tests, and code-reviewer to check quality.</code></pre>
                    <p class="mb-3 text-sm"><strong>Watch what happens:</strong></p>
                    <ol class="list-decimal list-inside text-sm space-y-2 mb-4">
                        <li>Claude delegates to <strong>spec-designer</strong> → returns CLI specification</li>
                        <li>Claude presents spec for your approval</li>
                        <li>After approval, delegates to <strong>code-generator</strong> → creates Python files</li>
                        <li>Delegates to <strong>test-writer</strong> → creates test files</li>
                        <li>Finally, <strong>code-reviewer</strong> checks everything</li>
                    </ol>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Result:</strong> You should have a complete <code>generated/todo-cli/</code> directory with working code and tests!</p>
                </div>

                <div class="bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-6 mb-6 border border-red-200 dark:border-red-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">5</span>
                        Exercise: Test the SubagentStop Hook
                    </h4>
                    <p class="mb-4 text-sm">Set up the quality gate hook to ensure agents produce valid output:</p>
                    <pre class="mb-4"><code class="language-bash"># Create the hook file
mkdir -p .claude/hooks
cat > .claude/hooks/subagent_stop.py << 'EOF'
#!/usr/bin/env python3
"""Quality gate for agent output."""
import json
import sys
from pathlib import Path

def main() -> None:
    input_data = json.load(sys.stdin)
    transcript_path = input_data.get("transcript_path", "")

    if transcript_path:
        transcript = Path(transcript_path).expanduser()
        if transcript.exists():
            content = transcript.read_text()
            # Check if agent actually did something
            if "Write" not in content and "Edit" not in content:
                print(json.dumps({
                    "decision": "block",
                    "reason": "Agent completed without creating files. Please try again."
                }))
                sys.exit(2)

    print("✓ Agent output validated", file=sys.stderr)
    sys.exit(0)

if __name__ == "__main__":
    main()
EOF
chmod +x .claude/hooks/subagent_stop.py</code></pre>
                    <p class="mb-3 text-sm">Add to <code>.claude/settings.json</code>:</p>
                    <pre class="mb-4"><code class="language-json">{
  "hooks": {
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          { "type": "command", "command": "python .claude/hooks/subagent_stop.py" }
        ]
      }
    ]
  }
}</code></pre>
                    <p class="text-sm font-medium mt-4 mb-2">Test it manually:</p>
                    <pre class="mb-4"><code class="language-bash"># Test PASS case (transcript contains "Write")
echo "Agent used Write tool" > /tmp/test_transcript.txt
echo '{"transcript_path": "/tmp/test_transcript.txt"}' | python3 .claude/hooks/subagent_stop.py
# Expected: "✓ Agent output validated" (exit code 0)

# Test BLOCK case (no Write/Edit in transcript)
echo "Agent just searched files" > /tmp/test_transcript.txt
echo '{"transcript_path": "/tmp/test_transcript.txt"}' | python3 .claude/hooks/subagent_stop.py
# Expected: {"decision": "block", ...} (exit code 2)</code></pre>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Live test:</strong> Run a subagent with <code>Use the spec-designer agent to...</code> and watch for the validation message!</p>
                </div>

                <div class="bg-gray-100 dark:bg-gray-800 rounded-xl p-6 mb-6">
                    <h4 class="text-lg font-semibold mb-3">Troubleshooting</h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Agent not appearing in /agents?</p>
                            <p class="text-gray-600 dark:text-gray-400">Check YAML frontmatter syntax. The <code>---</code> delimiters must be on their own lines. Restart Claude Code after adding agent files.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Agent not being invoked automatically?</p>
                            <p class="text-gray-600 dark:text-gray-400">Add "Use PROACTIVELY" to the description field. Also try explicit invocation: "Use the X agent to..."</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Hook not running?</p>
                            <p class="text-gray-600 dark:text-gray-400">Verify settings.json syntax. Hooks must be nested under <code>"hooks": { "SubagentStop": [...] }</code>. Check file permissions on the Python script.</p>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 7 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d7-1" @change="saveChecklist('d7-1', $event.target.checked)" :checked="checklist['d7-1']"><label for="d7-1">Created .claude/agents/ directory</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d7-2" @change="saveChecklist('d7-2', $event.target.checked)" :checked="checklist['d7-2']"><label for="d7-2">Four agent roles defined with YAML frontmatter</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d7-3" @change="saveChecklist('d7-3', $event.target.checked)" :checked="checklist['d7-3']"><label for="d7-3">Tested /agents command to view agents</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d7-4" @change="saveChecklist('d7-4', $event.target.checked)" :checked="checklist['d7-4']"><label for="d7-4">/create-cli command with agent workflow</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d7-5" @change="saveChecklist('d7-5', $event.target.checked)" :checked="checklist['d7-5']"><label for="d7-5">SubagentStop hook configured</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d7-6" @change="saveChecklist('d7-6', $event.target.checked)" :checked="checklist['d7-6']"><label for="d7-6">Successfully created one CLI using agent delegation</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(7)" :class="completedDays.includes(7) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(7) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 8 -->
            <section id="day-8" class="day-section week-2" x-intersect:enter="currentSection = 'day-8'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">Day 3 of 5</span>
                    <button @click="toggleBookmark('day-8', 'Day 8: MCP External Tools')" :class="isBookmarked('day-8') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-8') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 8: MCP External Tools</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 8 of 14 • Week 2: Intelligence</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand what MCP is and how it extends Claude Code</li>
                    <li>Add and configure MCP servers</li>
                    <li>Use MCP tools in your workflows</li>
                    <li>Understand transport types and permissions</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">What is MCP?</h3>
                <p class="mb-4"><strong>Model Context Protocol (MCP)</strong> is an open standard that connects Claude Code to external tools, databases, and services. Think of it as a plugin system for AI integrations.</p>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-4">
                    <p class="font-semibold mb-2">Key Concept</p>
                    <p class="text-sm">MCP servers are <strong>separate processes or HTTP endpoints</strong> that Claude connects to. They provide tools, resources, and prompts that extend Claude's capabilities. You don't write Python functions - you connect to server processes.</p>
                </div>

                <h4 class="text-lg font-semibold mt-6 mb-3">What MCP Servers Provide</h4>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li><strong>Tools</strong> - Actions Claude can invoke (create PR, query database)</li>
                    <li><strong>Resources</strong> - Data Claude can reference with @mentions</li>
                    <li><strong>Prompts</strong> - Become available as slash commands</li>
                </ul>

                <h4 class="text-lg font-semibold mt-6 mb-3">Real-World MCP Use Cases</h4>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>Query your PostgreSQL database directly</li>
                    <li>Create GitHub issues and PRs</li>
                    <li>Analyze errors from Sentry</li>
                    <li>Manage Notion documents</li>
                    <li>Search Slack conversations</li>
                </ul>
                <div class="mermaid-container mermaid-walkthrough" id="mcp-integration-diagram" data-walkthrough="mcp-integration">
                    <div class="mermaid-container-title">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z"/></svg>
                        MCP Architecture
                    </div>
                    <div class="mermaid-controls">
                        <button class="walkthrough-play" title="Play walkthrough (Space)">
                            <svg class="play-icon" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg class="pause-icon hidden" fill="currentColor" viewBox="0 0 24 24"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        <button class="walkthrough-prev" title="Previous step (←)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                        </button>
                        <button class="walkthrough-next" title="Next step (→)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                        </button>
                        <button class="walkthrough-reset" title="Reset (R)">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/></svg>
                        </button>
                        <span class="mermaid-step-indicator">Step <span class="current-step">0</span>/<span class="total-steps">0</span></span>
                        <span class="mermaid-step-description">Click play or hover over nodes to explore</span>
                        <span class="mermaid-kbd-hint">
                            <kbd>Space</kbd> <kbd>←</kbd> <kbd>→</kbd>
                        </span>
                    </div>
                    <div class="mermaid hover-mode" id="mcp-integration-mermaid">
flowchart LR
    A[Claude Code] --> B[MCP Protocol]
    subgraph Servers[MCP Servers]
        C[GitHub Server]
        D[Database Server]
        E[Sentry Server]
    end
    B --> C
    B --> D
    B --> E
    C --> F[Tools + Resources]
    D --> F
    E --> F
    style A fill:#f3e8ff,stroke:#9333ea
    style B fill:#fef3c7,stroke:#d97706
    style C fill:#e0f2fe,stroke:#0284c7
    style D fill:#dcfce7,stroke:#16a34a
    style E fill:#fce7f3,stroke:#db2777
    style F fill:#f1f5f9,stroke:#64748b
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Adding MCP Servers</h3>
                <p class="mb-4">There are two ways to add MCP servers: CLI commands or configuration files.</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Method 1: CLI Commands</h4>
                <pre><code class="language-bash"># Add an HTTP-based MCP server (remote API)
claude mcp add --transport http github https://api.githubcopilot.com/mcp/

# Add a stdio-based MCP server (local npm package)
claude mcp add --transport stdio filesystem -- npx -y @anthropic/mcp-server-filesystem

# Add with environment variables
claude mcp add --transport stdio db --env DB_URL=postgres://localhost/mydb \
  -- npx -y @bytebase/dbhub

# List all configured servers
claude mcp list

# Remove a server
claude mcp remove github</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Method 2: Configuration File (.mcp.json)</h4>
                <p class="mb-4">Create <code>.mcp.json</code> in your project root (this gets checked into git for team sharing):</p>
                <pre><code class="language-json">{
  "mcpServers": {
    "github": {
      "type": "http",
      "url": "https://api.githubcopilot.com/mcp/"
    },
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-filesystem", "/path/to/allowed/dir"],
      "env": {}
    },
    "database": {
      "command": "npx",
      "args": ["-y", "@bytebase/dbhub"],
      "env": {
        "DB_URL": "${DATABASE_URL}"
      }
    }
  }
}</code></pre>

                <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 my-4">
                    <p class="font-semibold mb-2">Environment Variable Expansion</p>
                    <p class="text-sm">Use <code>${VAR}</code> syntax in .mcp.json to reference environment variables. Use <code>${VAR:-default}</code> for defaults.</p>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Transport Types</h3>
                <table class="w-full text-sm mb-6 border-collapse">
                    <thead>
                        <tr class="bg-gray-100 dark:bg-gray-800">
                            <th class="border p-2 text-left">Transport</th>
                            <th class="border p-2 text-left">Use Case</th>
                            <th class="border p-2 text-left">Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border p-2 font-mono">http</td>
                            <td class="border p-2">Remote cloud APIs, SaaS integrations</td>
                            <td class="border p-2">GitHub, Notion, Sentry</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-mono">stdio</td>
                            <td class="border p-2">Local tools, npm packages, scripts</td>
                            <td class="border p-2">Filesystem, database, custom tools</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-mono">sse</td>
                            <td class="border p-2">Server-sent events (deprecated)</td>
                            <td class="border p-2">Legacy streaming APIs</td>
                        </tr>
                    </tbody>
                </table>

                <h3 class="text-xl font-semibold mt-8 mb-3">Configuration Scopes</h3>
                <p class="mb-4">MCP servers can be configured at different scopes:</p>
                <table class="w-full text-sm mb-6 border-collapse">
                    <thead>
                        <tr class="bg-gray-100 dark:bg-gray-800">
                            <th class="border p-2 text-left">Scope</th>
                            <th class="border p-2 text-left">Location</th>
                            <th class="border p-2 text-left">Visibility</th>
                            <th class="border p-2 text-left">Use Case</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border p-2 font-mono">project</td>
                            <td class="border p-2"><code>.mcp.json</code></td>
                            <td class="border p-2">Team (via git)</td>
                            <td class="border p-2">Shared team tools</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-mono">local</td>
                            <td class="border p-2"><code>~/.claude.json</code></td>
                            <td class="border p-2">Only you, this project</td>
                            <td class="border p-2">Personal/experimental</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-mono">user</td>
                            <td class="border p-2"><code>~/.claude.json</code></td>
                            <td class="border p-2">Only you, all projects</td>
                            <td class="border p-2">Personal tools everywhere</td>
                        </tr>
                    </tbody>
                </table>
                <pre><code class="language-bash"># Add to specific scope
claude mcp add --scope project --transport http github https://api.github.com/mcp
claude mcp add --scope user --transport stdio notes -- npx -y notes-mcp</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Managing MCP Servers</h3>
                <p class="mb-4">Use the <code>/mcp</code> command in Claude Code to manage servers interactively:</p>
                <pre><code class="language-bash"># In Claude Code, type:
/mcp

# This opens an interactive menu to:
# - View all connected servers
# - Authenticate with OAuth servers
# - See available tools from each server
# - Troubleshoot connection issues</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Permissions and Approvals</h3>
                <p class="mb-4">Project-scoped MCP servers (from <code>.mcp.json</code>) require user approval before first use. Configure approval behavior in settings:</p>
                <pre><code class="language-json">{
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": ["github", "filesystem"],
  "disabledMcpjsonServers": ["dangerous-server"]
}</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Popular MCP Servers</h3>
                <p class="mb-4">Here are some commonly used MCP servers you can add to your projects:</p>
                <table class="w-full text-sm mb-6 border-collapse">
                    <thead>
                        <tr class="bg-gray-100 dark:bg-gray-800">
                            <th class="border p-2 text-left">Server</th>
                            <th class="border p-2 text-left">Purpose</th>
                            <th class="border p-2 text-left">Add Command</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="border p-2 font-semibold">GitHub</td>
                            <td class="border p-2">PRs, issues, code review</td>
                            <td class="border p-2 font-mono text-xs">claude mcp add --transport http github https://api.githubcopilot.com/mcp/</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-semibold">Filesystem</td>
                            <td class="border p-2">Safe file access</td>
                            <td class="border p-2 font-mono text-xs">claude mcp add --transport stdio fs -- npx -y @anthropic/mcp-server-filesystem ./</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-semibold">PostgreSQL</td>
                            <td class="border p-2">Database queries</td>
                            <td class="border p-2 font-mono text-xs">claude mcp add --transport stdio db -- npx -y @bytebase/dbhub --dsn "..."</td>
                        </tr>
                        <tr>
                            <td class="border p-2 font-semibold">Sentry</td>
                            <td class="border p-2">Error monitoring</td>
                            <td class="border p-2 font-mono text-xs">claude mcp add --transport http sentry https://mcp.sentry.dev/mcp</td>
                        </tr>
                    </tbody>
                </table>
                <p class="text-sm text-gray-600 dark:text-gray-400">Find more servers at <a href="https://github.com/modelcontextprotocol/servers" class="text-primary hover:underline">github.com/modelcontextprotocol/servers</a></p>

                <h3 class="text-xl font-semibold mt-8 mb-3">Hands-On Exercises</h3>
                <p class="mb-4">Now let's practice adding and using MCP servers.</p>

                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 mb-6 border border-blue-200 dark:border-blue-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">1</span>
                        Exercise: Add Your First MCP Server
                    </h4>
                    <p class="mb-4 text-sm">Add the filesystem MCP server to safely give Claude access to a directory:</p>
                    <pre class="mb-4"><code class="language-bash"># Add filesystem server (stdio transport)
claude mcp add --transport stdio filesystem -- npx -y @anthropic/mcp-server-filesystem ./generated

# Verify it was added
claude mcp list</code></pre>
                    <p class="mb-3 text-sm"><strong>Expected output:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-green-400">✓ Added MCP server: filesystem</div>
                        <div class="text-gray-400 mt-2">Configured servers:</div>
                        <div class="text-gray-300">  • filesystem (stdio) - npx -y @anthropic/mcp-server-filesystem ./generated</div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>What this does:</strong> Claude can now safely read/write files in the <code>./generated</code> directory through the MCP filesystem server.</p>
                </div>

                <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 mb-6 border border-green-200 dark:border-green-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">2</span>
                        Exercise: Create a Project MCP Configuration
                    </h4>
                    <p class="mb-4 text-sm">Create a <code>.mcp.json</code> file to share MCP configuration with your team:</p>
                    <pre class="mb-4"><code class="language-bash"># Create .mcp.json in project root
cat > .mcp.json << 'EOF'
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@anthropic/mcp-server-filesystem", "./generated"],
      "env": {}
    }
  }
}
EOF

echo "✓ Created .mcp.json"
cat .mcp.json</code></pre>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-4"><strong>Key point:</strong> This file should be committed to git so your team shares the same MCP configuration.</p>
                </div>

                <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 mb-6 border border-purple-200 dark:border-purple-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">3</span>
                        Exercise: Use the /mcp Command
                    </h4>
                    <p class="mb-4 text-sm">In Claude Code, use the <code>/mcp</code> command to view and manage servers:</p>
                    <pre class="mb-4"><code class="language-bash"># In Claude Code, type:
/mcp</code></pre>
                    <p class="mb-3 text-sm"><strong>What you'll see:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-yellow-400">MCP Server Status</div>
                        <div class="text-gray-300 mt-2">Connected servers:</div>
                        <div class="text-green-400">  ✓ filesystem - @anthropic/mcp-server-filesystem</div>
                        <div class="text-gray-300 mt-2">Available tools:</div>
                        <div class="text-gray-400">  • read_file - Read contents of a file</div>
                        <div class="text-gray-400">  • write_file - Write contents to a file</div>
                        <div class="text-gray-400">  • list_directory - List files in directory</div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Try it:</strong> Ask Claude to "list the files in the generated directory using the filesystem MCP server"</p>
                </div>

                <div class="bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl p-6 mb-6 border border-orange-200 dark:border-orange-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">4</span>
                        Exercise: Add GitHub MCP Server (Optional)
                    </h4>
                    <p class="mb-4 text-sm">If you want to integrate with GitHub, add the GitHub MCP server:</p>
                    <pre class="mb-4"><code class="language-bash"># Add GitHub MCP server (HTTP transport)
claude mcp add --transport http github https://api.githubcopilot.com/mcp/

# In Claude Code, authenticate:
/mcp
# Select GitHub and follow the OAuth flow</code></pre>
                    <p class="mb-3 text-sm"><strong>After authentication, you can:</strong></p>
                    <pre class="mb-4"><code class="language-markdown"># Ask Claude to use GitHub tools:
"Create a GitHub issue for the bug we found in the convert command"
"Review PR #123 and suggest improvements"
"List my open pull requests"</code></pre>
                    <div class="bg-yellow-100 dark:bg-yellow-900/30 rounded-lg p-3 mt-4">
                        <p class="text-sm"><strong>Note:</strong> GitHub MCP requires authentication. The /mcp command will guide you through OAuth login.</p>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-6 mb-6 border border-red-200 dark:border-red-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">5</span>
                        Exercise: Use MCP in Your CLI Workflow
                    </h4>
                    <p class="mb-4 text-sm">Now combine MCP with your CLI generator workflow:</p>
                    <pre class="mb-4"><code class="language-markdown"># In Claude Code, try this workflow:
"Design a CLI called 'notes-cli' for managing markdown notes.
After generating the code, use the filesystem MCP to write it to ./generated/notes-cli/"</code></pre>
                    <p class="mb-3 text-sm"><strong>What happens:</strong></p>
                    <ol class="list-decimal list-inside text-sm space-y-2 mb-4">
                        <li>Claude designs the CLI specification</li>
                        <li>Claude generates the Python code</li>
                        <li>Claude uses the <strong>filesystem MCP server</strong> to write files</li>
                        <li>Files appear in <code>./generated/notes-cli/</code></li>
                    </ol>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Verify:</strong> Check that the files were created: <code>ls -la ./generated/notes-cli/</code></p>
                </div>

                <div class="bg-gray-100 dark:bg-gray-800 rounded-xl p-6 mb-6">
                    <h4 class="text-lg font-semibold mb-3">Troubleshooting MCP</h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Server not connecting?</p>
                            <p class="text-gray-600 dark:text-gray-400">Check that npx can run the package: <code>npx -y @anthropic/mcp-server-filesystem --help</code>. Ensure Node.js is installed.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Permission denied for project .mcp.json?</p>
                            <p class="text-gray-600 dark:text-gray-400">Project MCP servers require approval on first use. Run <code>/mcp</code> and approve the server, or set <code>"enableAllProjectMcpServers": true</code> in settings.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">OAuth authentication failing?</p>
                            <p class="text-gray-600 dark:text-gray-400">Use <code>/mcp</code> to re-authenticate. Check that your browser can open the OAuth URL. Try removing and re-adding the server.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Environment variables not working?</p>
                            <p class="text-gray-600 dark:text-gray-400">In .mcp.json, use <code>${VAR}</code> syntax. Ensure the variable is exported: <code>export DATABASE_URL=...</code></p>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 8 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d8-1" @change="saveChecklist('d8-1', $event.target.checked)" :checked="checklist['d8-1']"><label for="d8-1">Understand MCP is a protocol for external servers</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-2" @change="saveChecklist('d8-2', $event.target.checked)" :checked="checklist['d8-2']"><label for="d8-2">Added filesystem MCP server using CLI</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-3" @change="saveChecklist('d8-3', $event.target.checked)" :checked="checklist['d8-3']"><label for="d8-3">Created .mcp.json configuration file</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-4" @change="saveChecklist('d8-4', $event.target.checked)" :checked="checklist['d8-4']"><label for="d8-4">Used /mcp command to view servers</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-5" @change="saveChecklist('d8-5', $event.target.checked)" :checked="checklist['d8-5']"><label for="d8-5">Successfully used MCP tools in a workflow</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-6" @change="saveChecklist('d8-6', $event.target.checked)" :checked="checklist['d8-6']"><label for="d8-6">Understand transport types (http vs stdio)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d8-7" @change="saveChecklist('d8-7', $event.target.checked)" :checked="checklist['d8-7']"><label for="d8-7">Understand configuration scopes (project/local/user)</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(8)" :class="completedDays.includes(8) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(8) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 9 - Memory & Context Management -->
            <section id="day-9" class="day-section week-2" x-intersect:enter="currentSection = 'day-9'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">Day 4 of 5</span>
                    <button @click="toggleBookmark('day-9', 'Day 9: Memory & Context Management')" :class="isBookmarked('day-9') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-9') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 9: Memory & Context Management</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 9 of 14 • Week 2: Intelligence</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand how Claude Code handles context exhaustion</li>
                    <li>Master session persistence techniques</li>
                    <li>Use MCP-based memory for cross-session continuity</li>
                </ul>

                <h3 class="text-xl font-semibold mb-3">The Context Challenge</h3>
                <p class="mb-4">Claude Code has a finite context window. When working on large projects, context exhaustion is inevitable. Understanding how to manage this is crucial for effective workflows.</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Auto-Compaction</h4>
                <p class="mb-4">When context fills up, Claude Code automatically compacts the conversation:</p>
                <ol class="list-decimal list-inside mb-4 space-y-2">
                    <li>Summary of key decisions and progress is created</li>
                    <li>Older detailed exchanges are removed</li>
                    <li>Recent context is preserved</li>
                    <li>Work continues with compressed history</li>
                </ol>
                <div class="callout callout-info"><strong>Tip:</strong> You can monitor context usage in the status line if you configured it in Day 1.</div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Session Persistence</h3>
                <p class="mb-4">Claude Code provides several ways to resume previous work:</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Continue Last Session</h4>
                <pre><code class="language-bash"># Resume most recent session
claude -c

# Or use the continue flag
claude --continue</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-2">Resume Specific Session</h4>
                <pre><code class="language-bash"># Resume a specific session by ID
claude --resume &lt;session-id&gt;

# List recent sessions to find IDs
claude sessions list</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-2">Session Best Practices</h4>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li>Use <code>claude -c</code> when returning to interrupted work</li>
                    <li>Start fresh sessions for unrelated tasks</li>
                    <li>Let auto-compaction handle long sessions naturally</li>
                </ul>

                <h3 class="text-xl font-semibold mt-8 mb-3">MCP-Based Memory</h3>
                <p class="mb-4">For true cross-session memory that survives beyond auto-compaction, use MCP-based memory tools like <code>claude-mem</code>:</p>

                <h4 class="text-lg font-semibold mt-6 mb-2">Install claude-mem</h4>
                <pre><code class="language-bash"># Install the memory plugin
claude plugins install claude-mem@thedotmack</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-2">Using Memory</h4>
                <pre><code class="language-bash"># In Claude Code session - search past work
/mem-search "CLI generator architecture decisions"

# The plugin automatically records:
# - Key decisions you make
# - Bugs you fix and how
# - Implementation patterns used
# - Session summaries</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-2">Memory Benefits</h4>
                <ul class="list-disc list-inside mb-4 space-y-1">
                    <li><strong>Cross-session continuity:</strong> Pick up where you left off</li>
                    <li><strong>Decision history:</strong> Remember why you chose certain approaches</li>
                    <li><strong>Pattern reuse:</strong> Apply previous solutions to similar problems</li>
                    <li><strong>Team knowledge:</strong> Share learnings across the project</li>
                </ul>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 9 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d9-1" @change="saveChecklist('d9-1', $event.target.checked)" :checked="checklist['d9-1']"><label for="d9-1">Understand auto-compaction behavior</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d9-2" @change="saveChecklist('d9-2', $event.target.checked)" :checked="checklist['d9-2']"><label for="d9-2">Practice using claude -c to resume sessions</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d9-3" @change="saveChecklist('d9-3', $event.target.checked)" :checked="checklist['d9-3']"><label for="d9-3">Install and configure claude-mem (optional)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d9-4" @change="saveChecklist('d9-4', $event.target.checked)" :checked="checklist['d9-4']"><label for="d9-4">Test memory search functionality</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d9-5" @change="saveChecklist('d9-5', $event.target.checked)" :checked="checklist['d9-5']"><label for="d9-5">Document key architectural decisions for memory</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(9)" :class="completedDays.includes(9) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(9) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Day 10 - Plugin Packaging -->
            <section id="day-10" class="day-section week-2" x-intersect:enter="currentSection = 'day-10'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-sm font-medium rounded-full">Day 5 of 5</span>
                    <button @click="toggleBookmark('day-10', 'Day 10: Plugin Packaging')" :class="isBookmarked('day-10') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-10') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Day 10: Plugin Packaging</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Day 10 of 14 • Week 2: Intelligence</p>

                <h3 class="text-xl font-semibold mb-3">Learning Objectives</h3>
                <ul class="list-disc list-inside mb-6 space-y-1">
                    <li>Understand Claude Code plugin architecture</li>
                    <li>Create a plugin.json manifest</li>
                    <li>Structure plugins correctly (.claude-plugin/ folder)</li>
                    <li>Use CLI commands to manage plugins</li>
                    <li>Test plugins during development</li>
                </ul>

                <div class="bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 my-4">
                    <p class="font-semibold mb-2">What Are Plugins?</p>
                    <p class="text-sm">Plugins extend Claude Code with custom commands, agents, hooks, skills, and MCP servers. They can be shared through plugin marketplaces. The official Anthropic marketplace is available by default.</p>
                </div>

                <p class="mb-4">Now let's package everything you've built as a distributable plugin that others can install.</p>

                <h4 class="text-lg font-semibold mb-3">Plugin Structure</h4>
                <p class="text-gray-600 dark:text-gray-400 mb-4"><strong>Important:</strong> Only <code>plugin.json</code> goes inside <code>.claude-plugin/</code>. All other directories are at the plugin root:</p>
                <pre><code class="language-bash">cli-generator-plugin/
├── .claude-plugin/
│   └── plugin.json           # Plugin manifest (ONLY this file here)
├── commands/                 # Slash commands (at root level)
│   ├── design.md
│   ├── generate.md
│   ├── implement.md
│   ├── test.md
│   ├── new-cli.md
│   └── add-command.md
├── agents/                   # Specialized agents (at root level)
│   ├── spec-designer.md
│   ├── code-generator.md
│   ├── test-writer.md
│   └── code-reviewer.md
├── skills/                   # Skills (directories with SKILL.md)
│   ├── cli-generator-workflow/
│   │   └── SKILL.md
│   ├── enforcing-code-style/
│   │   └── SKILL.md
│   └── advising-test-coverage/
│       └── SKILL.md
├── hooks/
│   └── hooks.json            # Hook configurations (JSON, not .md)
└── README.md</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Plugin Manifest (plugin.json)</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">Create <code class="bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">.claude-plugin/plugin.json</code>:</p>
                <pre><code class="language-json">{
  "name": "cli-generator",
  "description": "Generate CLI tools from natural language descriptions",
  "version": "1.0.0",
  "author": {
    "name": "Your Name"
  },
  "repository": "https://github.com/yourusername/cli-generator",
  "license": "MIT",
  "homepage": "https://github.com/yourusername/cli-generator#readme"
}</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Manifest Fields Reference</h4>
                <table class="w-full text-sm mb-6 border-collapse">
                    <thead>
                        <tr class="bg-gray-100 dark:bg-gray-800">
                            <th class="border p-2 text-left">Field</th>
                            <th class="border p-2 text-left">Required</th>
                            <th class="border p-2 text-left">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td class="border p-2 font-mono">name</td><td class="border p-2">Yes</td><td class="border p-2">Plugin name (lowercase, becomes command prefix like <code>/cli-generator:design</code>)</td></tr>
                        <tr><td class="border p-2 font-mono">description</td><td class="border p-2">Yes</td><td class="border p-2">What the plugin does</td></tr>
                        <tr><td class="border p-2 font-mono">version</td><td class="border p-2">Yes</td><td class="border p-2">Semantic version (e.g., "1.0.0")</td></tr>
                        <tr><td class="border p-2 font-mono">author</td><td class="border p-2">Yes</td><td class="border p-2">Object with <code>name</code> property</td></tr>
                        <tr><td class="border p-2 font-mono">repository</td><td class="border p-2">No</td><td class="border p-2">Repository URL</td></tr>
                        <tr><td class="border p-2 font-mono">mcpServers</td><td class="border p-2">No</td><td class="border p-2">MCP server configurations (see below)</td></tr>
                        <tr><td class="border p-2 font-mono">hooks</td><td class="border p-2">No</td><td class="border p-2">Inline hook configurations</td></tr>
                    </tbody>
                </table>

                <h4 class="text-lg font-semibold mt-6 mb-3">Adding MCP Servers to Plugin</h4>
                <p class="mb-4">Use <code>${CLAUDE_PLUGIN_ROOT}</code> to reference files within your plugin:</p>
                <pre><code class="language-json">{
  "name": "cli-generator",
  "description": "Generate CLI tools from natural language descriptions",
  "version": "1.0.0",
  "author": { "name": "Your Name" },
  "mcpServers": {
    "pypi-checker": {
      "command": "${CLAUDE_PLUGIN_ROOT}/servers/pypi-checker",
      "args": []
    }
  }
}</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Plugin CLI Commands</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">Claude Code provides built-in commands for plugin management:</p>

                <h4 class="text-lg font-semibold mt-6 mb-3">Installing Plugins</h4>
                <pre><code class="language-bash"># Install from a marketplace (user scope - available everywhere)
claude plugin install cli-generator@my-marketplace

# Install for just this project (team can share via git)
claude plugin install cli-generator@my-marketplace --scope project

# Install locally (gitignored, just for you)
claude plugin install cli-generator@my-marketplace --scope local</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Plugin Manager UI</h4>
                <pre><code class="language-bash"># In Claude Code, open the plugin manager:
/plugin

# This opens a tabbed interface:
# - Discover: Browse plugins from all registered marketplaces
# - Installed: Manage your installed plugins
# - Marketplaces: Add/remove marketplace sources</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Adding Marketplaces</h4>
                <pre><code class="language-bash"># Add a marketplace from various sources:
/plugin marketplace add owner/repo              # GitHub repository
/plugin marketplace add https://git.example.com/plugins.git  # Git URL
/plugin marketplace add /path/to/local/marketplace  # Local directory</code></pre>

                <h4 class="text-lg font-semibold mt-6 mb-3">Development Testing</h4>
                <pre><code class="language-bash"># Test your plugin during development (without installing)
claude code --plugin-dir /path/to/cli-generator-plugin

# This loads your plugin directly - restart Claude Code to pick up changes</code></pre>

                <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 p-4 my-4">
                    <p class="font-semibold mb-2">Installation Scopes</p>
                    <table class="w-full text-sm">
                        <tr><td class="pr-4"><code>user</code> (default)</td><td>Available in all your projects</td></tr>
                        <tr><td class="pr-4"><code>project</code></td><td>Shared with team via git</td></tr>
                        <tr><td class="pr-4"><code>local</code></td><td>Just you, this project only</td></tr>
                    </table>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Plugin Hooks (hooks.json)</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">Create <code class="bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">hooks/hooks.json</code> for plugin hooks:</p>
                <pre><code class="language-json">{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "python -m py_compile \"$CLAUDE_FILE_PATH\" 2>&1 || echo 'Syntax error in generated code'"
          }
        ]
      }
    ]
  }
}</code></pre>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Hooks use the same format as <code>.claude/settings.json</code> hooks. Use <code>${CLAUDE_PLUGIN_ROOT}</code> to reference plugin files.</p>

                <h3 class="text-xl font-semibold mt-8 mb-3">Plugin README.md</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">Every plugin should have a README explaining usage:</p>
                <pre><code class="language-markdown"># CLI Generator Plugin

Generate complete CLI applications from natural language descriptions.

## Installation

```bash
claude plugin install cli-generator@your-marketplace
```

## Commands

After installation, commands are available with the `cli-generator:` prefix:

| Command | Description |
|---------|-------------|
| `/cli-generator:design &lt;desc&gt;` | Create CLI specification |
| `/cli-generator:generate` | Generate code from design |
| `/cli-generator:test` | Run tests for generated CLI |

## Features

- Natural language to working CLI code
- Automatic test generation
- Code quality validation hooks
- Smart suggestions via skills</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Converting .claude/ to Plugin</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">To convert your existing <code>.claude/</code> customizations to a shareable plugin:</p>
                <pre><code class="language-bash"># 1. Create plugin directory structure
mkdir -p cli-generator-plugin/.claude-plugin
mkdir -p cli-generator-plugin/{commands,agents,skills,hooks}

# 2. Create plugin.json manifest
cat > cli-generator-plugin/.claude-plugin/plugin.json << 'EOF'
{
  "name": "cli-generator",
  "description": "Generate CLI tools from natural language",
  "version": "1.0.0",
  "author": { "name": "Your Name" }
}
EOF

# 3. Copy your commands
cp .claude/commands/*.md cli-generator-plugin/commands/

# 4. Copy your agents
cp .claude/agents/*.md cli-generator-plugin/agents/

# 5. Copy skills (note: directories with SKILL.md)
cp -r .claude/skills/* cli-generator-plugin/skills/

# 6. Extract hooks from settings.json to hooks/hooks.json
# Copy the "hooks" object from .claude/settings.json</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Hands-On Exercises: Plugins</h3>

                <div class="bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 rounded-xl p-6 mb-6 border border-blue-200 dark:border-blue-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">1</span>
                        Exercise: Browse Available Plugins
                    </h4>
                    <p class="mb-4 text-sm">Open the plugin manager to see what's available:</p>
                    <pre class="mb-4"><code class="language-bash"># In Claude Code, type:
/plugin</code></pre>
                    <p class="mb-3 text-sm"><strong>What you'll see:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-yellow-400">Plugin Manager</div>
                        <div class="text-gray-400 mt-2">[Discover] [Installed] [Marketplaces]</div>
                        <div class="text-gray-300 mt-2">Available from claude-plugins-official:</div>
                        <div class="text-green-400">  figma - Figma design integration</div>
                        <div class="text-green-400">  claude-mem - Cross-session memory</div>
                        <div class="text-gray-400 mt-2">Use Tab to switch tabs, Enter to select</div>
                    </div>
                    <p class="text-sm text-gray-600 dark:text-gray-400"><strong>Try it:</strong> Navigate through the tabs using Tab key and explore available plugins.</p>
                </div>

                <div class="bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-xl p-6 mb-6 border border-green-200 dark:border-green-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">2</span>
                        Exercise: Create Your Plugin Directory
                    </h4>
                    <p class="mb-4 text-sm">Set up the correct plugin structure:</p>
                    <pre class="mb-4"><code class="language-bash"># Create plugin directory structure
mkdir -p my-first-plugin/.claude-plugin
mkdir -p my-first-plugin/{commands,skills,hooks}

# Create the manifest
cat > my-first-plugin/.claude-plugin/plugin.json << 'EOF'
{
  "name": "my-first-plugin",
  "description": "A learning exercise plugin",
  "version": "1.0.0",
  "author": { "name": "Your Name" }
}
EOF

# Verify structure
find my-first-plugin -type f</code></pre>
                    <p class="mb-3 text-sm"><strong>Expected output:</strong></p>
                    <div class="bg-gray-900 text-gray-100 rounded-lg p-4 text-sm font-mono mb-4">
                        <div class="text-gray-300">my-first-plugin/.claude-plugin/plugin.json</div>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-xl p-6 mb-6 border border-purple-200 dark:border-purple-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">3</span>
                        Exercise: Add a Command to Your Plugin
                    </h4>
                    <p class="mb-4 text-sm">Create a simple slash command:</p>
                    <pre class="mb-4"><code class="language-bash"># Create a greeting command
cat > my-first-plugin/commands/greet.md << 'EOF'
---
description: Say hello with a custom message
arguments:
  - name: name
    description: Name to greet
    required: false
---

Greet the user warmly. If a name is provided, use it.
Otherwise, use a friendly generic greeting.

Keep the response brief and cheerful.
EOF

echo "✓ Created greet command"</code></pre>
                </div>

                <div class="bg-gradient-to-r from-orange-50 to-amber-50 dark:from-orange-900/20 dark:to-amber-900/20 rounded-xl p-6 mb-6 border border-orange-200 dark:border-orange-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">4</span>
                        Exercise: Test Your Plugin During Development
                    </h4>
                    <p class="mb-4 text-sm">Load your plugin without installing it:</p>
                    <pre class="mb-4"><code class="language-bash"># Start Claude Code with your plugin loaded
claude code --plugin-dir ./my-first-plugin</code></pre>
                    <p class="mb-3 text-sm"><strong>Then in Claude Code, try:</strong></p>
                    <pre class="mb-4"><code class="language-bash"># Your command is available with the plugin name prefix:
/my-first-plugin:greet Alice</code></pre>
                    <div class="bg-yellow-100 dark:bg-yellow-900/30 rounded-lg p-3 mt-4">
                        <p class="text-sm"><strong>Note:</strong> Restart Claude Code after making changes to your plugin to pick up updates.</p>
                    </div>
                </div>

                <div class="bg-gradient-to-r from-red-50 to-rose-50 dark:from-red-900/20 dark:to-rose-900/20 rounded-xl p-6 mb-6 border border-red-200 dark:border-red-800">
                    <h4 class="text-lg font-semibold mb-3 flex items-center gap-2">
                        <span class="bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm">5</span>
                        Exercise: Convert CLI Generator to a Plugin
                    </h4>
                    <p class="mb-4 text-sm">Package your CLI generator work as a distributable plugin:</p>
                    <pre class="mb-4"><code class="language-bash"># Create the plugin structure
mkdir -p cli-generator-plugin/.claude-plugin
mkdir -p cli-generator-plugin/{commands,agents,skills,hooks}

# Create manifest
cat > cli-generator-plugin/.claude-plugin/plugin.json << 'EOF'
{
  "name": "cli-generator",
  "description": "Generate CLI tools from natural language descriptions",
  "version": "1.0.0",
  "author": { "name": "Your Name" },
  "repository": "https://github.com/yourusername/cli-generator-plugin"
}
EOF

# Copy your work
cp .claude/commands/*.md cli-generator-plugin/commands/
cp .claude/agents/*.md cli-generator-plugin/agents/
cp -r .claude/skills/* cli-generator-plugin/skills/

# Verify
echo "Plugin contents:"
find cli-generator-plugin -name "*.md" -o -name "*.json" | head -20</code></pre>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-4"><strong>Result:</strong> You now have a shareable plugin that others can install!</p>
                </div>

                <div class="bg-gray-100 dark:bg-gray-800 rounded-xl p-6 mb-6">
                    <h4 class="text-lg font-semibold mb-3">Troubleshooting Plugins</h4>
                    <div class="space-y-4 text-sm">
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Commands not showing up?</p>
                            <p class="text-gray-600 dark:text-gray-400">Check that <code>plugin.json</code> is inside <code>.claude-plugin/</code> folder (not at root). Commands must be at plugin root level, not inside <code>.claude-plugin/</code>.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Plugin not loading with --plugin-dir?</p>
                            <p class="text-gray-600 dark:text-gray-400">Ensure the path points to the plugin root (the folder containing <code>.claude-plugin/</code>). Restart Claude Code after changes.</p>
                        </div>
                        <div>
                            <p class="font-medium text-red-600 dark:text-red-400">Can't find plugin in /plugin UI?</p>
                            <p class="text-gray-600 dark:text-gray-400">Plugins must be published to a marketplace to appear in Discover. Use <code>--plugin-dir</code> for local development testing.</p>
                        </div>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Day 10 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d10-1" @change="saveChecklist('d10-1', $event.target.checked)" :checked="checklist['d10-1']"><label for="d10-1">Understand plugin structure (.claude-plugin/plugin.json)</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d10-2" @change="saveChecklist('d10-2', $event.target.checked)" :checked="checklist['d10-2']"><label for="d10-2">Created plugin.json manifest with required fields</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d10-3" @change="saveChecklist('d10-3', $event.target.checked)" :checked="checklist['d10-3']"><label for="d10-3">Used /plugin command to browse available plugins</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d10-4" @change="saveChecklist('d10-4', $event.target.checked)" :checked="checklist['d10-4']"><label for="d10-4">Created a simple test plugin with a command</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d10-5" @change="saveChecklist('d10-5', $event.target.checked)" :checked="checklist['d10-5']"><label for="d10-5">Tested plugin with --plugin-dir flag</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d10-6" @change="saveChecklist('d10-6', $event.target.checked)" :checked="checklist['d10-6']"><label for="d10-6">Converted CLI generator to plugin format</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(10)" :class="completedDays.includes(10) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(10) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Week 3 Banner -->
            <div class="week-banner week-3">
                <div class="week-banner-content">
                    <div class="week-banner-icon">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path></svg>
                    </div>
                    <div class="week-banner-title">Week 3: Polish</div>
                    <div class="week-banner-subtitle">Documentation, Examples, and Release</div>
                    <div class="week-banner-days">Days 11-14</div>
                </div>
            </div>

            <!-- Days 11-12 -->
            <section id="day-11-12" class="day-section week-3" x-intersect:enter="currentSection = 'day-11-12'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-sm font-medium rounded-full">Days 1-2 of 4</span>
                    <button @click="toggleBookmark('day-11-12', 'Days 11-12: Documentation + Examples')" :class="isBookmarked('day-11-12') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-11-12') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Days 11-12: Documentation + Examples</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Days 11-12 of 14 • Week 3: Polish</p>

                <h3 class="text-xl font-semibold mb-3">Create Example Gallery</h3>
                <p class="text-gray-600 dark:text-gray-400 mb-4">Create <code class="bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">examples/</code> directory with complete examples:</p>
                <pre><code class="language-bash">examples/
├── README.md
├── simple-counter/
│   ├── description.txt
│   ├── generated/
│   │   └── word_counter/
│   │       ├── cli.py
│   │       └── __init__.py
│   └── README.md
├── file-converter/
│   ├── description.txt
│   ├── generated/
│   └── README.md
├── api-client/
│   ├── description.txt
│   ├── generated/
│   └── README.md
└── task-manager/
    ├── description.txt
    ├── generated/
    └── README.md</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">Example: Simple Counter</h3>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6">
                    <h4 class="font-semibold mb-2">Description</h4>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">A word/line/character counter similar to <code>wc</code>.</p>

                    <h4 class="font-semibold mb-2">Generation Command</h4>
                    <pre><code class="language-bash">/design "A command-line tool to count words, lines, and characters in text files. Should support multiple files and have options to select what to count."
/generate --with-tests</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Generated CLI</h4>
                    <pre><code class="language-bash">word-counter count FILE [--words] [--lines] [--chars]</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Usage Examples</h4>
                    <pre><code class="language-bash"># Count everything in a file
word-counter count document.txt

# Count only lines
word-counter count document.txt --lines

# Count words and characters
word-counter count document.txt --words --chars</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Learning Points</h4>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Simple single-command CLI</li>
                        <li>Boolean flag options</li>
                        <li>File path argument</li>
                        <li>Standard short options (-w, -l, -c)</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Example: File Converter</h3>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6">
                    <h4 class="font-semibold mb-2">Description</h4>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">Convert files between JSON, YAML, and TOML formats.</p>

                    <h4 class="font-semibold mb-2">Generation Command</h4>
                    <pre><code class="language-bash">/design "A file converter that transforms between JSON, YAML, and TOML formats. Should support input/output files, format auto-detection, and pretty printing."
/generate --with-tests
/implement ./generated/file-converter convert</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Generated CLI</h4>
                    <pre><code class="language-bash">file-converter convert INPUT [--output FILE] [--format FORMAT] [--pretty]
file-converter detect FILE</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Learning Points</h4>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Multiple commands</li>
                        <li>Choice type options</li>
                        <li>Optional arguments with defaults</li>
                        <li>Format auto-detection logic</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Example: API Client</h3>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6">
                    <h4 class="font-semibold mb-2">Description</h4>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">A CLI for interacting with a REST API.</p>

                    <h4 class="font-semibold mb-2">Generated CLI</h4>
                    <pre><code class="language-bash">api-client get URL [--headers KEY=VALUE] [--auth TOKEN] [--format FORMAT]
api-client post URL --data JSON [--headers KEY=VALUE]
api-client put URL --data JSON
api-client delete URL [--confirm]
api-client config set KEY VALUE
api-client config get KEY</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Learning Points</h4>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Multiple related commands</li>
                        <li>Multiple option types (str, bool, choice)</li>
                        <li>Configuration management</li>
                        <li>HTTP client integration (httpx)</li>
                        <li>Output formatting</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">Example: Task Manager</h3>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700 mb-6">
                    <h4 class="font-semibold mb-2">Description</h4>
                    <p class="text-gray-600 dark:text-gray-400 mb-4">A local task/todo management CLI.</p>

                    <h4 class="font-semibold mb-2">Generated CLI</h4>
                    <pre><code class="language-bash">tasks add TITLE [--priority LEVEL] [--due DATE] [--tags TAG1,TAG2]
tasks list [--all] [--priority LEVEL] [--tag TAG] [--due-before DATE]
tasks show ID
tasks complete ID
tasks delete ID [--force]
tasks edit ID [--title TITLE] [--priority LEVEL]
tasks search QUERY
tasks export [--format FORMAT]
tasks import FILE</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Usage Examples</h4>
                    <pre><code class="language-bash"># Add a task
tasks add "Buy groceries" --priority high --due tomorrow

# List pending tasks
tasks list

# Filter by tag
tasks list --tag work

# Complete a task
tasks complete 1

# Export to JSON
tasks export --format json > backup.json</code></pre>

                    <h4 class="font-semibold mt-4 mb-2">Learning Points</h4>
                    <ul class="list-disc list-inside text-sm space-y-1">
                        <li>Full CRUD operations</li>
                        <li>Date parsing</li>
                        <li>Filtering and search</li>
                        <li>Data persistence</li>
                        <li>Multiple output formats</li>
                        <li>Import/export functionality</li>
                    </ul>
                </div>

                <h3 class="text-xl font-semibold mt-8 mb-3">✅ Days 11-12 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d11-1" @change="saveChecklist('d11-1', $event.target.checked)" :checked="checklist['d11-1']"><label for="d11-1">README comprehensive</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-2" @change="saveChecklist('d11-2', $event.target.checked)" :checked="checklist['d11-2']"><label for="d11-2">All commands documented</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-3" @change="saveChecklist('d11-3', $event.target.checked)" :checked="checklist['d11-3']"><label for="d11-3">All hooks documented</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-4" @change="saveChecklist('d11-4', $event.target.checked)" :checked="checklist['d11-4']"><label for="d11-4">All skills documented</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-5" @change="saveChecklist('d11-5', $event.target.checked)" :checked="checklist['d11-5']"><label for="d11-5">Examples complete and working</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-6" @change="saveChecklist('d11-6', $event.target.checked)" :checked="checklist['d11-6']"><label for="d11-6">API documentation generated</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d11-7" @change="saveChecklist('d11-7', $event.target.checked)" :checked="checklist['d11-7']"><label for="d11-7">CHANGELOG updated</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(11); toggleDay(12)" :class="completedDays.includes(11) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(11) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Day Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Days 13-14 -->
            <section id="day-13-14" class="day-section week-3" x-intersect:enter="currentSection = 'day-13-14'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-sm font-medium rounded-full">Days 3-4 of 4</span>
                    <button @click="toggleBookmark('day-13-14', 'Days 13-14: Final Testing + Release')" :class="isBookmarked('day-13-14') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('day-13-14') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-2">Days 13-14: Final Testing + Release</h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">Days 13-14 of 14 • Week 3: Polish</p>

                <h3 class="text-xl font-semibold mb-3">Final Checklist</h3>

                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-4 text-lg">Code Quality</h4>
                        <ul class="list-disc list-inside text-sm space-y-2">
                            <li>All unit tests passing</li>
                            <li>All integration tests passing</li>
                            <li>All golden tests passing</li>
                            <li>Code coverage > 80%</li>
                            <li>No security issues (run security hooks)</li>
                            <li>All code formatted (black, isort)</li>
                            <li>Type hints complete</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-4 text-lg">Documentation</h4>
                        <ul class="list-disc list-inside text-sm space-y-2">
                            <li>README comprehensive</li>
                            <li>All commands documented</li>
                            <li>All hooks documented</li>
                            <li>All skills documented</li>
                            <li>Examples complete and working</li>
                            <li>API documentation generated</li>
                            <li>CHANGELOG updated</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-4 text-lg">Plugin</h4>
                        <ul class="list-disc list-inside text-sm space-y-2">
                            <li>.claude-plugin/plugin.json complete</li>
                            <li>README.md with installation instructions</li>
                            <li>Commands at plugin root level</li>
                            <li>hooks/hooks.json configured</li>
                            <li>Test with --plugin-dir flag</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-4 text-lg">Release Preparation</h4>
                        <ul class="list-disc list-inside text-sm space-y-2">
                            <li>Version number updated</li>
                            <li>pyproject.toml complete</li>
                            <li>LICENSE file present</li>
                            <li>.gitignore appropriate</li>
                        </ul>
                    </div>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-3">Running Final Tests</h3>
                <pre><code class="language-bash"># Full test suite
uv run pytest --cov=cli_generator --cov-report=html

# Security check
uv run python -c "from cli_generator.validators.security_validator import check_code_security; print('Security module OK')"

# Build check
uv run python -m build

# Install check (in fresh venv)
uv venv test_env
source test_env/bin/activate
uv pip install dist/*.whl
cli-gen --help</code></pre>

                <h3 class="text-xl font-semibold mt-8 mb-3">✅ Days 13-14 Checklist</h3>
                <div class="bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-200 dark:border-gray-700">
                    <div class="checklist-item"><input type="checkbox" id="d13-1" @change="saveChecklist('d13-1', $event.target.checked)" :checked="checklist['d13-1']"><label for="d13-1">All unit tests passing</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-2" @change="saveChecklist('d13-2', $event.target.checked)" :checked="checklist['d13-2']"><label for="d13-2">All integration tests passing</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-3" @change="saveChecklist('d13-3', $event.target.checked)" :checked="checklist['d13-3']"><label for="d13-3">All golden tests passing</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-4" @change="saveChecklist('d13-4', $event.target.checked)" :checked="checklist['d13-4']"><label for="d13-4">Code coverage > 80%</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-5" @change="saveChecklist('d13-5', $event.target.checked)" :checked="checklist['d13-5']"><label for="d13-5">No security issues</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-6" @change="saveChecklist('d13-6', $event.target.checked)" :checked="checklist['d13-6']"><label for="d13-6">All code formatted</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-7" @change="saveChecklist('d13-7', $event.target.checked)" :checked="checklist['d13-7']"><label for="d13-7">Plugin tested in fresh project</label></div>
                    <div class="checklist-item"><input type="checkbox" id="d13-8" @change="saveChecklist('d13-8', $event.target.checked)" :checked="checklist['d13-8']"><label for="d13-8">Build and install verified</label></div>
                </div>
                <div class="flex justify-end mt-6"><button @click="toggleDay(13); toggleDay(14)" :class="completedDays.includes(13) ? 'bg-green-500' : 'bg-primary'" class="px-6 py-2 text-white rounded-lg hover:opacity-90"><span x-text="completedDays.includes(13) ? 'Completed!' : 'Mark as Complete'"></span></button></div>
            </section>

            <!-- Reference Materials Banner -->
            <div class="week-banner reference">
                <div class="week-banner-content">
                    <div class="week-banner-icon">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                    </div>
                    <div class="week-banner-title">Reference Materials</div>
                    <div class="week-banner-subtitle">Troubleshooting, Quick Reference & Extension Ideas</div>
                    <div class="week-banner-days">Appendices A-C</div>
                </div>
            </div>

            <!-- Appendix A -->
            <section id="appendix-a" class="day-section reference" x-intersect:enter="currentSection = 'appendix-a'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-sm font-medium rounded-full">Appendix A</span>
                    <button @click="toggleBookmark('appendix-a', 'Appendix A: Troubleshooting Guide')" :class="isBookmarked('appendix-a') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('appendix-a') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-6">Appendix A: Troubleshooting Guide</h2>

                <h3 class="text-xl font-semibold mb-3">"Claude generates different code than expected"</h3>
                <div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-6">
                    <p class="mb-2"><strong>This is normal.</strong> LLM outputs vary. Verify that:</p>
                    <ul class="list-disc list-inside space-y-1">
                        <li>Tests pass</li>
                        <li>Functionality matches requirements</li>
                        <li>Code follows CLAUDE.md standards</li>
                    </ul>
                    <p class="mt-2 text-sm text-gray-600 dark:text-gray-400">The exact code doesn't need to match the reference.</p>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-3">"Tests are failing"</h3>
                <p class="mb-2">Tell Claude specifically what's failing:</p>
                <pre><code class="language-text">The test test_choice_requires_choices_list is failing with:
AssertionError: ValidationError not raised

The OptionSpec model is accepting type="choice" without a choices list.
Fix the validator.</code></pre>

                <h3 class="text-xl font-semibold mt-6 mb-3">"Import errors when running CLI"</h3>
                <p class="mb-2">Check that:</p>
                <ol class="list-decimal list-inside space-y-1 mb-4">
                    <li>Package is installed: <code class="bg-gray-200 dark:bg-gray-700 px-2 py-0.5 rounded">uv pip install -e .</code></li>
                    <li><code>__init__.py</code> files exist in all directories</li>
                    <li>Imports use correct relative paths</li>
                </ol>
                <pre><code class="language-bash"># Verify structure
find src -name "*.py" -type f

# Reinstall
uv pip install -e . --force-reinstall</code></pre>

                <h3 class="text-xl font-semibold mt-6 mb-3">"LLM calls failing"</h3>
                <ol class="list-decimal list-inside space-y-2 mb-4">
                    <li>Check <code>OPENAI_API_KEY</code> is set:
                        <pre><code class="language-bash">echo $OPENAI_API_KEY</code></pre>
                    </li>
                    <li>Check API quota at https://platform.openai.com/usage</li>
                    <li>For testing, mock LLM responses:
                        <pre><code class="language-python">with patch.object(generator.agent, 'run', new_callable=AsyncMock) as mock:
    mock.return_value.data = expected_spec
    result = await generator.generate("test")</code></pre>
                    </li>
                </ol>

                <h3 class="text-xl font-semibold mt-6 mb-3">"Generated CLI has syntax errors"</h3>
                <ol class="list-decimal list-inside space-y-1 mb-4">
                    <li>Check the Jinja2 template for issues</li>
                    <li>Verify CLISpec has valid data</li>
                    <li>Run the template with test data:
                        <pre><code class="language-python">from cli_generator.generators.code_generator import CodeGenerator
gen = CodeGenerator()
# Test with minimal spec</code></pre>
                    </li>
                </ol>

                <h3 class="text-xl font-semibold mt-6 mb-3">"Hooks not running"</h3>
                <p class="mb-2">Hooks are called from generators. Verify:</p>
                <ol class="list-decimal list-inside space-y-1">
                    <li>Hooks are in <code>.claude/hooks/</code></li>
                    <li>Generator code calls validators</li>
                    <li>No exceptions silently caught</li>
                </ol>

                <h3 class="text-xl font-semibold mt-6 mb-3">"Skills not suggesting anything"</h3>
                <p class="mb-2">Skills activate on pattern matches. Check:</p>
                <ol class="list-decimal list-inside space-y-1">
                    <li>Skills are in <code>.claude/skills/</code></li>
                    <li>Description matches trigger patterns</li>
                    <li>Skills not disabled in session</li>
                </ol>

                <h3 class="text-xl font-semibold mt-6 mb-3">Debug Mode</h3>
                <p class="mb-2">Enable verbose logging:</p>
                <pre><code class="language-python">import logging
logging.basicConfig(level=logging.DEBUG)</code></pre>
            </section>

            <!-- Appendix Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Appendix B -->
            <section id="appendix-b" class="day-section reference" x-intersect:enter="currentSection = 'appendix-b'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-sm font-medium rounded-full">Appendix B</span>
                    <button @click="toggleBookmark('appendix-b', 'Appendix B: Quick Reference Cards')" :class="isBookmarked('appendix-b') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('appendix-b') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-6">Appendix B: Quick Reference Cards</h2>

                <h3 class="text-xl font-semibold mb-3">Slash Commands</h3>
                <div class="overflow-x-auto mb-8">
                    <table class="w-full">
                        <thead><tr><th class="text-left py-2">Command</th><th class="text-left py-2">Purpose</th><th class="text-left py-2">Example</th></tr></thead>
                        <tbody>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/design</code></td><td>Create CLI specification</td><td><code>/design "A file compressor"</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/generate</code></td><td>Generate code from spec</td><td><code>/generate --with-tests</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/refine</code></td><td>Modify current design</td><td><code>/refine "Add --verbose flag"</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/implement</code></td><td>Add command logic</td><td><code>/implement ./cli compress</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/test</code></td><td>Run tests with analysis</td><td><code>/test ./cli --coverage</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/new-cli</code></td><td>Complete workflow</td><td><code>/new-cli "A todo app"</code></td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>/save-spec</code></td><td>Save specification</td><td><code>/save-spec my-cli.json</code></td></tr>
                            <tr><td class="py-2"><code>/add-command</code></td><td>Add to existing CLI</td><td><code>/add-command ./cli "Add export"</code></td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-3">Hooks</h3>
                <div class="overflow-x-auto mb-8">
                    <table class="w-full">
                        <thead><tr><th class="text-left py-2">Hook</th><th class="text-left py-2">Trigger</th><th class="text-left py-2">Blocks On</th></tr></thead>
                        <tbody>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>validate_spec</code></td><td>Pre-generation</td><td>Invalid spec structure</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>validate_code</code></td><td>Post-generation</td><td>Python syntax errors</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>security_check</code></td><td>During generation</td><td>Dangerous patterns</td></tr>
                            <tr><td class="py-2"><code>coverage_check</code></td><td>Post-test</td><td>Low test coverage</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-3">Skills</h3>
                <div class="overflow-x-auto mb-8">
                    <table class="w-full">
                        <thead><tr><th class="text-left py-2">Skill</th><th class="text-left py-2">Activates When</th><th class="text-left py-2">Suggests</th></tr></thead>
                        <tbody>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>pattern_suggester</code></td><td>Designing CLI</td><td>Common patterns for tool type</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>naming_advisor</code></td><td>Defining options</td><td>Convention fixes</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>example_generator</code></td><td>Command without examples</td><td>Realistic usage</td></tr>
                            <tr><td class="py-2"><code>dependency_detector</code></td><td>Analyzing description</td><td>Required packages</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="text-xl font-semibold mt-6 mb-3">Data Models</h3>
                <pre><code class="language-python">CLISpec(
    name: str,              # "my-tool"
    description: str,       # "What it does"
    commands: list[CommandSpec],
    global_options: list[OptionSpec],
    dependencies: list[str],
    version: str = "0.1.0"
)

CommandSpec(
    name: str,              # "process"
    description: str,       # "Process files"
    arguments: list[ArgumentSpec],
    options: list[OptionSpec],
    examples: list[str]
)

OptionSpec(
    name: str,              # "output"
    short: str | None,      # "o"
    type: str,              # "str"|"int"|"bool"|"path"|"choice"
    required: bool,
    default: Any,
    help: str,
    choices: list[str] | None  # For type="choice"
)</code></pre>

                <h3 class="text-xl font-semibold mt-6 mb-3">MCP Tools</h3>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead><tr><th class="text-left py-2">Tool</th><th class="text-left py-2">Purpose</th><th class="text-left py-2">Requires Auth</th></tr></thead>
                        <tbody>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>pypi_check_name</code></td><td>Check name availability</td><td>No</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>github_create_repo</code></td><td>Create GitHub repo</td><td>GITHUB_TOKEN</td></tr>
                            <tr class="border-b border-gray-200 dark:border-gray-700"><td class="py-2"><code>validate_dependencies</code></td><td>Verify packages exist</td><td>No</td></tr>
                            <tr><td class="py-2"><code>format_code</code></td><td>Run Black + isort</td><td>No</td></tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Appendix Divider -->
            <div class="day-divider"><div class="day-divider-dot"></div></div>

            <!-- Appendix C -->
            <section id="appendix-c" class="day-section reference" x-intersect:enter="currentSection = 'appendix-c'">
                <div class="flex items-center justify-between mb-4">
                    <span class="px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-200 text-sm font-medium rounded-full">Appendix C</span>
                    <button @click="toggleBookmark('appendix-c', 'Appendix C: Extension Ideas')" :class="isBookmarked('appendix-c') ? 'text-primary' : 'text-gray-400'" class="p-1 hover:scale-110 transition-transform">
                        <svg class="w-6 h-6" :fill="isBookmarked('appendix-c') ? 'currentColor' : 'none'" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"></path></svg>
                    </button>
                </div>
                <h2 class="text-3xl font-bold mb-6">Appendix C: Extension Ideas</h2>

                <div class="grid md:grid-cols-2 gap-4">
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">1. Multiple CLI Frameworks</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Add support for Typer and argparse:</p>
                        <pre class="text-xs"><code class="language-python">class CodeGenerator:
    def __init__(self, framework: str = "click"):
        self.framework = framework
        self.template = f"cli_{framework}.py.j2"</code></pre>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">2. Language Support</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Generate CLIs in other languages:</p>
                        <ul class="text-sm list-disc list-inside mt-2">
                            <li>Go (using Cobra)</li>
                            <li>Rust (using Clap)</li>
                            <li>Node.js (using Commander)</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">3. GUI Generation</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Generate TUI interfaces with Textual:</p>
                        <code class="text-xs">/design "A file browser with tree view" --tui</code>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">4. Documentation Generation</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Auto-generate:</p>
                        <ul class="text-sm list-disc list-inside mt-2">
                            <li>Man pages</li>
                            <li>Sphinx documentation</li>
                            <li>API references</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">5. CI/CD Templates</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Generate GitHub Actions workflows:</p>
                        <pre class="text-xs"><code class="language-yaml">name: Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: pip install -e ".[dev]"
      - run: pytest</code></pre>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">6. Docker Support</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Generate Dockerfiles:</p>
                        <pre class="text-xs"><code class="language-dockerfile">FROM python:3.11-slim
WORKDIR /app
COPY . .
RUN pip install -e .
ENTRYPOINT ["my-cli"]</code></pre>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">7. Plugin Marketplace</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Create a central repository for:</p>
                        <ul class="text-sm list-disc list-inside mt-2">
                            <li>CLI templates</li>
                            <li>Custom hooks</li>
                            <li>Shared skills</li>
                            <li>Community patterns</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">8. Interactive Mode</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400 mb-2">Add REPL-style interaction:</p>
                        <pre class="text-xs"><code class="language-bash">$ cli-gen interactive
> describe: A todo manager
> add command: export to JSON
> implement: list
> generate</code></pre>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">9. Version Control Integration</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Track spec changes:</p>
                        <ul class="text-sm list-disc list-inside mt-2">
                            <li>Git integration for spec files</li>
                            <li>Diff between versions</li>
                            <li>Rollback capability</li>
                        </ul>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-4 rounded-lg border border-gray-200 dark:border-gray-700">
                        <h4 class="font-semibold mb-2">10. Analytics Dashboard</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Track generated CLIs:</p>
                        <ul class="text-sm list-disc list-inside mt-2">
                            <li>Usage statistics</li>
                            <li>Common patterns</li>
                            <li>Error rates</li>
                            <li>Improvement suggestions</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Completion Section -->
            <section class="mb-16 text-center py-12 bg-gradient-to-r from-primary/10 to-secondary/10 rounded-2xl">
                <h2 class="text-3xl font-bold mb-4">Congratulations!</h2>
                <p class="text-lg text-gray-600 dark:text-gray-400 mb-6">You've completed the CLI Generator tutorial and mastered:</p>
                <div class="flex flex-wrap justify-center gap-2 mb-6">
                    <span class="px-3 py-1 bg-primary text-white rounded-full text-sm">CLAUDE.md</span>
                    <span class="px-3 py-1 bg-primary text-white rounded-full text-sm">Slash Commands</span>
                    <span class="px-3 py-1 bg-primary text-white rounded-full text-sm">Hooks</span>
                    <span class="px-3 py-1 bg-secondary text-white rounded-full text-sm">Skills</span>
                    <span class="px-3 py-1 bg-secondary text-white rounded-full text-sm">Subagents</span>
                    <span class="px-3 py-1 bg-secondary text-white rounded-full text-sm">MCP Tools</span>
                    <span class="px-3 py-1 bg-green-500 text-white rounded-full text-sm">Plugins</span>
                </div>
                <p class="text-xl font-semibold">Happy CLI generating!</p>
            </section>

            <!-- Footer -->
            <footer class="border-t border-gray-200 dark:border-gray-700 pt-8 mt-16 text-center text-gray-500">
                <p>CLI Generator Tutorial - Complete Claude Code Mastery</p>
                <p class="text-sm mt-2">Progress is automatically saved to your browser.</p>
            </footer>
        </div>
    </main>

    <!-- Notes Floating Button and Panel -->
    <button
        class="notes-fab"
        x-cloak
        @click="showNotesPanel = !showNotesPanel"
        title="View all notes"
        x-show="notesCount > 0 || showNotesPanel"
        x-transition
    >
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
        <span class="notes-fab-badge" x-show="notesCount > 0" x-text="notesCount"></span>
    </button>

    <!-- Notes Panel -->
    <div
        class="notes-panel"
        x-cloak
        x-show="showNotesPanel"
        x-transition:enter="transition ease-out duration-200"
        x-transition:enter-start="opacity-0 transform translate-y-4"
        x-transition:enter-end="opacity-100 transform translate-y-0"
        x-transition:leave="transition ease-in duration-150"
        x-transition:leave-start="opacity-100 transform translate-y-0"
        x-transition:leave-end="opacity-0 transform translate-y-4"
        @click.away="showNotesPanel = false"
    >
        <div class="notes-panel-header">
            <span class="notes-panel-title">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                </svg>
                My Notes (<span x-text="notesCount"></span>)
            </span>
            <button class="notes-panel-close" @click="showNotesPanel = false">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="notes-panel-body">
            <template x-if="notesCount === 0">
                <div class="notes-panel-empty">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-12 h-12 mx-auto mb-3 opacity-50" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                    </svg>
                    <p>No notes yet.</p>
                    <p class="text-sm mt-1">Click the pencil icon on any section header to add a note.</p>
                </div>
            </template>
            <template x-for="note in notesList" :key="note.id">
                <div class="note-card">
                    <div class="note-card-header">
                        <span
                            class="note-card-section"
                            @click="navigateToNote(note.id)"
                            x-text="note.displayTitle"
                        ></span>
                        <div class="flex gap-1">
                            <button
                                class="note-card-copy"
                                @click="copyNoteContent(note.content, $event)"
                                title="Copy note"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z" />
                                </svg>
                            </button>
                            <button
                                class="note-card-delete"
                                @click="deleteNoteFromPanel(note.id)"
                                title="Delete note"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="note-card-content" x-text="note.content"></div>
                </div>
            </template>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@alpinejs/collapse@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@alpinejs/intersect@3.x.x/dist/cdn.min.js"></script>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            securityLevel: 'loose',
            themeVariables: {
                primaryColor: '#6366f1',
                primaryTextColor: '#1e293b',
                primaryBorderColor: '#4f46e5',
                secondaryColor: '#f1f5f9',
                secondaryTextColor: '#475569',
                secondaryBorderColor: '#cbd5e1',
                tertiaryColor: '#fef3c7',
                tertiaryTextColor: '#92400e',
                tertiaryBorderColor: '#fbbf24',
                lineColor: '#64748b',
                textColor: '#334155',
                mainBkg: '#ffffff',
                nodeBorder: '#94a3b8',
                clusterBkg: '#f8fafc',
                clusterBorder: '#e2e8f0',
                titleColor: '#1e293b',
                edgeLabelBackground: '#ffffff',
                nodeTextColor: '#1e293b',
                fontFamily: 'Inter, system-ui, sans-serif',
                fontSize: '14px'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 15,
                nodeSpacing: 50,
                rankSpacing: 50
            }
        });

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('pre').forEach(pre => {
                if (pre.querySelector('code')) {
                    const button = document.createElement('button');
                    button.className = 'copy-button';
                    button.textContent = 'Copy';
                    button.addEventListener('click', async () => {
                        const code = pre.querySelector('code').textContent;
                        await navigator.clipboard.writeText(code);
                        button.textContent = 'Copied!';
                        button.classList.add('copied');
                        setTimeout(() => { button.textContent = 'Copy'; button.classList.remove('copied'); }, 2000);
                    });
                    pre.appendChild(button);
                }
            });
            Prism.highlightAll();

            // Initialize Mermaid Walkthroughs after Mermaid renders
            const initWalkthroughs = () => {
                const diagrams = document.querySelectorAll('.mermaid-walkthrough');
                let allReady = true;
                diagrams.forEach(d => {
                    if (!d.querySelector('.mermaid svg')) {
                        allReady = false;
                    }
                });
                if (allReady && diagrams.length > 0) {
                    initMermaidWalkthroughs();
                } else {
                    setTimeout(initWalkthroughs, 200);
                }
            };
            setTimeout(initWalkthroughs, 500);
        });

        // Mermaid Walkthrough System
        const walkthroughConfigs = {
            'skills-activation': {
                nodes: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'],
                edges: [
                    { from: 'A', to: 'B' },           // 0: Request to Discovery
                    { from: 'B', to: 'C' },           // 1: Discovery to Match check
                    { from: 'C', to: 'D', label: 'Yes' },  // 2: Match found
                    { from: 'C', to: 'E', label: 'No' },   // 3: No match
                    { from: 'D', to: 'F' },           // 4: Request permission
                    { from: 'F', to: 'G', label: 'Yes' },  // 5: User approves
                    { from: 'F', to: 'E', label: 'No' },   // 6: User declines
                    { from: 'G', to: 'H' },           // 7: Load to Execute
                    { from: 'H', to: 'I' },           // 8: Execute to Complete
                    { from: 'E', to: 'I' }            // 9: Normal to Complete
                ],
                steps: [
                    { nodes: ['A'], edges: [], description: 'User makes a request (e.g., "Help me debug this CLI")' },
                    { nodes: ['A', 'B'], edges: [0], description: 'Claude scans skill descriptions (name + description only)' },
                    { nodes: ['B', 'C'], edges: [1], description: 'Checks if any skill description matches the request context' },
                    { nodes: ['C', 'D'], edges: [2], description: '✓ Match found! A skill\'s description fits this task' },
                    { nodes: ['C', 'E'], edges: [3], description: '✗ No match → proceeds without skill assistance' },
                    { nodes: ['D', 'F'], edges: [4], description: 'Claude asks user: "Can I use the systematic-debugging skill?"' },
                    { nodes: ['F', 'G'], edges: [5], description: '✓ User approves → full SKILL.md content is loaded' },
                    { nodes: ['F', 'E'], edges: [6], description: '✗ User declines → normal processing continues' },
                    { nodes: ['G', 'H'], edges: [7], description: 'Claude executes task following the skill\'s methodology' },
                    { nodes: ['H', 'I'], edges: [8], description: 'Task completed with skill-guided approach' },
                    { nodes: ['E', 'I'], edges: [9], description: 'Task completed without skill assistance' }
                ],
                connections: {
                    'A': { outgoing: ['B'], incoming: [] },
                    'B': { outgoing: ['C'], incoming: ['A'] },
                    'C': { outgoing: ['D', 'E'], incoming: ['B'] },
                    'D': { outgoing: ['F'], incoming: ['C'] },
                    'E': { outgoing: ['I'], incoming: ['C', 'F'] },
                    'F': { outgoing: ['G', 'E'], incoming: ['D'] },
                    'G': { outgoing: ['H'], incoming: ['F'] },
                    'H': { outgoing: ['I'], incoming: ['G'] },
                    'I': { outgoing: [], incoming: ['H', 'E'] }
                }
            },
            'hook-lifecycle': {
                nodes: ['A', 'B', 'C', 'D', 'E', 'F', 'G'],
                edges: [
                    { from: 'A', to: 'B' },
                    { from: 'B', to: 'C', label: 'Pass' },
                    { from: 'B', to: 'D', label: 'Fail' },
                    { from: 'C', to: 'E' },
                    { from: 'E', to: 'F', label: 'Pass' },
                    { from: 'E', to: 'G', label: 'Warn' }
                ],
                steps: [
                    { nodes: ['A'], edges: [], description: 'User initiates an action (e.g., generate code, commit)' },
                    { nodes: ['A', 'B'], edges: [0], description: 'Action triggers the pre-hook for validation' },
                    { nodes: ['B', 'C'], edges: [1], description: '✓ Pre-hook passes → action proceeds' },
                    { nodes: ['B', 'D'], edges: [2], description: '✗ Pre-hook fails → action blocked with error message' },
                    { nodes: ['C', 'E'], edges: [3], description: 'After execution, post-hook runs for verification' },
                    { nodes: ['E', 'F'], edges: [4], description: '✓ Post-hook passes → success reported' },
                    { nodes: ['E', 'G'], edges: [5], description: '⚠ Post-hook warns → success with warnings shown' }
                ],
                connections: {
                    'A': { outgoing: ['B'], incoming: [] },
                    'B': { outgoing: ['C', 'D'], incoming: ['A'] },
                    'C': { outgoing: ['E'], incoming: ['B'] },
                    'D': { outgoing: [], incoming: ['B'] },
                    'E': { outgoing: ['F', 'G'], incoming: ['C'] },
                    'F': { outgoing: [], incoming: ['E'] },
                    'G': { outgoing: [], incoming: ['E'] }
                }
            },
            'command-workflow': {
                nodes: ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K'],
                edges: [
                    { from: 'A', to: 'B' },      // 0
                    { from: 'B', to: 'C' },      // 1
                    { from: 'C', to: 'D' },      // 2: /refine
                    { from: 'C', to: 'E' },      // 3: /save-spec
                    { from: 'C', to: 'F' },      // 4: /generate
                    { from: 'D', to: 'B' },      // 5: back to spec
                    { from: 'F', to: 'G' },      // 6
                    { from: 'G', to: 'H' },      // 7: /add-command
                    { from: 'G', to: 'I' },      // 8: /implement
                    { from: 'G', to: 'J' },      // 9: /test
                    { from: 'H', to: 'F' },      // 10: back to generated
                    { from: 'I', to: 'F' },      // 11: back to generated
                    { from: 'J', to: 'K' }       // 12: results
                ],
                steps: [
                    { nodes: ['A'], edges: [], description: 'Start with /design and describe your CLI in natural language' },
                    { nodes: ['A', 'B'], edges: [0], description: 'Claude generates a CLISpec and stores it in session memory' },
                    { nodes: ['B', 'C'], edges: [1], description: 'You can now choose what to do with the spec' },
                    { nodes: ['C', 'D'], edges: [2], description: 'Path 1: Use /refine to iterate on the design' },
                    { nodes: ['D', 'B'], edges: [5], description: 'Refinements update the spec → ready for another choice' },
                    { nodes: ['C', 'E'], edges: [3], description: 'Path 2: Use /save-spec to persist to specs/tool.json' },
                    { nodes: ['C', 'F'], edges: [4], description: 'Path 3: Use /generate to create the CLI code' },
                    { nodes: ['F', 'G'], edges: [6], description: 'Generated code is ready → choose further actions' },
                    { nodes: ['G', 'H'], edges: [7], description: 'Use /add-command to extend with new commands' },
                    { nodes: ['G', 'I'], edges: [8], description: 'Use /implement to replace TODOs with real logic' },
                    { nodes: ['G', 'J', 'K'], edges: [9, 12], description: 'Use /test to run tests and see results' }
                ],
                connections: {
                    'A': { outgoing: ['B'], incoming: [] },
                    'B': { outgoing: ['C'], incoming: ['A', 'D'] },
                    'C': { outgoing: ['D', 'E', 'F'], incoming: ['B'] },
                    'D': { outgoing: ['B'], incoming: ['C'] },
                    'E': { outgoing: [], incoming: ['C'] },
                    'F': { outgoing: ['G'], incoming: ['C', 'H', 'I'] },
                    'G': { outgoing: ['H', 'I', 'J'], incoming: ['F'] },
                    'H': { outgoing: ['F'], incoming: ['G'] },
                    'I': { outgoing: ['F'], incoming: ['G'] },
                    'J': { outgoing: ['K'], incoming: ['G'] },
                    'K': { outgoing: [], incoming: ['J'] }
                }
            },
            'subagent-architecture': {
                nodes: ['A', 'B', 'C', 'D', 'E', 'F'],
                edges: [
                    { from: 'A', to: 'B' },      // 0: Human → Integrator
                    { from: 'B', to: 'C' },      // 1: Integrator → Spec Designer
                    { from: 'C', to: 'B' },      // 2: Spec Designer → Integrator
                    { from: 'B', to: 'D' },      // 3: Integrator → Code Generator
                    { from: 'B', to: 'E' },      // 4: Integrator → Test Writer
                    { from: 'D', to: 'B' },      // 5: Code Generator → Integrator
                    { from: 'E', to: 'B' },      // 6: Test Writer → Integrator
                    { from: 'B', to: 'F' },      // 7: Integrator → Reviewer
                    { from: 'F', to: 'B' },      // 8: Reviewer → Integrator
                    { from: 'B', to: 'A' }       // 9: Integrator → Human
                ],
                steps: [
                    { nodes: ['A'], edges: [], description: 'Human makes a request: "Create a CLI for image conversion"' },
                    { nodes: ['A', 'B'], edges: [0], description: 'Integrator receives request and coordinates the workflow' },
                    { nodes: ['B', 'C'], edges: [1], description: 'Integrator delegates to Spec Designer for CLI UX design' },
                    { nodes: ['C', 'B'], edges: [2], description: 'Spec Designer returns CLISpec with commands and options' },
                    { nodes: ['B', 'D', 'E'], edges: [3, 4], description: 'Integrator sends spec to Code Generator and Test Writer in parallel' },
                    { nodes: ['D', 'E', 'B'], edges: [5, 6], description: 'Both return their outputs: Python code and pytest tests' },
                    { nodes: ['B', 'F'], edges: [7], description: 'Integrator sends everything to Reviewer for quality check' },
                    { nodes: ['F', 'B'], edges: [8], description: 'Reviewer validates consistency and returns approval or feedback' },
                    { nodes: ['B', 'A'], edges: [9], description: 'Integrator delivers final result to Human' }
                ],
                connections: {
                    'A': { outgoing: ['B'], incoming: ['B'] },
                    'B': { outgoing: ['C', 'D', 'E', 'F', 'A'], incoming: ['A', 'C', 'D', 'E', 'F'] },
                    'C': { outgoing: ['B'], incoming: ['B'] },
                    'D': { outgoing: ['B'], incoming: ['B'] },
                    'E': { outgoing: ['B'], incoming: ['B'] },
                    'F': { outgoing: ['B'], incoming: ['B'] }
                }
            },
            'mcp-integration': {
                nodes: ['A', 'B', 'C', 'D', 'E', 'F'],
                edges: [
                    { from: 'A', to: 'B' },      // 0: Design → PyPI
                    { from: 'B', to: 'C' },      // 1: PyPI → Generate
                    { from: 'C', to: 'D' },      // 2: Generate → Deps
                    { from: 'D', to: 'E' },      // 3: Deps → Fmt
                    { from: 'E', to: 'F' }       // 4: Fmt → GitHub
                ],
                steps: [
                    { nodes: ['A'], edges: [], description: 'Start with CLI design from /design command' },
                    { nodes: ['A', 'B'], edges: [0], description: 'PyPI Checker verifies package name is available' },
                    { nodes: ['B', 'C'], edges: [1], description: 'If available, Code Generation creates the CLI' },
                    { nodes: ['C', 'D'], edges: [2], description: 'Dependency Validator checks all packages exist and are compatible' },
                    { nodes: ['D', 'E'], edges: [3], description: 'Code Formatter runs Black + isort for consistent style' },
                    { nodes: ['E', 'F'], edges: [4], description: 'GitHub Creator sets up repository with CI/CD' }
                ],
                connections: {
                    'A': { outgoing: ['B'], incoming: [] },
                    'B': { outgoing: ['C'], incoming: ['A'] },
                    'C': { outgoing: ['D'], incoming: ['B'] },
                    'D': { outgoing: ['E'], incoming: ['C'] },
                    'E': { outgoing: ['F'], incoming: ['D'] },
                    'F': { outgoing: [], incoming: ['E'] }
                }
            }
        };

        function initMermaidWalkthroughs() {
            document.querySelectorAll('.mermaid-walkthrough').forEach(container => {
                const walkthroughId = container.dataset.walkthrough;
                const config = walkthroughConfigs[walkthroughId];
                if (!config) return;

                const mermaidEl = container.querySelector('.mermaid');
                const svg = mermaidEl.querySelector('svg');
                if (!svg) return;

                const state = {
                    currentStep: 0,
                    playing: false,
                    playInterval: null,
                    focused: false
                };

                // Get DOM references
                const playBtn = container.querySelector('.walkthrough-play');
                const prevBtn = container.querySelector('.walkthrough-prev');
                const nextBtn = container.querySelector('.walkthrough-next');
                const resetBtn = container.querySelector('.walkthrough-reset');
                const currentStepEl = container.querySelector('.current-step');
                const totalStepsEl = container.querySelector('.total-steps');
                const descriptionEl = container.querySelector('.mermaid-step-description');

                if (!playBtn || !prevBtn || !nextBtn || !resetBtn) return;

                if (totalStepsEl) totalStepsEl.textContent = config.steps.length;

                // Build node and edge maps
                const nodeMap = {};
                const edgeMap = [];

                // Find nodes - Mermaid v10 uses .nodes > .node structure
                svg.querySelectorAll('.node, .nodes > g, g.node').forEach(node => {
                    const id = node.id || '';
                    const match = id.match(/(?:flowchart-)?([A-K])[-_]?\d*/i);
                    if (match) {
                        const nodeId = match[1].toUpperCase();
                        if (!nodeMap[nodeId]) nodeMap[nodeId] = node;
                    }
                });

                // Fallback: Look for nodes by structure if ID matching failed
                if (Object.keys(nodeMap).length === 0) {
                    svg.querySelectorAll('g').forEach(g => {
                        const id = g.id || '';
                        if (id.includes('flowchart') || g.getAttribute('class')?.includes('node')) {
                            const match = id.match(/([A-K])[-_]?\d*$/i);
                            if (match) {
                                nodeMap[match[1].toUpperCase()] = g;
                            }
                        }
                    });
                }

                // Also check for nodes with data-id attribute (don't overwrite existing)
                svg.querySelectorAll('[data-id]').forEach(node => {
                    const dataId = node.getAttribute('data-id');
                    if (dataId && /^[A-Z]$/i.test(dataId) && !nodeMap[dataId.toUpperCase()]) {
                        nodeMap[dataId.toUpperCase()] = node;
                    }
                });

                // Find all edge paths
                const allPaths = svg.querySelectorAll('path');
                allPaths.forEach((path) => {
                    const className = path.getAttribute('class') || '';
                    const isEdge = className.includes('flowchart-link') ||
                                  className.includes('edge-thickness') ||
                                  path.closest('.edgePaths') !== null;
                    const isMarker = path.closest('marker') !== null ||
                                    path.closest('defs') !== null;
                    if (isEdge && !isMarker) {
                        edgeMap.push(path);
                    }
                });

                function clearHighlights() {
                    svg.querySelectorAll('.node').forEach(n => n.classList.remove('highlighted'));
                    svg.querySelectorAll('.edgePath').forEach(e => e.classList.remove('highlighted'));
                    svg.querySelectorAll('path.highlighted').forEach(p => p.classList.remove('highlighted'));
                    // Also clear from edgeMap elements
                    edgeMap.forEach(edge => edge.classList.remove('highlighted'));
                }

                function showStep(stepIndex) {
                    if (stepIndex < 0 || stepIndex >= config.steps.length) return;

                    state.currentStep = stepIndex;
                    if (currentStepEl) currentStepEl.textContent = stepIndex + 1;

                    const step = config.steps[stepIndex];
                    if (descriptionEl) descriptionEl.textContent = step.description;

                    mermaidEl.classList.add('walkthrough-active');
                    mermaidEl.classList.remove('hover-mode');

                    clearHighlights();

                    // Highlight nodes
                    step.nodes.forEach(nodeId => {
                        if (nodeMap[nodeId]) nodeMap[nodeId].classList.add('highlighted');
                    });

                    // Highlight edges
                    step.edges.forEach(edgeIdx => {
                        if (edgeMap[edgeIdx]) edgeMap[edgeIdx].classList.add('highlighted');
                    });
                }

                function reset() {
                    stopPlaying();
                    state.currentStep = 0;
                    currentStepEl.textContent = '0';
                    descriptionEl.textContent = 'Click play or hover over nodes to explore';
                    mermaidEl.classList.remove('walkthrough-active');
                    mermaidEl.classList.add('hover-mode');
                    clearHighlights();
                }

                function nextStep() {
                    if (state.currentStep < config.steps.length - 1) {
                        showStep(state.currentStep + 1);
                    } else {
                        // Animation complete - pause briefly then reset to original state
                        stopPlaying();
                        setTimeout(() => {
                            reset();
                        }, 1500);
                    }
                }

                function prevStep() {
                    if (state.currentStep > 0) {
                        showStep(state.currentStep - 1);
                    }
                }

                function startPlaying() {
                    state.playing = true;
                    playBtn.classList.add('active');
                    playBtn.querySelector('.play-icon').classList.add('hidden');
                    playBtn.querySelector('.pause-icon').classList.remove('hidden');

                    if (state.currentStep === 0 || state.currentStep >= config.steps.length - 1) {
                        showStep(0);
                    }

                    state.playInterval = setInterval(() => {
                        // Always call nextStep - it handles the end-of-animation reset
                        nextStep();
                    }, 2000);
                }

                function stopPlaying() {
                    state.playing = false;
                    playBtn.classList.remove('active');
                    playBtn.querySelector('.play-icon').classList.remove('hidden');
                    playBtn.querySelector('.pause-icon').classList.add('hidden');

                    if (state.playInterval) {
                        clearInterval(state.playInterval);
                        state.playInterval = null;
                    }
                }

                function togglePlay() {
                    if (state.playing) {
                        stopPlaying();
                    } else {
                        startPlaying();
                    }
                }

                // Event listeners
                playBtn.addEventListener('click', togglePlay);
                prevBtn.addEventListener('click', () => { stopPlaying(); prevStep(); });
                nextBtn.addEventListener('click', () => { stopPlaying(); nextStep(); });
                resetBtn.addEventListener('click', reset);

                // Keyboard navigation when focused
                container.setAttribute('tabindex', '0');
                container.addEventListener('focus', () => { state.focused = true; });
                container.addEventListener('blur', () => { state.focused = false; });
                container.addEventListener('keydown', (e) => {
                    if (!state.focused) return;

                    switch (e.key) {
                        case ' ':
                        case 'Space':
                            e.preventDefault();
                            togglePlay();
                            break;
                        case 'ArrowLeft':
                            e.preventDefault();
                            stopPlaying();
                            prevStep();
                            break;
                        case 'ArrowRight':
                            e.preventDefault();
                            stopPlaying();
                            nextStep();
                            break;
                        case 'r':
                        case 'R':
                            e.preventDefault();
                            reset();
                            break;
                    }
                });

                // Hover exploration mode
                Object.entries(nodeMap).forEach(([nodeId, nodeEl]) => {
                    nodeEl.addEventListener('mouseenter', () => {
                        if (mermaidEl.classList.contains('walkthrough-active')) return;

                        mermaidEl.classList.add('hovering');

                        // Highlight connected nodes and edges
                        const connections = config.connections[nodeId];
                        if (!connections) return;

                        const connectedNodes = new Set([nodeId, ...connections.incoming, ...connections.outgoing]);
                        connectedNodes.forEach(id => {
                            if (nodeMap[id]) nodeMap[id].classList.add('hover-connected');
                        });

                        // Find and highlight connected edges
                        config.edges.forEach((edge, idx) => {
                            if (edge.from === nodeId || edge.to === nodeId) {
                                if (edgeMap[idx]) edgeMap[idx].classList.add('hover-connected');
                            }
                        });

                        // Show description - find first step that includes this node
                        const step = config.steps.find(s => s.nodes.includes(nodeId));
                        if (step) {
                            descriptionEl.textContent = step.description;
                        } else {
                            // Fallback: show node text
                            const nodeText = nodeEl.textContent?.trim() || nodeId;
                            descriptionEl.textContent = nodeText;
                        }
                    });

                    nodeEl.addEventListener('mouseleave', () => {
                        if (mermaidEl.classList.contains('walkthrough-active')) return;

                        mermaidEl.classList.remove('hovering');
                        svg.querySelectorAll('.hover-connected').forEach(el => {
                            el.classList.remove('hover-connected');
                        });
                        descriptionEl.textContent = 'Click play or hover over nodes to explore';
                    });
                });
            });
        }

        function tutorialApp() {
            return {
                sidebarOpen: false,
                showBookmarks: false,
                darkMode: false,
                currentSection: 'overview',
                week1Open: true,
                week2Open: false,
                week3Open: false,
                appendicesOpen: false,
                completedDays: [],
                checklist: {},
                bookmarks: [],
                notes: {},
                showNotesPanel: false,
                editingNoteId: null,
                dayTitles: { 1: 'Project Setup', 2: 'Core Models', 3: 'Slash Commands', 4: 'Command Chaining', 5: 'Claude Code Hooks', 6: 'Context-Aware Skills', 7: 'Subagent Coordination', 8: 'MCP External Tools', 9: 'Memory & Context', 10: 'Plugin Packaging', 11: 'Documentation', 12: 'Documentation', 13: 'Final Testing', 14: 'Release' },
                init() {
                    // Load saved data
                    this.completedDays = JSON.parse(localStorage.getItem('tutorial-completed-days') || '[]');
                    this.checklist = JSON.parse(localStorage.getItem('tutorial-checklist') || '{}');
                    this.bookmarks = JSON.parse(localStorage.getItem('tutorial-bookmarks') || '[]');
                    this.notes = JSON.parse(localStorage.getItem('tutorial-notes') || '{}');

                    // Auto-expand weeks based on progress
                    this.updateWeekExpansion();

                    // Dark mode: check localStorage first, then system preference
                    const savedDarkMode = localStorage.getItem('tutorial-dark-mode');
                    this.darkMode = savedDarkMode !== null
                        ? savedDarkMode === 'true'
                        : window.matchMedia('(prefers-color-scheme: dark)').matches;
                    if (this.darkMode) document.documentElement.classList.add('dark');

                    // Setup subsection bookmarks after DOM is ready
                    this.$nextTick(() => {
                        this.setupSubsectionBookmarks();
                        this.setupDayHeaderNotes();
                    });
                },
                updateWeekExpansion() {
                    // Determine the highest day with any progress
                    const maxCompletedDay = this.completedDays.length > 0
                        ? Math.max(...this.completedDays)
                        : 0;

                    // Also check checklist for partial progress on days
                    let maxChecklistDay = 0;
                    Object.keys(this.checklist).forEach(key => {
                        if (this.checklist[key]) {
                            const match = key.match(/^d(\d+)-/);
                            if (match) {
                                maxChecklistDay = Math.max(maxChecklistDay, parseInt(match[1]));
                            }
                        }
                    });

                    const currentDay = Math.max(maxCompletedDay, maxChecklistDay, 1);

                    // Week 1: Days 1-5, Week 2: Days 6-10, Week 3: Days 11-14
                    // Expand all completed weeks plus the current week
                    this.week1Open = true; // Always show Week 1
                    this.week2Open = currentDay >= 5 || this.completedDays.some(d => d >= 6);
                    this.week3Open = currentDay >= 10 || this.completedDays.some(d => d >= 11);
                },
                setupDayHeaderNotes() {
                    // Add note buttons to day section h2 headers
                    const self = this;
                    document.querySelectorAll('.day-section > h2, #overview > h2, section[id^="appendix"] h2').forEach((h2) => {
                        if (h2.dataset.noteSetup) return; // Skip if already processed
                        h2.dataset.noteSetup = 'true';

                        const sectionId = h2.closest('section')?.id || h2.id || 'section-' + Math.random().toString(36).substr(2, 9);
                        const sectionTitle = h2.textContent.trim();

                        // Create note button for h2
                        const noteBtn = document.createElement('button');
                        noteBtn.className = 'note-button ml-2' + (self.notes[sectionId] ? ' has-note' : '');
                        noteBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>`;
                        noteBtn.title = self.notes[sectionId] ? 'Edit note' : 'Add note';
                        noteBtn.dataset.sectionId = sectionId;
                        noteBtn.dataset.sectionTitle = sectionTitle;
                        noteBtn.style.display = 'inline-flex';
                        noteBtn.style.verticalAlign = 'middle';

                        noteBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            self.toggleNoteEditorInline(sectionId, sectionTitle, h2, noteBtn);
                        });

                        h2.style.display = 'inline-flex';
                        h2.style.alignItems = 'center';
                        h2.appendChild(noteBtn);
                    });
                },
                toggleNoteEditorInline(sectionId, sectionTitle, element, noteBtn) {
                    const self = this;
                    const parent = element.parentElement;
                    let existingEditor = parent.querySelector('.note-editor');

                    // If editor already open for this section, close it
                    if (existingEditor && existingEditor.dataset.sectionId === sectionId) {
                        existingEditor.remove();
                        this.editingNoteId = null;
                        return;
                    }

                    // Close any other open editors
                    document.querySelectorAll('.note-editor').forEach(ed => ed.remove());
                    this.editingNoteId = sectionId;

                    // Create editor
                    const editor = document.createElement('div');
                    editor.className = 'note-editor';
                    editor.dataset.sectionId = sectionId;
                    const existingNote = this.notes[sectionId]?.content || '';
                    editor.innerHTML = `
                        <textarea placeholder="Add your note here...">${existingNote}</textarea>
                        <div class="note-editor-buttons">
                            ${this.notes[sectionId] ? '<button class="note-btn note-btn-delete">Delete</button>' : ''}
                            <button class="note-btn note-btn-cancel">Cancel</button>
                            <button class="note-btn note-btn-save">Save</button>
                        </div>
                    `;

                    // Event handlers
                    const textarea = editor.querySelector('textarea');
                    const saveBtn = editor.querySelector('.note-btn-save');
                    const cancelBtn = editor.querySelector('.note-btn-cancel');
                    const deleteBtn = editor.querySelector('.note-btn-delete');

                    saveBtn.addEventListener('click', () => {
                        const content = textarea.value.trim();
                        if (content) {
                            self.saveNote(sectionId, sectionTitle, content);
                            noteBtn.classList.add('has-note');
                            noteBtn.title = 'Edit note';
                        } else {
                            self.deleteNote(sectionId);
                            noteBtn.classList.remove('has-note');
                            noteBtn.title = 'Add note';
                        }
                        editor.remove();
                        self.editingNoteId = null;
                    });

                    cancelBtn.addEventListener('click', () => {
                        editor.remove();
                        self.editingNoteId = null;
                    });

                    if (deleteBtn) {
                        deleteBtn.addEventListener('click', () => {
                            self.deleteNote(sectionId);
                            noteBtn.classList.remove('has-note');
                            noteBtn.title = 'Add note';
                            editor.remove();
                            self.editingNoteId = null;
                        });
                    }

                    // Insert editor after the element
                    element.insertAdjacentElement('afterend', editor);
                    textarea.focus();
                },
                setupSubsectionBookmarks() {
                    const self = this;
                    const usedIds = new Set();
                    // Expanded selector to include more sections
                    document.querySelectorAll('.day-section h3, #overview h3, section[id^="appendix"] h3, .day-section h4').forEach((h3, index) => {
                        // Skip if already processed or is a checklist header
                        if (h3.closest('.subsection-header') || h3.textContent.includes('Checklist')) return;

                        // Generate unique ID if not present or if current ID is already used
                        const section = h3.closest('section');
                        const parentSectionId = section ? section.id : 'section';
                        const slug = h3.textContent.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/(^-|-$)/g, '');

                        if (!h3.id || usedIds.has(h3.id)) {
                            let baseId = `${parentSectionId}-${slug}`;
                            let uniqueId = baseId;
                            let counter = 2;
                            // Ensure uniqueness by appending counter if needed
                            while (usedIds.has(uniqueId) || document.getElementById(uniqueId)) {
                                uniqueId = `${baseId}-${counter}`;
                                counter++;
                            }
                            h3.id = uniqueId;
                        }
                        usedIds.add(h3.id);

                        // Create wrapper
                        const wrapper = document.createElement('div');
                        wrapper.className = 'subsection-header mb-3' + (h3.classList.contains('mt-8') ? ' mt-8' : '');
                        h3.classList.remove('mt-8', 'mb-3', 'mb-4');

                        // Create bookmark button
                        const btn = document.createElement('button');
                        btn.className = 'subsection-bookmark';
                        btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" /></svg>`;
                        btn.title = 'Bookmark this section';

                        const sectionId = h3.id;
                        const sectionTitle = h3.textContent.trim();

                        // Update button state
                        const updateBtn = () => {
                            const isBookmarked = self.bookmarks.some(b => b.id === sectionId);
                            btn.classList.toggle('bookmarked', isBookmarked);
                            btn.querySelector('svg').setAttribute('fill', isBookmarked ? 'currentColor' : 'none');
                        };
                        updateBtn();

                        btn.addEventListener('click', () => {
                            self.toggleBookmark(sectionId, sectionTitle);
                            updateBtn();
                        });

                        // Create note button
                        const noteBtn = document.createElement('button');
                        noteBtn.className = 'note-button' + (self.notes[sectionId] ? ' has-note' : '');
                        noteBtn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" /></svg>`;
                        noteBtn.title = self.notes[sectionId] ? 'Edit note' : 'Add note';
                        noteBtn.dataset.sectionId = sectionId;
                        noteBtn.dataset.sectionTitle = sectionTitle;

                        noteBtn.addEventListener('click', () => {
                            self.toggleNoteEditor(sectionId, sectionTitle, wrapper, noteBtn);
                        });

                        // Wrap h3 and add buttons
                        h3.parentNode.insertBefore(wrapper, h3);
                        wrapper.appendChild(h3);
                        wrapper.appendChild(btn);
                        wrapper.appendChild(noteBtn);
                    });
                },
                get progressPercent() { return Math.round((this.completedDays.length / 14) * 100); },
                get week1Started() { return this.completedDays.some(d => d >= 1 && d <= 5); },
                get week1Complete() { return [1,2,3,4,5].every(d => this.completedDays.includes(d)); },
                get week2Started() { return this.completedDays.some(d => d >= 6 && d <= 10); },
                get week2Complete() { return [6,7,8,9,10].every(d => this.completedDays.includes(d)); },
                get week3Started() { return this.completedDays.some(d => d >= 11 && d <= 14); },
                get week3Complete() { return [11,12,13,14].every(d => this.completedDays.includes(d)); },
                toggleDarkMode() { this.darkMode = !this.darkMode; localStorage.setItem('tutorial-dark-mode', this.darkMode); },
                toggleDay(day) {
                    const index = this.completedDays.indexOf(day);
                    if (index > -1) {
                        this.completedDays.splice(index, 1);
                    } else {
                        this.completedDays.push(day);
                        this.celebrate(day);
                    }
                    localStorage.setItem('tutorial-completed-days', JSON.stringify(this.completedDays));
                },
                celebrate(day) {
                    const self = this;
                    const scrollPosition = window.scrollY;
                    const dayName = this.getDayDisplayName(day);
                    const completedCount = this.completedDays.length;
                    const progressPercent = Math.round((completedCount / 14) * 100);

                    // Create celebration overlay
                    const overlay = document.createElement('div');
                    overlay.className = 'celebration-overlay';
                    overlay.innerHTML = `
                        <div class="celebration-modal">
                            <div class="celebration-sparkles">
                                ${Array.from({length: 12}, (_, i) =>
                                    `<div class="celebration-sparkle" style="left: ${10 + Math.random() * 80}%; top: ${10 + Math.random() * 80}%; animation-delay: ${i * 0.15}s;"></div>`
                                ).join('')}
                            </div>
                            <div class="celebration-icon">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                </svg>
                            </div>
                            <div class="celebration-title">Congratulations!</div>
                            <div class="celebration-day">You completed ${dayName}</div>
                            <div class="celebration-progress">
                                <div class="celebration-progress-ring">
                                    <svg width="50" height="50">
                                        <defs>
                                            <linearGradient id="progress-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                                <stop offset="0%" stop-color="#6366f1"/>
                                                <stop offset="100%" stop-color="#10b981"/>
                                            </linearGradient>
                                        </defs>
                                        <circle class="bg" cx="25" cy="25" r="20"></circle>
                                        <circle class="progress" cx="25" cy="25" r="20"
                                            stroke-dasharray="${2 * Math.PI * 20}"
                                            stroke-dashoffset="${2 * Math.PI * 20 * (1 - progressPercent / 100)}">
                                        </circle>
                                    </svg>
                                </div>
                                <div class="celebration-progress-text">
                                    <div class="celebration-progress-count">${completedCount} of 14</div>
                                    <div class="celebration-progress-label">days complete</div>
                                </div>
                            </div>
                            <button class="celebration-btn" onclick="this.closest('.celebration-overlay').dataset.continue = 'true'">
                                Continue Learning
                            </button>
                        </div>
                    `;
                    document.body.appendChild(overlay);

                    // Add confetti
                    this.spawnConfetti();

                    // Handle continue
                    const handleContinue = () => {
                        overlay.style.animation = 'fade-in 0.3s ease-out reverse';
                        setTimeout(() => {
                            overlay.remove();
                            self.showCompletedInJourney(day, scrollPosition);
                        }, 300);
                    };

                    // Continue on button click or after 4 seconds
                    const checkContinue = setInterval(() => {
                        if (overlay.dataset.continue === 'true') {
                            clearInterval(checkContinue);
                            clearTimeout(autoTimeout);
                            handleContinue();
                        }
                    }, 100);

                    const autoTimeout = setTimeout(() => {
                        clearInterval(checkContinue);
                        handleContinue();
                    }, 4000);

                    // Also allow clicking overlay background to continue
                    overlay.addEventListener('click', (e) => {
                        if (e.target === overlay) {
                            overlay.dataset.continue = 'true';
                        }
                    });
                },
                spawnConfetti() {
                    const container = document.createElement('div');
                    container.className = 'confetti-container';
                    document.body.appendChild(container);
                    const colors = ['#6366f1', '#8b5cf6', '#10b981', '#f59e0b', '#ef4444', '#ec4899'];
                    for (let i = 0; i < 80; i++) {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * 100 + '%';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.animationDelay = Math.random() * 0.5 + 's';
                        confetti.style.transform = 'rotate(' + Math.random() * 360 + 'deg)';
                        if (Math.random() > 0.5) {
                            confetti.style.borderRadius = '50%';
                        }
                        container.appendChild(confetti);
                    }
                    setTimeout(() => container.remove(), 3500);
                },
                getDayDisplayName(day) {
                    if (day === 11 || day === 12) return 'Days 11-12: Documentation';
                    if (day === 13 || day === 14) return 'Days 13-14: Final Testing & Release';
                    return `Day ${day}: ${this.dayTitles[day] || ''}`;
                },
                showCompletedInJourney(day, originalScroll) {
                    // Find and highlight the completed day circle (no scrolling)
                    let dayCircle;
                    if (day === 11 || day === 12) {
                        dayCircle = document.querySelector('a[href="#day-11-12"] .day-circle');
                    } else if (day === 13 || day === 14) {
                        dayCircle = document.querySelector('a[href="#day-13-14"] .day-circle');
                    } else {
                        dayCircle = document.querySelector(`a[href="#day-${day}"] .day-circle`);
                    }

                    if (dayCircle) {
                        dayCircle.classList.add('just-completed');
                        setTimeout(() => dayCircle.classList.remove('just-completed'), 1000);
                    }
                },
                saveChecklist(id, checked) { this.checklist[id] = checked; localStorage.setItem('tutorial-checklist', JSON.stringify(this.checklist)); },
                toggleBookmark(id, title) {
                    const index = this.bookmarks.findIndex(b => b.id === id);
                    if (index > -1) { this.bookmarks.splice(index, 1); } else { this.bookmarks.push({ id, title }); }
                    localStorage.setItem('tutorial-bookmarks', JSON.stringify(this.bookmarks));
                },
                removeBookmark(id) { this.bookmarks = this.bookmarks.filter(b => b.id !== id); localStorage.setItem('tutorial-bookmarks', JSON.stringify(this.bookmarks)); },
                isBookmarked(id) { return this.bookmarks.some(b => b.id === id); },

                // Note methods
                toggleNoteEditor(sectionId, sectionTitle, wrapper, noteBtn) {
                    const self = this;
                    const existingEditor = wrapper.querySelector('.note-editor');

                    // If editor already open, close it
                    if (existingEditor) {
                        existingEditor.remove();
                        this.editingNoteId = null;
                        return;
                    }

                    // Close any other open editors
                    document.querySelectorAll('.note-editor').forEach(ed => ed.remove());
                    this.editingNoteId = sectionId;

                    // Create editor
                    const editor = document.createElement('div');
                    editor.className = 'note-editor';
                    const existingNote = this.notes[sectionId]?.content || '';
                    editor.innerHTML = `
                        <textarea placeholder="Add your note here...">${existingNote}</textarea>
                        <div class="note-editor-buttons">
                            ${this.notes[sectionId] ? '<button class="note-btn note-btn-delete">Delete</button>' : ''}
                            <button class="note-btn note-btn-cancel">Cancel</button>
                            <button class="note-btn note-btn-save">Save</button>
                        </div>
                    `;

                    // Event handlers
                    const textarea = editor.querySelector('textarea');
                    const saveBtn = editor.querySelector('.note-btn-save');
                    const cancelBtn = editor.querySelector('.note-btn-cancel');
                    const deleteBtn = editor.querySelector('.note-btn-delete');

                    saveBtn.addEventListener('click', () => {
                        const content = textarea.value.trim();
                        if (content) {
                            self.saveNote(sectionId, sectionTitle, content);
                            noteBtn.classList.add('has-note');
                            noteBtn.title = 'Edit note';
                        } else {
                            self.deleteNote(sectionId);
                            noteBtn.classList.remove('has-note');
                            noteBtn.title = 'Add note';
                        }
                        editor.remove();
                        self.editingNoteId = null;
                    });

                    cancelBtn.addEventListener('click', () => {
                        editor.remove();
                        self.editingNoteId = null;
                    });

                    if (deleteBtn) {
                        deleteBtn.addEventListener('click', () => {
                            self.deleteNote(sectionId);
                            noteBtn.classList.remove('has-note');
                            noteBtn.title = 'Add note';
                            editor.remove();
                            self.editingNoteId = null;
                        });
                    }

                    wrapper.appendChild(editor);
                    textarea.focus();
                },
                saveNote(sectionId, sectionTitle, content) {
                    this.notes[sectionId] = { title: sectionTitle, content: content, timestamp: Date.now() };
                    localStorage.setItem('tutorial-notes', JSON.stringify(this.notes));
                },
                deleteNote(sectionId) {
                    delete this.notes[sectionId];
                    localStorage.setItem('tutorial-notes', JSON.stringify(this.notes));
                },
                get notesCount() {
                    return Object.keys(this.notes).length;
                },
                get notesList() {
                    return Object.entries(this.notes).map(([id, note]) => {
                        // Extract parent section from ID for context (e.g., "day-1-verify-your-output" -> "Day 1")
                        let parentContext = '';
                        const dayMatch = id.match(/^day-(\d+)/);
                        if (dayMatch) {
                            parentContext = `Day ${dayMatch[1]}: `;
                        } else if (id.startsWith('overview')) {
                            parentContext = 'Overview: ';
                        } else if (id.startsWith('appendix')) {
                            parentContext = 'Appendix: ';
                        }
                        return {
                            id,
                            title: note.title,
                            displayTitle: parentContext + note.title,
                            content: note.content,
                            timestamp: note.timestamp
                        };
                    }).sort((a, b) => b.timestamp - a.timestamp);
                },
                navigateToNote(sectionId) {
                    this.showNotesPanel = false;
                    const element = document.getElementById(sectionId);
                    if (element) {
                        element.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        element.classList.add('section-highlight');
                        setTimeout(() => element.classList.remove('section-highlight'), 2000);
                    }
                },
                deleteNoteFromPanel(sectionId) {
                    this.deleteNote(sectionId);
                    // Update the note button in the DOM
                    const noteBtn = document.querySelector(`[data-section-id="${sectionId}"]`);
                    if (noteBtn) {
                        noteBtn.classList.remove('has-note');
                        noteBtn.title = 'Add note';
                    }
                },
                copyNoteContent(content, event) {
                    const btn = event.currentTarget;
                    navigator.clipboard.writeText(content).then(() => {
                        // Visual feedback
                        btn.classList.add('copied');
                        const originalTitle = btn.title;
                        btn.title = 'Copied!';
                        // Change icon to checkmark temporarily
                        const originalSvg = btn.innerHTML;
                        btn.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>`;
                        setTimeout(() => {
                            btn.classList.remove('copied');
                            btn.title = originalTitle;
                            btn.innerHTML = originalSvg;
                        }, 1500);
                    });
                },

                resetProgress() {
                    if (confirm('Reset all progress? This will also delete all your notes.')) {
                        this.completedDays = []; this.checklist = {}; this.bookmarks = []; this.notes = {};
                        localStorage.removeItem('tutorial-completed-days');
                        localStorage.removeItem('tutorial-checklist');
                        localStorage.removeItem('tutorial-bookmarks');
                        localStorage.removeItem('tutorial-notes');
                    }
                }
            };
        }
    </script>
</body>
</html>
